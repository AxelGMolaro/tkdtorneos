import{$ as V,$a as z4,$b as Qc,A as kc,Aa as pt,Ab as E4,B as _4,Ba as re,Bb as oi,C as E1,Ca as jc,Cb as ai,D as Pc,Da as Ve,Db as j,E as y4,Ea as H7,Eb as li,F as We,Fa as w4,Fb as C2,G as Dc,Ga as W7,Gb as Se,H as yn,Ha as Ft,Hb as ui,I as Y2,Ia as X2,Ib as r9,J as Oc,Ja as si,Jb as T4,K as Fc,Ka as Cn,Kb as c9,L as Ct,La as Ln,Lb as Gc,M as D7,Ma as G7,Mb as S4,N as ni,Na as K7,Nb as Tn,O as vn,Oa as Y7,Ob as x4,P as Q2,Pa as Q7,Pb as o9,Q as Vc,Qa as X7,Qb as a9,R as O7,Ra as J7,Rb as S1,S as F7,Sa as Z7,Sb as l9,T as v4,Ta as T1,Tb as A4,U as C4,Ua as e9,Ub as Kc,V as y2,Va as ri,Vb as u9,W as mt,Wa as Z,Wb as Yc,X as Yt,Xa as H,Xb as h9,Y as je,Ya as b4,Yb as d9,Z as V7,Za as ci,Zb as ie,_ as we,_a as t9,_b as f9,a as I,aa as be,ab as I4,ac as m9,b as Q,ba as U7,bb as qc,bc as p9,ca as B,cb as Mn,cc as L2,d as G2,da as Uc,db as $c,dc as N4,e as C,ea as T,eb as Hc,ec as g9,f as I1,fa as P,fb as Xt,fc as _9,g as R7,ga as B7,gb as n9,gc as R4,h as ht,ha as Dt,hb as i9,hc as y9,i as Ac,ia as j7,ib as Wc,ic as k4,j as Nc,ja as L4,jb as Pe,k as ge,ka as ii,kb as s9,l as Ye,la as Ee,lb as J2,m as k7,ma as ze,mb as Jt,n as m4,na as Ge,nb as wn,o as K2,oa as Lt,ob as ft,p as p4,pa as q7,pb as bn,q as ei,qa as v2,qb as Te,r as Rc,ra as xt,rb as O,s as dt,sa as $7,sb as D,t as X,ta as Ot,tb as Mt,u as ti,ua as le,ub as he,v as g4,va as ue,vb as zn,w as P7,wa as Qt,wb as Y,x as fe,xa as Fe,xb as te,y as _n,ya as Bc,yb as In,z as vt,za as M4,zb as En}from"./chunk-LMX3HBYU.js";var di=class{},D4=class{},M2=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let s=t.slice(0,i),r=s.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(c):this.headers.set(r,[c])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let s=(e.op==="a"?this.headers.get(t):void 0)||[];s.push(...i),this.headers.set(t,s);break;case"d":let r=e.value;if(!r)this.headers.delete(t),this.normalizedNames.delete(t);else{let c=this.headers.get(t);if(!c)return;c=c.filter(a=>r.indexOf(a)===-1),c.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(r=>r.toString()),s=e.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Jc=class{encodeKey(e){return v9(e)}encodeValue(e){return v9(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function s_(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{let r=s.indexOf("="),[c,a]=r==-1?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,r)),e.decodeValue(s.slice(r+1))],l=t.get(c)||[];l.push(a),t.set(c,l)}),t}var r_=/%(\d[a-f0-9])/gi,c_={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function v9(n){return encodeURIComponent(n).replace(r_,(e,t)=>c_[t]??e)}function P4(n){return`${n}`}var e1=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Jc,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=s_(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],s=Array.isArray(i)?i.map(P4):[P4(i)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let s=e[i];Array.isArray(s)?s.forEach(r=>{t.push({param:i,value:r,op:"a"})}):t.push({param:i,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(P4(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],s=i.indexOf(P4(e.value));s!==-1&&i.splice(s,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Zc=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function o_(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function C9(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function L9(n){return typeof Blob<"u"&&n instanceof Blob}function M9(n){return typeof FormData<"u"&&n instanceof FormData}function a_(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var hi=class n{constructor(e,t,i,s){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let r;if(o_(this.method)||s?(this.body=i!==void 0?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new M2,this.context??=new Zc,!this.params)this.params=new e1,this.urlWithParams=t;else{let c=this.params.toString();if(c.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+c}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||C9(this.body)||L9(this.body)||M9(this.body)||a_(this.body)?this.body:this.body instanceof e1?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||M9(this.body)?null:L9(this.body)?this.body.type||null:C9(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof e1?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,r=e.transferCache??this.transferCache,c=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,h=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((_,b)=>_.set(b,e.setHeaders[b]),h)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,b)=>_.set(b,e.setParams[b]),f)),new n(t,i,c,{params:f,headers:h,context:p,reportProgress:l,responseType:s,withCredentials:a,transferCache:r})}},t1=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(t1||{}),fi=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new M2,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},O4=class n extends fi{constructor(e={}){super(e),this.type=t1.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},mi=class n extends fi{constructor(e={}){super(e),this.type=t1.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Z2=class extends fi{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},E9=200,l_=204;function Xc(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var u_=(()=>{class n{constructor(t){this.handler=t}request(t,i,s={}){let r;if(t instanceof hi)r=t;else{let l;s.headers instanceof M2?l=s.headers:l=new M2(s.headers);let h;s.params&&(s.params instanceof e1?h=s.params:h=new e1({fromObject:s.params})),r=new hi(t,i,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let c=X(r).pipe(Y2(l=>this.handler.handle(l)));if(t instanceof hi||s.observe==="events")return c;let a=c.pipe(We(l=>l instanceof mi));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(fe(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(fe(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(fe(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(fe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new e1().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,s={}){return this.request("PATCH",t,Xc(s,i))}post(t,i,s={}){return this.request("POST",t,Xc(s,i))}put(t,i,s={}){return this.request("PUT",t,Xc(s,i))}static{this.\u0275fac=function(i){return new(i||n)(T(di))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),h_=/^\)\]\}',?\n/,d_="X-Request-URL";function w9(n){if(n.url)return n.url;let e=d_.toLocaleLowerCase();return n.headers.get(e)}var f_=(()=>{class n{constructor(){this.fetchImpl=P(eo,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=P(re)}handle(t){return new ht(i=>{let s=new AbortController;return this.doRequest(t,s.signal,i).then(to,r=>i.error(new Z2({error:r}))),()=>s.abort()})}doRequest(t,i,s){return C(this,null,function*(){let r=this.createRequestInit(t),c;try{let b=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,I({signal:i},r)));m_(b),s.next({type:t1.Sent}),c=yield b}catch(b){s.error(new Z2({error:b,status:b.status??0,statusText:b.statusText,url:t.urlWithParams,headers:b.headers}));return}let a=new M2(c.headers),l=c.statusText,h=w9(c)??t.urlWithParams,f=c.status,p=null;if(t.reportProgress&&s.next(new O4({headers:a,status:f,statusText:l,url:h})),c.body){let b=c.headers.get("content-length"),A=[],N=c.body.getReader(),x=0,$,W,U=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>C(this,null,function*(){for(;;){let{done:Ce,value:de}=yield N.read();if(Ce)break;if(A.push(de),x+=de.length,t.reportProgress){W=t.responseType==="text"?(W??"")+($??=new TextDecoder).decode(de,{stream:!0}):void 0;let M=()=>s.next({type:t1.DownloadProgress,total:b?+b:void 0,loaded:x,partialText:W});U?U.run(M):M()}}}));let ae=this.concatChunks(A,x);try{let Ce=c.headers.get("Content-Type")??"";p=this.parseBody(t,ae,Ce)}catch(Ce){s.error(new Z2({error:Ce,headers:new M2(c.headers),status:c.status,statusText:c.statusText,url:w9(c)??t.urlWithParams}));return}}f===0&&(f=p?E9:0),f>=200&&f<300?(s.next(new mi({body:p,headers:a,status:f,statusText:l,url:h})),s.complete()):s.error(new Z2({error:p,headers:a,status:f,statusText:l,url:h}))})}parseBody(t,i,s){switch(t.responseType){case"json":let r=new TextDecoder().decode(i).replace(h_,"");return r===""?null:JSON.parse(r);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},s=t.withCredentials?"include":void 0;if(t.headers.forEach((r,c)=>i[r]=c.join(",")),t.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let r=t.detectContentTypeHeader();r!==null&&(i["Content-Type"]=r)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:s}}concatChunks(t,i){let s=new Uint8Array(i),r=0;for(let c of t)s.set(c,r),r+=c.length;return s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),eo=class{};function to(){}function m_(n){n.then(to,to)}function p_(n,e){return e(n)}function g_(n,e,t){return(i,s)=>xt(t,()=>e(i,r=>n(r,s)))}var T9=new B(""),__=new B(""),y_=new B("",{providedIn:"root",factory:()=>!0});var b9=(()=>{class n extends di{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=P(M4),this.contributeToStability=P(y_)}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(T9),...this.injector.get(__,[])]));this.chain=i.reduceRight((s,r)=>g_(s,r,this.injector),p_)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(vn(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)(T(D4),T(v2))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();var v_=/^\)\]\}',?\n/;function C_(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var z9=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new we(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?dt(i.\u0275loadImpl()):X(null)).pipe(mt(()=>new ht(r=>{let c=i.build();if(c.open(t.method,t.urlWithParams),t.withCredentials&&(c.withCredentials=!0),t.headers.forEach((N,x)=>c.setRequestHeader(N,x.join(","))),t.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let N=t.detectContentTypeHeader();N!==null&&c.setRequestHeader("Content-Type",N)}if(t.responseType){let N=t.responseType.toLowerCase();c.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),l=null,h=()=>{if(l!==null)return l;let N=c.statusText||"OK",x=new M2(c.getAllResponseHeaders()),$=C_(c)||t.url;return l=new O4({headers:x,status:c.status,statusText:N,url:$}),l},f=()=>{let{headers:N,status:x,statusText:$,url:W}=h(),U=null;x!==l_&&(U=typeof c.response>"u"?c.responseText:c.response),x===0&&(x=U?E9:0);let ae=x>=200&&x<300;if(t.responseType==="json"&&typeof U=="string"){let Ce=U;U=U.replace(v_,"");try{U=U!==""?JSON.parse(U):null}catch(de){U=Ce,ae&&(ae=!1,U={error:de,text:U})}}ae?(r.next(new mi({body:U,headers:N,status:x,statusText:$,url:W||void 0})),r.complete()):r.error(new Z2({error:U,headers:N,status:x,statusText:$,url:W||void 0}))},p=N=>{let{url:x}=h(),$=new Z2({error:N,status:c.status||0,statusText:c.statusText||"Unknown Error",url:x||void 0});r.error($)},_=!1,b=N=>{_||(r.next(h()),_=!0);let x={type:t1.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(x.total=N.total),t.responseType==="text"&&c.responseText&&(x.partialText=c.responseText),r.next(x)},A=N=>{let x={type:t1.UploadProgress,loaded:N.loaded};N.lengthComputable&&(x.total=N.total),r.next(x)};return c.addEventListener("load",f),c.addEventListener("error",p),c.addEventListener("timeout",p),c.addEventListener("abort",p),t.reportProgress&&(c.addEventListener("progress",b),a!==null&&c.upload&&c.upload.addEventListener("progress",A)),c.send(a),r.next({type:t1.Sent}),()=>{c.removeEventListener("error",p),c.removeEventListener("abort",p),c.removeEventListener("load",f),c.removeEventListener("timeout",p),t.reportProgress&&(c.removeEventListener("progress",b),a!==null&&c.upload&&c.upload.removeEventListener("progress",A)),c.readyState!==c.DONE&&c.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(T(k4))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),S9=new B(""),L_="XSRF-TOKEN",M_=new B("",{providedIn:"root",factory:()=>L_}),w_="X-XSRF-TOKEN",b_=new B("",{providedIn:"root",factory:()=>w_}),F4=class{},z_=(()=>{class n{constructor(t,i,s){this.doc=t,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=N4(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(T(ie),T(Ft),T(M_))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();function I_(n,e){let t=n.url.toLowerCase();if(!P(S9)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=P(F4).getToken(),s=P(b_);return i!=null&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,i)})),e(n)}function x9(...n){let e=[u_,z9,b9,{provide:di,useExisting:b9},{provide:D4,useFactory:()=>P(f_,{optional:!0})??P(z9)},{provide:T9,useValue:I_,multi:!0},{provide:S9,useValue:!0},{provide:F4,useClass:z_}];for(let t of n)e.push(...t.\u0275providers);return Lt(e)}var so=class extends d9{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ro=class n extends so{static makeCurrent(){h9(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=E_();return t==null?null:T_(t)}resetBaseElement(){pi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return N4(document.cookie,e)}},pi=null;function E_(){return pi=pi||document.querySelector("base"),pi?pi.getAttribute("href"):null}function T_(n){return new URL(n,document.baseURI).pathname}var S_=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),co=new B(""),R9=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(r=>r.supports(t)),!i)throw new we(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(T(co),T(re))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),V4=class{constructor(e){this._doc=e}},no="ng-app-id",k9=(()=>{class n{constructor(t,i,s,r={}){this.doc=t,this.appId=i,this.nonce=s,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=R4(r),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(s=>s.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${no}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(t,i){let s=this.styleRef;if(s.has(t)){let r=s.get(t);return r.usage+=i,r.usage}return s.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let s=this.styleNodesInDOM,r=s?.get(i);if(r?.parentNode===t)return s.delete(i),r.removeAttribute(no),r;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(no,this.appId),t.appendChild(c),c}}addStyleToHost(t,i){let s=this.getStyleElement(t,i),r=this.styleRef,c=r.get(i)?.elements;c?c.push(s):r.set(i,{elements:[s],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(T(ie),T(w4),T(si,8),T(Ft))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),io={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ao=/%COMP%/g,P9="%COMP%",x_=`_nghost-${P9}`,A_=`_ngcontent-${P9}`,N_=!0,R_=new B("",{providedIn:"root",factory:()=>N_});function k_(n){return A_.replace(ao,n)}function P_(n){return x_.replace(ao,n)}function D9(n,e){return e.map(t=>t.replace(ao,n))}var U4=(()=>{class n{constructor(t,i,s,r,c,a,l,h=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=r,this.doc=c,this.platformId=a,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=R4(a),this.defaultRenderer=new gi(t,c,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ii.ShadowDom&&(i=Q(I({},i),{encapsulation:ii.Emulated}));let s=this.getOrCreateRenderer(t,i);return s instanceof B4?s.applyToHost(t):s instanceof _i&&s.applyStyles(),s}getOrCreateRenderer(t,i){let s=this.rendererByCompId,r=s.get(i.id);if(!r){let c=this.doc,a=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case ii.Emulated:r=new B4(l,h,i,this.appId,f,c,a,p);break;case ii.ShadowDom:return new oo(l,h,t,i,c,a,this.nonce,p);default:r=new _i(l,h,i,f,c,a,p);break}s.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(T(R9),T(k9),T(w4),T(R_),T(ie),T(Ft),T(re),T(si))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),gi=class{constructor(e,t,i,s){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(io[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(A9(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(A9(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new we(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,s){if(s){t=s+":"+t;let r=io[s];r?e.setAttributeNS(r,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let s=io[i];s?e.removeAttributeNS(s,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,s){s&(ri.DashCase|ri.Important)?e.style.setProperty(t,i,s&ri.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ri.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=Yc().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function A9(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var oo=class extends gi{constructor(e,t,i,s,r,c,a,l){super(e,r,c,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=D9(s.id,s.styles);for(let f of h){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},_i=class extends gi{constructor(e,t,i,s,r,c,a,l){super(e,r,c,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=l?D9(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},B4=class extends _i{constructor(e,t,i,s,r,c,a,l){let h=s+"-"+i.id;super(e,t,i,r,c,a,l,h),this.contentAttr=k_(h),this.hostAttr=P_(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},D_=(()=>{class n extends V4{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}static{this.\u0275fac=function(i){return new(i||n)(T(ie))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),N9=["alt","control","meta","shift"],O_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F_={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},V_=(()=>{class n extends V4{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,s){let r=n.parseEventName(i),c=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yc().onAndCancel(t,r.domEventName,c))}static parseEventName(t){let i=t.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let r=n._normalizeKey(i.pop()),c="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),c="code."),N9.forEach(h=>{let f=i.indexOf(h);f>-1&&(i.splice(f,1),c+=h+".")}),c+=r,i.length!=0||r.length===0)return null;let l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(t,i){let s=O_[t.key]||t.key,r="";return i.indexOf("code.")>-1&&(s=t.code,r="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),N9.forEach(c=>{if(c!==s){let a=F_[c];a(t)&&(r+=c+".")}}),r+=s,r===i)}static eventCallback(t,i,s){return r=>{n.matchEventFullKeyCode(r,t)&&s.runGuarded(()=>i(r))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(T(ie))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();function O9(n,e){return l9(I({rootComponent:n},U_(e)))}function U_(n){return{appProviders:[...H_,...n?.providers??[]],platformProviders:$_}}function B_(){ro.makeCurrent()}function j_(){return new jc}function q_(){return H7(document),document}var $_=[{provide:Ft,useValue:g9},{provide:W7,useValue:B_,multi:!0},{provide:ie,useFactory:q_,deps:[]}];var H_=[{provide:q7,useValue:"root"},{provide:jc,useFactory:j_,deps:[]},{provide:co,useClass:D_,multi:!0,deps:[ie,re,Ft]},{provide:co,useClass:V_,multi:!0,deps:[ie]},U4,k9,R9,{provide:I4,useExisting:U4},{provide:k4,useClass:S_,deps:[]},[]];var F9=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(T(ie))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var lo=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:function(i){let s=null;return i?s=new(i||n):s=T(W_),s},providedIn:"root"})}}return n})(),W_=(()=>{class n extends lo{constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case T1.NONE:return i;case T1.HTML:return Ln(i,"HTML")?Cn(i):Z7(this._doc,String(i)).toString();case T1.STYLE:return Ln(i,"Style")?Cn(i):i;case T1.SCRIPT:if(Ln(i,"Script"))return Cn(i);throw new we(5200,!1);case T1.URL:return Ln(i,"URL")?Cn(i):J7(String(i));case T1.RESOURCE_URL:if(Ln(i,"ResourceURL"))return Cn(i);throw new we(5201,!1);default:throw new we(5202,!1)}}bypassSecurityTrustHtml(t){return G7(t)}bypassSecurityTrustStyle(t){return K7(t)}bypassSecurityTrustScript(t){return Y7(t)}bypassSecurityTrustUrl(t){return Q7(t)}bypassSecurityTrustResourceUrl(t){return X7(t)}static{this.\u0275fac=function(i){return new(i||n)(T(ie))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var oe="primary",ki=Symbol("RouteTitle"),po=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function kn(n){return new po(n)}function G_(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let s={};for(let r=0;r<i.length;r++){let c=i[r],a=n[r];if(c[0]===":")s[c.substring(1)]=a;else if(c!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function K_(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zt(n[t],e[t]))return!1;return!0}function Zt(n,e){let t=n?go(n):void 0,i=e?go(e):void 0;if(!t||!i||t.length!=i.length)return!1;let s;for(let r=0;r<t.length;r++)if(s=t[r],!Q9(n[s],e[s]))return!1;return!0}function go(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Q9(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((s,r)=>i[r]===s)}else return n===e}function X9(n){return n.length>0?n[n.length-1]:null}function i1(n){return g4(n)?n:c9(n)?dt(Promise.resolve(n)):X(n)}var Y_={exact:Z9,subset:eu},J9={exact:Q_,subset:X_,ignored:()=>!0};function U9(n,e,t){return Y_[t.paths](n.root,e.root,t.matrixParams)&&J9[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Q_(n,e){return Zt(n,e)}function Z9(n,e,t){if(!A1(n.segments,e.segments)||!$4(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!Z9(n.children[i],e.children[i],t))return!1;return!0}function X_(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Q9(n[t],e[t]))}function eu(n,e,t){return tu(n,e,e.segments,t)}function tu(n,e,t,i){if(n.segments.length>t.length){let s=n.segments.slice(0,t.length);return!(!A1(s,t)||e.hasChildren()||!$4(s,t,i))}else if(n.segments.length===t.length){if(!A1(n.segments,t)||!$4(n.segments,t,i))return!1;for(let s in e.children)if(!n.children[s]||!eu(n.children[s],e.children[s],i))return!1;return!0}else{let s=t.slice(0,n.segments.length),r=t.slice(n.segments.length);return!A1(n.segments,s)||!$4(n.segments,s,i)||!n.children[oe]?!1:tu(n.children[oe],e,r,i)}}function $4(n,e,t){return e.every((i,s)=>J9[t](n[s].parameters,i.parameters))}var b2=class{constructor(e=new Le([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=kn(this.queryParams),this._queryParamMap}toString(){return ey.serialize(this)}},Le=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return H4(this)}},x1=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=kn(this.parameters),this._parameterMap}toString(){return iu(this)}};function J_(n,e){return A1(n,e)&&n.every((t,i)=>Zt(t.parameters,e[i].parameters))}function A1(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function Z_(n,e){let t=[];return Object.entries(n.children).forEach(([i,s])=>{i===oe&&(t=t.concat(e(s,i)))}),Object.entries(n.children).forEach(([i,s])=>{i!==oe&&(t=t.concat(e(s,i)))}),t}var Pi=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>new Pn,providedIn:"root"})}}return n})(),Pn=class{parse(e){let t=new yo(e);return new b2(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${yi(e.root,!0)}`,i=iy(e.queryParams),s=typeof e.fragment=="string"?`#${ty(e.fragment)}`:"";return`${t}${i}${s}`}},ey=new Pn;function H4(n){return n.segments.map(e=>iu(e)).join("/")}function yi(n,e){if(!n.hasChildren())return H4(n);if(e){let t=n.children[oe]?yi(n.children[oe],!1):"",i=[];return Object.entries(n.children).forEach(([s,r])=>{s!==oe&&i.push(`${s}:${yi(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=Z_(n,(i,s)=>s===oe?[yi(n.children[oe],!1)]:[`${s}:${yi(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${H4(n)}/${t[0]}`:`${H4(n)}/(${t.join("//")})`}}function nu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function j4(n){return nu(n).replace(/%3B/gi,";")}function ty(n){return encodeURI(n)}function _o(n){return nu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function W4(n){return decodeURIComponent(n)}function B9(n){return W4(n.replace(/\+/g,"%20"))}function iu(n){return`${_o(n.path)}${ny(n.parameters)}`}function ny(n){return Object.entries(n).map(([e,t])=>`;${_o(e)}=${_o(t)}`).join("")}function iy(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(s=>`${j4(t)}=${j4(s)}`).join("&"):`${j4(t)}=${j4(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var sy=/^[^\/()?;#]+/;function uo(n){let e=n.match(sy);return e?e[0]:""}var ry=/^[^\/()?;=#]+/;function cy(n){let e=n.match(ry);return e?e[0]:""}var oy=/^[^=?&#]+/;function ay(n){let e=n.match(oy);return e?e[0]:""}var ly=/^[^&#]+/;function uy(n){let e=n.match(ly);return e?e[0]:""}var yo=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[oe]=new Le(e,t)),i}parseSegment(){let e=uo(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new we(4009,!1);return this.capture(e),new x1(W4(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=cy(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=uo(this.remaining);s&&(i=s,this.capture(i))}e[W4(t)]=W4(i)}parseQueryParam(e){let t=ay(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let c=uy(this.remaining);c&&(i=c,this.capture(i))}let s=B9(t),r=B9(i);if(e.hasOwnProperty(s)){let c=e[s];Array.isArray(c)||(c=[c],e[s]=c),c.push(r)}else e[s]=r}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=uo(this.remaining),s=this.remaining[i.length];if(s!=="/"&&s!==")"&&s!==";")throw new we(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=oe);let c=this.parseChildren();t[r]=Object.keys(c).length===1?c[oe]:new Le([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new we(4011,!1)}};function su(n){return n.segments.length>0?new Le([],{[oe]:n}):n}function ru(n){let e={};for(let[i,s]of Object.entries(n.children)){let r=ru(s);if(i===oe&&r.segments.length===0&&r.hasChildren())for(let[c,a]of Object.entries(r.children))e[c]=a;else(r.segments.length>0||r.hasChildren())&&(e[i]=r)}let t=new Le(n.segments,e);return hy(t)}function hy(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new Le(n.segments.concat(e.segments),e.children)}return n}function bi(n){return n instanceof b2}function dy(n,e,t=null,i=null){let s=cu(n);return ou(s,e,t,i)}function cu(n){let e;function t(r){let c={};for(let l of r.children){let h=t(l);c[l.outlet]=h}let a=new Le(r.url,c);return r===n&&(e=a),a}let i=t(n.root),s=su(i);return e??s}function ou(n,e,t,i){let s=n;for(;s.parent;)s=s.parent;if(e.length===0)return ho(s,s,s,t,i);let r=fy(e);if(r.toRoot())return ho(s,s,new Le([],{}),t,i);let c=my(r,s,n),a=c.processChildren?Li(c.segmentGroup,c.index,r.commands):lu(c.segmentGroup,c.index,r.commands);return ho(s,c.segmentGroup,a,t,i)}function G4(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function zi(n){return typeof n=="object"&&n!=null&&n.outlets}function ho(n,e,t,i,s){let r={};i&&Object.entries(i).forEach(([l,h])=>{r[l]=Array.isArray(h)?h.map(f=>`${f}`):`${h}`});let c;n===e?c=t:c=au(n,e,t);let a=su(ru(c));return new b2(a,r,s)}function au(n,e,t){let i={};return Object.entries(n.children).forEach(([s,r])=>{r===e?i[s]=t:i[s]=au(r,e,t)}),new Le(n.segments,i)}var K4=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&G4(i[0]))throw new we(4003,!1);let s=i.find(zi);if(s&&s!==X9(i))throw new we(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fy(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new K4(!0,0,n);let e=0,t=!1,i=n.reduce((s,r,c)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([l,h])=>{a[l]=typeof h=="string"?h.split("/"):h}),[...s,{outlets:a}]}if(r.segmentPath)return[...s,r.segmentPath]}return typeof r!="string"?[...s,r]:c===0?(r.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&s.push(a))}),s):[...s,r]},[]);return new K4(t,e,i)}var An=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function my(n,e,t){if(n.isAbsolute)return new An(e,!0,0);if(!t)return new An(e,!1,NaN);if(t.parent===null)return new An(t,!0,0);let i=G4(n.commands[0])?0:1,s=t.segments.length-1+i;return py(t,s,n.numberOfDoubleDots)}function py(n,e,t){let i=n,s=e,r=t;for(;r>s;){if(r-=s,i=i.parent,!i)throw new we(4005,!1);s=i.segments.length}return new An(i,!1,s-r)}function gy(n){return zi(n[0])?n[0].outlets:{[oe]:n}}function lu(n,e,t){if(n??=new Le([],{}),n.segments.length===0&&n.hasChildren())return Li(n,e,t);let i=_y(n,e,t),s=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let r=new Le(n.segments.slice(0,i.pathIndex),{});return r.children[oe]=new Le(n.segments.slice(i.pathIndex),n.children),Li(r,0,s)}else return i.match&&s.length===0?new Le(n.segments,{}):i.match&&!n.hasChildren()?vo(n,e,t):i.match?Li(n,0,s):vo(n,e,t)}function Li(n,e,t){if(t.length===0)return new Le(n.segments,{});{let i=gy(t),s={};if(Object.keys(i).some(r=>r!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let r=Li(n.children[oe],e,t);return new Le(n.segments,r.children)}return Object.entries(i).forEach(([r,c])=>{typeof c=="string"&&(c=[c]),c!==null&&(s[r]=lu(n.children[r],e,c))}),Object.entries(n.children).forEach(([r,c])=>{i[r]===void 0&&(s[r]=c)}),new Le(n.segments,s)}}function _y(n,e,t){let i=0,s=e,r={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=t.length)return r;let c=n.segments[s],a=t[i];if(zi(a))break;let l=`${a}`,h=i<t.length-1?t[i+1]:null;if(s>0&&l===void 0)break;if(l&&h&&typeof h=="object"&&h.outlets===void 0){if(!q9(l,h,c))return r;i+=2}else{if(!q9(l,{},c))return r;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}function vo(n,e,t){let i=n.segments.slice(0,e),s=0;for(;s<t.length;){let r=t[s];if(zi(r)){let l=yy(r.outlets);return new Le(i,l)}if(s===0&&G4(t[0])){let l=n.segments[e];i.push(new x1(l.path,j9(t[0]))),s++;continue}let c=zi(r)?r.outlets[oe]:`${r}`,a=s<t.length-1?t[s+1]:null;c&&a&&G4(a)?(i.push(new x1(c,j9(a))),s+=2):(i.push(new x1(c,{})),s++)}return new Le(i,{})}function yy(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=vo(new Le([],{}),0,i))}),e}function j9(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function q9(n,e,t){return n==t.path&&Zt(e,t.parameters)}var Mi="imperative",Qe=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Qe||{}),At=class{constructor(e,t){this.id=e,this.url=t}},Dn=class extends At{constructor(e,t,i="imperative",s=null){super(e,t),this.type=Qe.NavigationStart,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},z2=class extends At{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(bt||{}),Y4=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Y4||{}),w2=class extends At{constructor(e,t,i,s){super(e,t),this.reason=i,this.code=s,this.type=Qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},n1=class extends At{constructor(e,t,i,s){super(e,t),this.reason=i,this.code=s,this.type=Qe.NavigationSkipped}},Ii=class extends At{constructor(e,t,i,s){super(e,t),this.error=i,this.target=s,this.type=Qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Q4=class extends At{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=Qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Co=class extends At{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=Qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lo=class extends At{constructor(e,t,i,s,r){super(e,t),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=r,this.type=Qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Mo=class extends At{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=Qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wo=class extends At{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=Qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bo=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zo=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Io=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eo=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},To=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},So=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},X4=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=Qe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ei=class{},On=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function vy(n,e){return n.providers&&!n._injector&&(n._injector=Wc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Vt(n){return n.outlet||oe}function Cy(n,e){let t=n.filter(i=>Vt(i)===e);return t.push(...n.filter(i=>Vt(i)!==e)),t}function Di(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var xo=class{get injector(){return Di(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Oi(this.rootInjector),this.attachRef=null}},Oi=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let s=this.getOrCreateContext(t);s.outlet=i,this.contexts.set(t,s)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new xo(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)(T(v2))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),J4=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ao(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=Ao(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=No(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return No(e,this._root).map(t=>t.value)}};function Ao(n,e){if(n===e.value)return e;for(let t of e.children){let i=Ao(n,t);if(i)return i}return null}function No(n,e){if(n===e.value)return[e];for(let t of e.children){let i=No(n,t);if(i.length)return i.unshift(e),i}return[]}var wt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function xn(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Z4=class extends J4{constructor(e,t){super(e),this.snapshot=t,jo(this,e)}toString(){return this.snapshot.toString()}};function uu(n){let e=Ly(n),t=new Ye([new x1("",{})]),i=new Ye({}),s=new Ye({}),r=new Ye({}),c=new Ye(""),a=new N1(t,i,r,c,s,oe,n,e.root);return a.snapshot=e.root,new Z4(new wt(a,[]),e)}function Ly(n){let e={},t={},i={},s="",r=new Nn([],e,i,s,t,oe,n,null,{});return new ts("",new wt(r,[]))}var N1=class{constructor(e,t,i,s,r,c,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=s,this.dataSubject=r,this.outlet=c,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(fe(h=>h[ki]))??X(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(fe(e=>kn(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(fe(e=>kn(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function es(n,e,t="emptyOnly"){let i,{routeConfig:s}=n;return e!==null&&(t==="always"||s?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:I(I({},e.params),n.params),data:I(I({},e.data),n.data),resolve:I(I(I(I({},n.data),e.data),s?.data),n._resolvedData)}:i={params:I({},n.params),data:I({},n.data),resolve:I(I({},n.data),n._resolvedData??{})},s&&du(s)&&(i.resolve[ki]=s.title),i}var Nn=class{get title(){return this.data?.[ki]}constructor(e,t,i,s,r,c,a,l,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=c,this.component=a,this.routeConfig=l,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=kn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=kn(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ts=class extends J4{constructor(e,t){super(t),this.url=e,jo(this,t)}toString(){return hu(this._root)}};function jo(n,e){e.value._routerState=n,e.children.forEach(t=>jo(n,t))}function hu(n){let e=n.children.length>0?` { ${n.children.map(hu).join(", ")} } `:"";return`${n.value}${e}`}function fo(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zt(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Zt(e.params,t.params)||n.paramsSubject.next(t.params),K_(e.url,t.url)||n.urlSubject.next(t.url),Zt(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ro(n,e){let t=Zt(n.params,e.params)&&J_(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||Ro(n.parent,e.parent))}function du(n){return typeof n.title=="string"||n.title===null}var qo=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new pt,this.deactivateEvents=new pt,this.attachEvents=new pt,this.detachEvents=new pt,this.parentContexts=P(Oi),this.location=P(Mn),this.changeDetector=P(S1),this.inputBinder=P(rs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:s}=t.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new we(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new we(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new we(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new we(4013,!1);this._activatedRoute=t;let s=this.location,c=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ko(t,a,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ot]})}}return n})(),ko=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===N1?this.route:e===Oi?this.childContexts:this.parent.get(e,t)}},rs=new B(""),$9=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,s=_n([i.queryParams,i.params,i.data]).pipe(mt(([r,c,a],l)=>(a=I(I(I({},r),c),a),l===0?X(a):Promise.resolve(a)))).subscribe(r=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let c=u9(i.component);if(!c){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of c.inputs)t.activatedComponentRef.setInput(a,r[a])});this.outletDataSubscriptions.set(t,s)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();function My(n,e,t){let i=Ti(n,e._root,t?t._root:void 0);return new Z4(i,e)}function Ti(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let s=wy(n,e,t);return new wt(i,s)}else{if(n.shouldAttach(e.value)){let r=n.retrieve(e.value);if(r!==null){let c=r.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(a=>Ti(n,a)),c}}let i=by(e.value),s=e.children.map(r=>Ti(n,r));return new wt(i,s)}}function wy(n,e,t){return e.children.map(i=>{for(let s of t.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return Ti(n,i,s);return Ti(n,i)})}function by(n){return new N1(new Ye(n.url),new Ye(n.params),new Ye(n.queryParams),new Ye(n.fragment),new Ye(n.data),n.outlet,n.component,n)}var Si=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},fu="ngNavigationCancelingError";function ns(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=bi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=mu(!1,bt.Redirect);return s.url=t,s.navigationBehaviorOptions=i,s}function mu(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[fu]=!0,t.cancellationCode=e,t}function zy(n){return pu(n)&&bi(n.url)}function pu(n){return!!n&&n[fu]}var Iy=(n,e,t,i)=>fe(s=>(new Po(e,s.targetRouterState,s.currentRouterState,t,i).activate(n),s)),Po=class{constructor(e,t,i,s,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=s,this.inputBindingEnabled=r}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),fo(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let s=xn(t);e.children.forEach(r=>{let c=r.value.outlet;this.deactivateRoutes(r,s[c],i),delete s[c]}),Object.values(s).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(e,t,i){let s=e.value,r=t?t.value:null;if(s===r)if(s.component){let c=i.getContext(s.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else r&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,r=xn(e);for(let c of Object.values(r))this.deactivateRouteAndItsChildren(c,s);if(i&&i.outlet){let c=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,r=xn(e);for(let c of Object.values(r))this.deactivateRouteAndItsChildren(c,s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let s=xn(t);e.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],i),this.forwardEvent(new So(r.value.snapshot))}),e.children.length&&this.forwardEvent(new Eo(e.value.snapshot))}activateRoutes(e,t,i){let s=e.value,r=t?t.value:null;if(fo(s),s===r)if(s.component){let c=i.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(s.component){let c=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),c.children.onOutletReAttached(a.contexts),c.attachRef=a.componentRef,c.route=a.route.value,c.outlet&&c.outlet.attach(a.componentRef,a.route.value),fo(a.route.value),this.activateChildRoutes(e,null,c.children)}else c.attachRef=null,c.route=s,c.outlet&&c.outlet.activateWith(s,c.injector),this.activateChildRoutes(e,null,c.children)}else this.activateChildRoutes(e,null,i)}},is=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Rn=class{constructor(e,t){this.component=e,this.route=t}};function Ey(n,e,t){let i=n._root,s=e?e._root:null;return vi(i,s,t,[i.value])}function Ty(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Vn(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!U7(n)?n:e.get(n):i}function vi(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){let r=xn(e);return n.children.forEach(c=>{Sy(c,r[c.value.outlet],t,i.concat([c.value]),s),delete r[c.value.outlet]}),Object.entries(r).forEach(([c,a])=>wi(a,t.getContext(c),s)),s}function Sy(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){let r=n.value,c=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(c&&r.routeConfig===c.routeConfig){let l=xy(c,r,r.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new is(i)):(r.data=c.data,r._resolvedData=c._resolvedData),r.component?vi(n,e,a?a.children:null,i,s):vi(n,e,t,i,s),l&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new Rn(a.outlet.component,c))}else c&&wi(e,a,s),s.canActivateChecks.push(new is(i)),r.component?vi(n,null,a?a.children:null,i,s):vi(n,null,t,i,s);return s}function xy(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!A1(n.url,e.url);case"pathParamsOrQueryParamsChange":return!A1(n.url,e.url)||!Zt(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ro(n,e)||!Zt(n.queryParams,e.queryParams);case"paramsChange":default:return!Ro(n,e)}}function wi(n,e,t){let i=xn(n),s=n.value;Object.entries(i).forEach(([r,c])=>{s.component?e?wi(c,e.children.getContext(r),t):wi(c,null,t):wi(c,e,t)}),s.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Rn(e.outlet.component,s)):t.canDeactivateChecks.push(new Rn(null,s)):t.canDeactivateChecks.push(new Rn(null,s))}function Fi(n){return typeof n=="function"}function Ay(n){return typeof n=="boolean"}function Ny(n){return n&&Fi(n.canLoad)}function Ry(n){return n&&Fi(n.canActivate)}function ky(n){return n&&Fi(n.canActivateChild)}function Py(n){return n&&Fi(n.canDeactivate)}function Dy(n){return n&&Fi(n.canMatch)}function gu(n){return n instanceof P7||n?.name==="EmptyError"}var q4=Symbol("INITIAL_VALUE");function Fn(){return mt(n=>_n(n.map(e=>e.pipe(Ct(1),y2(q4)))).pipe(fe(e=>{for(let t of e)if(t!==!0){if(t===q4)return q4;if(t===!1||Oy(t))return t}return!0}),We(e=>e!==q4),Ct(1)))}function Oy(n){return bi(n)||n instanceof Si}function Fy(n,e){return vt(t=>{let{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:c}}=t;return c.length===0&&r.length===0?X(Q(I({},t),{guardsResult:!0})):Vy(c,i,s,n).pipe(vt(a=>a&&Ay(a)?Uy(i,r,n,e):X(a)),fe(a=>Q(I({},t),{guardsResult:a})))})}function Vy(n,e,t,i){return dt(n).pipe(vt(s=>Hy(s.component,s.route,t,e,i)),Q2(s=>s!==!0,!0))}function Uy(n,e,t,i){return dt(e).pipe(Y2(s=>_4(jy(s.route.parent,i),By(s.route,i),$y(n,s.path,t),qy(n,s.route,t))),Q2(s=>s!==!0,!0))}function By(n,e){return n!==null&&e&&e(new To(n)),X(!0)}function jy(n,e){return n!==null&&e&&e(new Io(n)),X(!0)}function qy(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return X(!0);let s=i.map(r=>E1(()=>{let c=Di(e)??t,a=Vn(r,c),l=Ry(a)?a.canActivate(e,n):xt(c,()=>a(e,n));return i1(l).pipe(Q2())}));return X(s).pipe(Fn())}function $y(n,e,t){let i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(c=>Ty(c)).filter(c=>c!==null).map(c=>E1(()=>{let a=c.guards.map(l=>{let h=Di(c.node)??t,f=Vn(l,h),p=ky(f)?f.canActivateChild(i,n):xt(h,()=>f(i,n));return i1(p).pipe(Q2())});return X(a).pipe(Fn())}));return X(r).pipe(Fn())}function Hy(n,e,t,i,s){let r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!r||r.length===0)return X(!0);let c=r.map(a=>{let l=Di(e)??s,h=Vn(a,l),f=Py(h)?h.canDeactivate(n,e,t,i):xt(l,()=>h(n,e,t,i));return i1(f).pipe(Q2())});return X(c).pipe(Fn())}function Wy(n,e,t,i){let s=e.canLoad;if(s===void 0||s.length===0)return X(!0);let r=s.map(c=>{let a=Vn(c,n),l=Ny(a)?a.canLoad(e,t):xt(n,()=>a(e,t));return i1(l)});return X(r).pipe(Fn(),_u(i))}function _u(n){return R7(je(e=>{if(typeof e!="boolean")throw ns(n,e)}),fe(e=>e===!0))}function Gy(n,e,t,i){let s=e.canMatch;if(!s||s.length===0)return X(!0);let r=s.map(c=>{let a=Vn(c,n),l=Dy(a)?a.canMatch(e,t):xt(n,()=>a(e,t));return i1(l)});return X(r).pipe(Fn(),_u(i))}var xi=class{constructor(e){this.segmentGroup=e||null}},Ai=class extends Error{constructor(e){super(),this.urlTree=e}};function Sn(n){return ti(new xi(n))}function Ky(n){return ti(new we(4e3,!1))}function Yy(n){return ti(mu(!1,bt.GuardRejected))}var Do=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],s=t.root;for(;;){if(i=i.concat(s.segments),s.numberOfChildren===0)return X(i);if(s.numberOfChildren>1||!s.children[oe])return Ky(`${e.redirectTo}`);s=s.children[oe]}}applyRedirectCommands(e,t,i,s,r){if(typeof t!="string"){let a=t,{queryParams:l,fragment:h,routeConfig:f,url:p,outlet:_,params:b,data:A,title:N}=s,x=xt(r,()=>a({params:b,data:A,queryParams:l,fragment:h,routeConfig:f,url:p,outlet:_,title:N}));if(x instanceof b2)throw new Ai(x);t=x}let c=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new Ai(c);return c}applyRedirectCreateUrlTree(e,t,i,s){let r=this.createSegmentGroup(e,t.root,i,s);return new b2(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([s,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);i[s]=t[a]}else i[s]=r}),i}createSegmentGroup(e,t,i,s){let r=this.createSegments(e,t.segments,i,s),c={};return Object.entries(t.children).forEach(([a,l])=>{c[a]=this.createSegmentGroup(e,l,i,s)}),new Le(r,c)}createSegments(e,t,i,s){return t.map(r=>r.path[0]===":"?this.findPosParam(e,r,s):this.findOrReturn(r,i))}findPosParam(e,t,i){let s=i[t.path.substring(1)];if(!s)throw new we(4001,!1);return s}findOrReturn(e,t){let i=0;for(let s of t){if(s.path===e.path)return t.splice(i),s;i++}return e}},Oo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qy(n,e,t,i,s){let r=yu(n,e,t);return r.matched?(i=vy(e,i),Gy(i,e,t,s).pipe(fe(c=>c===!0?r:I({},Oo)))):X(r)}function yu(n,e,t){if(e.path==="**")return Xy(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?I({},Oo):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let s=(e.matcher||G_)(t,n,e);if(!s)return I({},Oo);let r={};Object.entries(s.posParams??{}).forEach(([a,l])=>{r[a]=l.path});let c=s.consumed.length>0?I(I({},r),s.consumed[s.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:c,positionalParamSegments:s.posParams??{}}}function Xy(n){return{matched:!0,parameters:n.length>0?X9(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function H9(n,e,t,i){return t.length>0&&ev(n,t,i)?{segmentGroup:new Le(e,Zy(i,new Le(t,n.children))),slicedSegments:[]}:t.length===0&&tv(n,t,i)?{segmentGroup:new Le(n.segments,Jy(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Le(n.segments,n.children),slicedSegments:t}}function Jy(n,e,t,i){let s={};for(let r of t)if(cs(n,e,r)&&!i[Vt(r)]){let c=new Le([],{});s[Vt(r)]=c}return I(I({},i),s)}function Zy(n,e){let t={};t[oe]=e;for(let i of n)if(i.path===""&&Vt(i)!==oe){let s=new Le([],{});t[Vt(i)]=s}return t}function ev(n,e,t){return t.some(i=>cs(n,e,i)&&Vt(i)!==oe)}function tv(n,e,t){return t.some(i=>cs(n,e,i))}function cs(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function nv(n,e,t){return e.length===0&&!n.children[t]}var Fo=class{};function iv(n,e,t,i,s,r,c="emptyOnly"){return new Vo(n,e,t,i,s,c,r).recognize()}var sv=31,Vo=class{constructor(e,t,i,s,r,c,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=s,this.urlTree=r,this.paramsInheritanceStrategy=c,this.urlSerializer=a,this.applyRedirects=new Do(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new we(4002,`'${e.segmentGroup}'`)}recognize(){let e=H9(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(fe(({children:t,rootSnapshot:i})=>{let s=new wt(i,t),r=new ts("",s),c=dy(i,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(c),{state:r,tree:c}}))}match(e){let t=new Nn([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,t).pipe(fe(i=>({children:i,rootSnapshot:t})),yn(i=>{if(i instanceof Ai)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof xi?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,s,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,r):this.processSegment(e,t,i,i.segments,s,!0,r).pipe(fe(c=>c instanceof wt?[c]:[]))}processChildren(e,t,i,s){let r=[];for(let c of Object.keys(i.children))c==="primary"?r.unshift(c):r.push(c);return dt(r).pipe(Y2(c=>{let a=i.children[c],l=Cy(t,c);return this.processSegmentGroup(e,l,a,c,s)}),v4((c,a)=>(c.push(...a),c)),Fc(null),O7(),vt(c=>{if(c===null)return Sn(i);let a=vu(c);return rv(a),X(a)}))}processSegment(e,t,i,s,r,c,a){return dt(t).pipe(Y2(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,s,r,c,a).pipe(yn(h=>{if(h instanceof xi)return X(null);throw h}))),Q2(l=>!!l),yn(l=>{if(gu(l))return nv(i,s,r)?X(new Fo):Sn(i);throw l}))}processSegmentAgainstRoute(e,t,i,s,r,c,a,l){return Vt(i)!==c&&(c===oe||!cs(s,r,i))?Sn(s):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,s,i,r,c,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,i,r,c,l):Sn(s)}expandSegmentAgainstRouteUsingRedirect(e,t,i,s,r,c,a){let{matched:l,parameters:h,consumedSegments:f,positionalParamSegments:p,remainingSegments:_}=yu(t,s,r);if(!l)return Sn(t);typeof s.redirectTo=="string"&&s.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>sv&&(this.allowRedirects=!1));let b=new Nn(r,h,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,W9(s),Vt(s),s.component??s._loadedComponent??null,s,G9(s)),A=es(b,a,this.paramsInheritanceStrategy);b.params=Object.freeze(A.params),b.data=Object.freeze(A.data);let N=this.applyRedirects.applyRedirectCommands(f,s.redirectTo,p,b,e);return this.applyRedirects.lineralizeSegments(s,N).pipe(vt(x=>this.processSegment(e,i,t,x.concat(_),c,!1,a)))}matchSegmentAgainstRoute(e,t,i,s,r,c){let a=Qy(t,i,s,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(mt(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,s).pipe(mt(({routes:h})=>{let f=i._loadedInjector??e,{parameters:p,consumedSegments:_,remainingSegments:b}=l,A=new Nn(_,p,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,W9(i),Vt(i),i.component??i._loadedComponent??null,i,G9(i)),N=es(A,c,this.paramsInheritanceStrategy);A.params=Object.freeze(N.params),A.data=Object.freeze(N.data);let{segmentGroup:x,slicedSegments:$}=H9(t,_,b,h);if($.length===0&&x.hasChildren())return this.processChildren(f,h,x,A).pipe(fe(U=>new wt(A,U)));if(h.length===0&&$.length===0)return X(new wt(A,[]));let W=Vt(i)===r;return this.processSegment(f,h,x,$,W?oe:r,!0,A).pipe(fe(U=>new wt(A,U instanceof wt?[U]:[])))}))):Sn(t)))}getChildConfig(e,t,i){return t.children?X({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?X({routes:t._loadedRoutes,injector:t._loadedInjector}):Wy(e,t,i,this.urlSerializer).pipe(vt(s=>s?this.configLoader.loadChildren(e,t).pipe(je(r=>{t._loadedRoutes=r.routes,t._loadedInjector=r.injector})):Yy(t))):X({routes:[],injector:e})}};function rv(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}function cv(n){let e=n.value.routeConfig;return e&&e.path===""}function vu(n){let e=[],t=new Set;for(let i of n){if(!cv(i)){e.push(i);continue}let s=e.find(r=>i.value.routeConfig===r.value.routeConfig);s!==void 0?(s.children.push(...i.children),t.add(s)):e.push(i)}for(let i of t){let s=vu(i.children);e.push(new wt(i.value,s))}return e.filter(i=>!t.has(i))}function W9(n){return n.data||{}}function G9(n){return n.resolve||{}}function ov(n,e,t,i,s,r){return vt(c=>iv(n,e,t,i,c.extractedUrl,s,r).pipe(fe(({state:a,tree:l})=>Q(I({},c),{targetSnapshot:a,urlAfterRedirects:l}))))}function av(n,e){return vt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:s}}=t;if(!s.length)return X(t);let r=new Set(s.map(l=>l.route)),c=new Set;for(let l of r)if(!c.has(l))for(let h of Cu(l))c.add(h);let a=0;return dt(c).pipe(Y2(l=>r.has(l)?lv(l,i,n,e):(l.data=es(l,l.parent,n).resolve,X(void 0))),je(()=>a++),Vc(1),vt(l=>a===c.size?X(t):K2))})}function Cu(n){let e=n.children.map(t=>Cu(t)).flat();return[n,...e]}function lv(n,e,t,i){let s=n.routeConfig,r=n._resolve;return s?.title!==void 0&&!du(s)&&(r[ki]=s.title),uv(r,n,e,i).pipe(fe(c=>(n._resolvedData=c,n.data=es(n,n.parent,t).resolve,null)))}function uv(n,e,t,i){let s=go(n);if(s.length===0)return X({});let r={};return dt(s).pipe(vt(c=>hv(n[c],e,t,i).pipe(Q2(),je(a=>{if(a instanceof Si)throw ns(new Pn,a);r[c]=a}))),Vc(1),D7(r),yn(c=>gu(c)?K2:ti(c)))}function hv(n,e,t,i){let s=Di(e)??i,r=Vn(n,s),c=r.resolve?r.resolve(e,t):xt(s,()=>r(e,t));return i1(c)}function mo(n){return mt(e=>{let t=n(e);return t?dt(t).pipe(fe(()=>e)):X(e)})}var Lu=(()=>{class n{buildTitle(t){let i,s=t.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(r=>r.outlet===oe);return i}getResolvedTitleForRoute(t){return t.data[ki]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>P(dv),providedIn:"root"})}}return n})(),dv=(()=>{class n extends Lu{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(T(F9))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vi=new B("",{providedIn:"root",factory:()=>({})}),fv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ee({type:n,selectors:[["ng-component"]],standalone:!0,features:[Se],decls:1,vars:0,template:function(i,s){i&1&&Mt(0,"router-outlet")},dependencies:[qo],encapsulation:2})}}return n})();function $o(n){let e=n.children&&n.children.map($o),t=e?Q(I({},n),{children:e}):I({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=fv),t}var Ni=new B(""),Ho=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(x4)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return X(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=i1(t.loadComponent()).pipe(fe(Mu),je(r=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=r}),vn(()=>{this.componentLoaders.delete(t)})),s=new Nc(i,()=>new ge).pipe(Ac());return this.componentLoaders.set(t,s),s}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return X({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=mv(i,this.compiler,t,this.onLoadEndListener).pipe(vn(()=>{this.childrenLoaders.delete(i)})),c=new Nc(r,()=>new ge).pipe(Ac());return this.childrenLoaders.set(i,c),c}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mv(n,e,t,i){return i1(n.loadChildren()).pipe(fe(Mu),vt(s=>s instanceof i9||Array.isArray(s)?X(s):dt(e.compileModuleAsync(s))),fe(s=>{i&&i(n);let r,c,a=!1;return Array.isArray(s)?(c=s,a=!0):(r=s.create(t).injector,c=r.get(Ni,[],{optional:!0,self:!0}).flat()),{routes:c.map($o),injector:r}}))}function pv(n){return n&&typeof n=="object"&&"default"in n}function Mu(n){return pv(n)?n.default:n}var Wo=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>P(gv),providedIn:"root"})}}return n})(),gv=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wu=new B(""),bu=new B("");function _v(n,e,t){let i=n.get(bu),s=n.get(ie);return n.get(re).runOutsideAngular(()=>{if(!s.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(h=>setTimeout(h));let r,c=new Promise(h=>{r=h}),a=s.startViewTransition(()=>(r(),yv(n))),{onViewTransitionCreated:l}=i;return l&&xt(n,()=>l({transition:a,from:e,to:t})),c})}function yv(n){return new Promise(e=>{J2({read:()=>setTimeout(e)},{injector:n})})}var vv=new B(""),Go=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ge,this.transitionAbortSubject=new ge,this.configLoader=P(Ho),this.environmentInjector=P(v2),this.urlSerializer=P(Pi),this.rootContexts=P(Oi),this.location=P(L2),this.inputBindingEnabled=P(rs,{optional:!0})!==null,this.titleStrategy=P(Lu),this.options=P(Vi,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(Wo),this.createViewTransition=P(wu,{optional:!0}),this.navigationErrorHandler=P(vv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null;let t=s=>this.events.next(new bo(s)),i=s=>this.events.next(new zo(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(Q(I(I({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,s){return this.transitions=new Ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Mi,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(We(r=>r.id!==0),fe(r=>Q(I({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),mt(r=>{let c=!1,a=!1;return X(r).pipe(mt(l=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",bt.SupersededByNewNavigation),K2;this.currentTransition=r,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Q(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!h&&f!=="reload"){let p="";return this.events.next(new n1(l.id,this.urlSerializer.serialize(l.rawUrl),p,Y4.IgnoredSameUrlNavigation)),l.resolve(!1),K2}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return X(l).pipe(mt(p=>{let _=this.transitions?.getValue();return this.events.next(new Dn(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),_!==this.transitions?.getValue()?K2:Promise.resolve(p)}),ov(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),je(p=>{r.targetSnapshot=p.targetSnapshot,r.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Q(I({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let _=new Q4(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:_,source:b,restoredState:A,extras:N}=l,x=new Dn(p,this.urlSerializer.serialize(_),b,A);this.events.next(x);let $=uu(this.rootComponentType).snapshot;return this.currentTransition=r=Q(I({},l),{targetSnapshot:$,urlAfterRedirects:_,extras:Q(I({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,X(r)}else{let p="";return this.events.next(new n1(l.id,this.urlSerializer.serialize(l.extractedUrl),p,Y4.IgnoredByUrlHandlingStrategy)),l.resolve(!1),K2}}),je(l=>{let h=new Co(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),fe(l=>(this.currentTransition=r=Q(I({},l),{guards:Ey(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),r)),Fy(this.environmentInjector,l=>this.events.next(l)),je(l=>{if(r.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ns(this.urlSerializer,l.guardsResult);let h=new Lo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),We(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",bt.GuardRejected),!1)),mo(l=>{if(l.guards.canActivateChecks.length)return X(l).pipe(je(h=>{let f=new Mo(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),mt(h=>{let f=!1;return X(h).pipe(av(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",bt.NoDataFromResolver)}}))}),je(h=>{let f=new wo(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),mo(l=>{let h=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(je(_=>{f.component=_}),fe(()=>{})));for(let _ of f.children)p.push(...h(_));return p};return _n(h(l.targetSnapshot.root)).pipe(Fc(null),Ct(1))}),mo(()=>this.afterPreactivation()),mt(()=>{let{currentSnapshot:l,targetSnapshot:h}=r,f=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return f?dt(f).pipe(fe(()=>r)):X(r)}),fe(l=>{let h=My(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=r=Q(I({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,r}),je(()=>{this.events.next(new Ei)}),Iy(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ct(1),je({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new z2(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),Yt(this.transitionAbortSubject.pipe(je(l=>{throw l}))),vn(()=>{!c&&!a&&this.cancelNavigationTransition(r,"",bt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),yn(l=>{if(a=!0,pu(l))this.events.next(new w2(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode)),zy(l)?this.events.next(new On(l.url,l.navigationBehaviorOptions)):r.resolve(!1);else{let h=new Ii(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);try{let f=xt(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(f instanceof Si){let{message:p,cancellationCode:_}=ns(this.urlSerializer,f);this.events.next(new w2(r.id,this.urlSerializer.serialize(r.extractedUrl),p,_)),this.events.next(new On(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(h);let p=t.errorHandler(l);r.resolve(!!p)}}catch(f){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(f)}}return K2}))}))}cancelNavigationTransition(t,i,s){let r=new w2(t.id,this.urlSerializer.serialize(t.extractedUrl),i,s);this.events.next(r),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Cv(n){return n!==Mi}var Lv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>P(Mv),providedIn:"root"})}}return n})(),Uo=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Mv=(()=>{class n extends Uo{static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=Qt(n)))(s||n)}})()}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>P(wv),providedIn:"root"})}}return n})(),wv=(()=>{class n extends zu{constructor(){super(...arguments),this.location=P(L2),this.urlSerializer=P(Pi),this.options=P(Vi,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(Wo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new b2,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=uu(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Dn)this.stateMemento=this.createStateMemento();else if(t instanceof n1)this.rawUrlTree=i.initialUrl;else if(t instanceof Q4){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else t instanceof Ei?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof w2&&(t.code===bt.GuardRejected||t.code===bt.NoDataFromResolver)?this.restoreHistory(i):t instanceof Ii?this.restoreHistory(i,!0):t instanceof z2&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let s=t instanceof b2?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let r=this.browserPageId,c=I(I({},i.extras.state),this.generateNgRouterState(i.id,r));this.location.replaceState(s,"",c)}else{let r=I(I({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",r)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,r=this.currentPageId-s;r!==0?this.location.historyGo(r):this.currentUrlTree===t.finalUrl&&r===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=Qt(n)))(s||n)}})()}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ci=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ci||{});function Iu(n,e){n.events.pipe(We(t=>t instanceof z2||t instanceof w2||t instanceof Ii||t instanceof n1),fe(t=>t instanceof z2||t instanceof n1?Ci.COMPLETE:(t instanceof w2?t.code===bt.Redirect||t.code===bt.SupersededByNewNavigation:!1)?Ci.REDIRECTING:Ci.FAILED),We(t=>t!==Ci.REDIRECTING),Ct(1)).subscribe(()=>{e()})}function bv(n){throw n}var zv={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Iv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(T4),this.stateManager=P(zu),this.options=P(Vi,{optional:!0})||{},this.pendingTasks=P(M4),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(Go),this.urlSerializer=P(Pi),this.location=P(L2),this.urlHandlingStrategy=P(Wo),this._events=new ge,this.errorHandler=this.options.errorHandler||bv,this.navigated=!1,this.routeReuseStrategy=P(Lv),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(Ni,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(rs,{optional:!0}),this.eventsSubscription=new I1,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(s!==null&&r!==null){if(this.stateManager.handleRouterEvent(i,r),i instanceof w2&&i.code!==bt.Redirect&&i.code!==bt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof z2)this.navigated=!0;else if(i instanceof On){let c=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=I({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Cv(s.source)},c);this.scheduleNavigation(a,Mi,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Tv(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,s){let r={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let l=I({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(r.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,c,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map($o),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:s,queryParams:r,fragment:c,queryParamsHandling:a,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:c,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=I(I({},this.currentUrlTree.queryParams),r);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=r||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let _=s?s.snapshot:this.routerState.snapshot.root;p=cu(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return ou(p,t,f,h??null)}navigateByUrl(t,i={skipLocationChange:!1}){let s=bi(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,Mi,null,i)}navigate(t,i={skipLocationChange:!1}){return Ev(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let s;if(i===!0?s=I({},zv):i===!1?s=I({},Iv):s=i,bi(t))return U9(this.currentUrlTree,t,s);let r=this.parseUrl(t);return U9(this.currentUrlTree,r,s)}removeEmptyProps(t){return Object.entries(t).reduce((i,[s,r])=>(r!=null&&(i[s]=r),i),{})}scheduleNavigation(t,i,s,r,c){if(this.disposed)return Promise.resolve(!1);let a,l,h;c?(a=c.resolve,l=c.reject,h=c.promise):h=new Promise((p,_)=>{a=p,l=_});let f=this.pendingTasks.add();return Iu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:r,resolve:a,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ev(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new we(4008,!1)}function Tv(n){return!(n instanceof Ei)&&!(n instanceof On)}var ss=class{};var Sv=(()=>{class n{constructor(t,i,s,r,c){this.router=t,this.injector=s,this.preloadingStrategy=r,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(We(t=>t instanceof z2),Y2(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let s=[];for(let r of i){r.providers&&!r._injector&&(r._injector=Wc(r.providers,t,`Route: ${r.path}`));let c=r._injector??t,a=r._loadedInjector??c;(r.loadChildren&&!r._loadedRoutes&&r.canLoad===void 0||r.loadComponent&&!r._loadedComponent)&&s.push(this.preloadConfig(c,r)),(r.children||r._loadedRoutes)&&s.push(this.processRoutes(a,r.children??r._loadedRoutes))}return dt(s).pipe(kc())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(t,i):s=X(null);let r=s.pipe(vt(c=>c===null?X(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){let c=this.loader.loadComponent(i);return dt([r,c]).pipe(kc())}else return r})}static{this.\u0275fac=function(i){return new(i||n)(T(gt),T(x4),T(v2),T(ss),T(Ho))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Eu=new B(""),xv=(()=>{class n{constructor(t,i,s,r,c={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=s,this.zone=r,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Dn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof z2?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof n1&&t.code===Y4.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof X4&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new X4(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){b4()}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();function Tu(n,...e){return Lt([{provide:Ni,multi:!0,useValue:n},[],{provide:N1,useFactory:Su,deps:[gt]},{provide:S4,multi:!0,useFactory:xu},e.map(t=>t.\u0275providers)])}function Su(n){return n.routerState.root}function Ui(n,e){return{\u0275kind:n,\u0275providers:e}}function xu(){let n=P(Fe);return e=>{let t=n.get(Tn);if(e!==t.components[0])return;let i=n.get(gt),s=n.get(Au);n.get(Ko)===1&&i.initialNavigation(),n.get(Nu,null,Uc.Optional)?.setUpPreloading(),n.get(Eu,null,Uc.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var Au=new B("",{factory:()=>new ge}),Ko=new B("",{providedIn:"root",factory:()=>1});function Av(){return Ui(2,[{provide:Ko,useValue:0},{provide:Gc,multi:!0,deps:[Fe],useFactory:e=>{let t=e.get(f9,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let s=e.get(gt),r=e.get(Au);Iu(s,()=>{i(!0)}),e.get(Go).afterPreactivation=()=>(i(!0),r.closed?X(void 0):r),s.initialNavigation()}))}}])}function Nv(){return Ui(3,[{provide:Gc,multi:!0,useFactory:()=>{let e=P(gt);return()=>{e.setUpLocationChangeListener()}}},{provide:Ko,useValue:2}])}var Nu=new B("");function Rv(n){return Ui(0,[{provide:Nu,useExisting:Sv},{provide:ss,useExisting:n}])}function kv(){return Ui(8,[$9,{provide:rs,useExisting:$9}])}function Pv(n){let e=[{provide:wu,useValue:_v},{provide:bu,useValue:I({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ui(9,e)}var K9=new B("ROUTER_FORROOT_GUARD"),Dv=[L2,{provide:Pi,useClass:Pn},gt,Oi,{provide:N1,useFactory:Su,deps:[gt]},Ho,[]],Ru=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Dv,[],{provide:Ni,multi:!0,useValue:t},{provide:K9,useFactory:Uv,deps:[[gt,new Dt,new j7]]},{provide:Vi,useValue:i||{}},i?.useHash?Fv():Vv(),Ov(),i?.preloadingStrategy?Rv(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Bv(i):[],i?.bindToComponentInputs?kv().\u0275providers:[],i?.enableViewTransitions?Pv().\u0275providers:[],jv()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ni,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(T(K9,8))}}static{this.\u0275mod=ze({type:n})}static{this.\u0275inj=be({})}}return n})();function Ov(){return{provide:Eu,useFactory:()=>{let n=P(y9),e=P(re),t=P(Vi),i=P(Go),s=P(Pi);return t.scrollOffset&&n.setOffset(t.scrollOffset),new xv(s,i,n,e,t)}}}function Fv(){return{provide:Qc,useClass:p9}}function Vv(){return{provide:Qc,useClass:m9}}function Uv(n){return"guarded"}function Bv(n){return[n.initialNavigation==="disabled"?Nv().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Av().\u0275providers:[]]}var Y9=new B("");function jv(){return[{provide:Y9,useFactory:xu},{provide:S4,multi:!0,useExisting:Y9}]}var qv=["*"],Un=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ee({type:n,selectors:[["app-layout"]],standalone:!0,features:[Se],ngContentSelectors:qv,decls:1,vars:0,template:function(t,i){t&1&&(In(),En(0))}})};var os=class n{constructor(e){this.router=e}ngOnInit(){}navigateByUrl(e){this.router.navigateByUrl(e)}static \u0275fac=function(t){return new(t||n)(H(gt))};static \u0275cmp=Ee({type:n,selectors:[["app-home"]],standalone:!0,features:[Se],decls:9,vars:0,consts:[[1,"container-fluid"],[1,"row","main"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){t&1&&(O(0,"app-layout")(1,"div",0)(2,"div",1)(3,"button",2),Y("click",function(){return i.navigateByUrl("patterns")}),j(4,"FORMAS PUNTAJE"),D(),O(5,"button",2),Y("click",function(){return i.navigateByUrl("combat")}),j(6,"LUCHA"),D(),O(7,"button",2),Y("click",function(){return i.navigateByUrl("flags")}),j(8,"BANDERAS"),D()()()())},dependencies:[Un,Ru],styles:[".main[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:start;padding-top:30vh}.main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40vw;margin-top:10px;height:10vh}body[_ngcontent-%COMP%]{background-color:gray}"]})};var Pu=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},$v=function(n){let e=[],t=0,i=0;for(;t<n.length;){let s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){let r=n[t++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){let r=n[t++],c=n[t++],a=n[t++],l=((s&7)<<18|(r&63)<<12|(c&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let r=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|c&63)}}return e.join("")},Du={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){let r=n[s],c=s+1<n.length,a=c?n[s+1]:0,l=s+2<n.length,h=l?n[s+2]:0,f=r>>2,p=(r&3)<<4|a>>4,_=(a&15)<<2|h>>6,b=h&63;l||(b=64,c||(_=64)),i.push(t[f],t[p],t[_],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Pu(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$v(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){let r=t[n.charAt(s++)],a=s<n.length?t[n.charAt(s)]:0;++s;let h=s<n.length?t[n.charAt(s)]:64;++s;let p=s<n.length?t[n.charAt(s)]:64;if(++s,r==null||a==null||h==null||p==null)throw new Xo;let _=r<<2|a>>4;if(i.push(_),h!==64){let b=a<<4&240|h>>2;if(i.push(b),p!==64){let A=h<<6&192|p;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Xo=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Hv=function(n){let e=Pu(n);return Du.encodeByteArray(e,!0)},Bi=function(n){return Hv(n).replace(/\./g,"")},Zo=function(n){try{return Du.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Gv=()=>Wv().__FIREBASE_DEFAULTS__,Kv=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Yv=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Zo(n[1]);return e&&JSON.parse(e)},ls=()=>{try{return Gv()||Kv()||Yv()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},e6=n=>{var e,t;return(t=(e=ls())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ou=n=>{let e=e6(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},t6=()=>{var n;return(n=ls())===null||n===void 0?void 0:n.config},n6=n=>{var e;return(e=ls())===null||e===void 0?void 0:e[`_${n}`]};var as=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function Fu(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bi(JSON.stringify(t)),Bi(JSON.stringify(c)),""].join(".")}function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Qv(){var n;let e=(n=ls())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uu(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bu(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ju(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qu(){let n=Xe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $u(){return!Qv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i6(){try{return typeof indexedDB=="object"}catch{return!1}}function Hu(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}var Xv="FirebaseError",zt=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Xv,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I2.prototype.create)}},I2=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],c=r?Jv(r,i):"Error",a=`${this.serviceName}: ${c} (${s}).`;return new zt(s,a,i)}};function Jv(n,e){return n.replace(Zv,(t,i)=>{let s=e[i];return s!=null?String(s):`<${i}?>`})}var Zv=/\{\$([^}]+)}/g;function Wu(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function k1(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let s of t){if(!i.includes(s))return!1;let r=n[s],c=e[s];if(ku(r)&&ku(c)){if(!k1(r,c))return!1}else if(r!==c)return!1}for(let s of i)if(!t.includes(s))return!1;return!0}function ku(n){return n!==null&&typeof n=="object"}function Bn(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Gu(n,e){let t=new Jo(n,e);return t.subscribe.bind(t)}var Jo=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");eC(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Qo),s.error===void 0&&(s.error=Qo),s.complete===void 0&&(s.complete=Qo);let r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function eC(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qo(){}var EA=4*60*60*1e3;function _t(n){return n&&n._delegate?n._delegate:n}var Nt=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var P1="[DEFAULT]";var s6=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new as;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nC(e))try{this.getOrInitializeService({instanceIdentifier:P1})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(t);try{let r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=P1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=P1){return this.instances.has(e)}getOptions(e=P1){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[r,c]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(r);i===a&&c.resolve(s)}return s}onInit(e,t){var i;let s=this.normalizeInstanceIdentifier(t),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);let c=this.instances.get(s);return c&&e(c,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:tC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=P1){return this.component?this.component.multipleInstances?e:P1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tC(n){return n===P1?void 0:n}function nC(n){return n.instantiationMode==="EAGER"}var us=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new s6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var iC=[],me=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(me||{}),sC={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},rC=me.INFO,cC={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},oC=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),s=cC[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},s1=class{constructor(e){this.name=e,this._logLevel=rC,this._logHandler=oC,this._userLogHandler=null,iC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var aC=(n,e)=>e.some(t=>n instanceof t),Ku,Yu;function lC(){return Ku||(Ku=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uC(){return Yu||(Yu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Qu=new WeakMap,c6=new WeakMap,Xu=new WeakMap,r6=new WeakMap,a6=new WeakMap;function hC(n){let e=new Promise((t,i)=>{let s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",c)},r=()=>{t(e2(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Qu.set(t,n)}).catch(()=>{}),a6.set(e,n),e}function dC(n){if(c6.has(n))return;let e=new Promise((t,i)=>{let s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",c),n.removeEventListener("abort",c)},r=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",c),n.addEventListener("abort",c)});c6.set(n,e)}var o6={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return c6.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Xu.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return e2(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ju(n){o6=n(o6)}function fC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(hs(this),e,...t);return Xu.set(i,e.sort?e.sort():[e]),e2(i)}:uC().includes(n)?function(...e){return n.apply(hs(this),e),e2(Qu.get(this))}:function(...e){return e2(n.apply(hs(this),e))}}function mC(n){return typeof n=="function"?fC(n):(n instanceof IDBTransaction&&dC(n),aC(n,lC())?new Proxy(n,o6):n)}function e2(n){if(n instanceof IDBRequest)return hC(n);if(r6.has(n))return r6.get(n);let e=mC(n);return e!==n&&(r6.set(n,e),a6.set(e,n)),e}var hs=n=>a6.get(n);function eh(n,e,{blocked:t,upgrade:i,blocking:s,terminated:r}={}){let c=indexedDB.open(n,e),a=e2(c);return i&&c.addEventListener("upgradeneeded",l=>{i(e2(c.result),l.oldVersion,l.newVersion,e2(c.transaction),l)}),t&&c.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}var pC=["get","getKey","getAll","getAllKeys","count"],gC=["put","add","delete","clear"],l6=new Map;function Zu(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(l6.get(e))return l6.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,s=gC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||pC.includes(t)))return;let r=function(c,...a){return C(this,null,function*(){let l=this.transaction(c,s?"readwrite":"readonly"),h=l.store;return i&&(h=h.index(a.shift())),(yield Promise.all([h[t](...a),s&&l.done]))[0]})};return l6.set(e,r),r}Ju(n=>Q(I({},n),{get:(e,t,i)=>Zu(e,t)||n.get(e,t,i),has:(e,t)=>!!Zu(e,t)||n.has(e,t)}));var h6=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_C(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function _C(n){let e=n.getComponent();return e?.type==="VERSION"}var d6="@firebase/app",th="0.10.13";var E2=new s1("@firebase/app"),yC="@firebase/app-compat",vC="@firebase/analytics-compat",CC="@firebase/analytics",LC="@firebase/app-check-compat",MC="@firebase/app-check",wC="@firebase/auth",bC="@firebase/auth-compat",zC="@firebase/database",IC="@firebase/data-connect",EC="@firebase/database-compat",TC="@firebase/functions",SC="@firebase/functions-compat",xC="@firebase/installations",AC="@firebase/installations-compat",NC="@firebase/messaging",RC="@firebase/messaging-compat",kC="@firebase/performance",PC="@firebase/performance-compat",DC="@firebase/remote-config",OC="@firebase/remote-config-compat",FC="@firebase/storage",VC="@firebase/storage-compat",UC="@firebase/firestore",BC="@firebase/vertexai-preview",jC="@firebase/firestore-compat",qC="firebase",$C="10.14.1";var f6="[DEFAULT]",HC={[d6]:"fire-core",[yC]:"fire-core-compat",[CC]:"fire-analytics",[vC]:"fire-analytics-compat",[MC]:"fire-app-check",[LC]:"fire-app-check-compat",[wC]:"fire-auth",[bC]:"fire-auth-compat",[zC]:"fire-rtdb",[IC]:"fire-data-connect",[EC]:"fire-rtdb-compat",[TC]:"fire-fn",[SC]:"fire-fn-compat",[xC]:"fire-iid",[AC]:"fire-iid-compat",[NC]:"fire-fcm",[RC]:"fire-fcm-compat",[kC]:"fire-perf",[PC]:"fire-perf-compat",[DC]:"fire-rc",[OC]:"fire-rc-compat",[FC]:"fire-gcs",[VC]:"fire-gcs-compat",[UC]:"fire-fst",[jC]:"fire-fst-compat",[BC]:"fire-vertex","fire-js":"fire-js",[qC]:"fire-js-all"};var ji=new Map,WC=new Map,m6=new Map;function nh(n,e){try{n.container.addComponent(e)}catch(t){E2.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function c1(n){let e=n.name;if(m6.has(e))return E2.debug(`There were multiple attempts to register component ${e}.`),!1;m6.set(e,n);for(let t of ji.values())nh(t,n);for(let t of WC.values())nh(t,n);return!0}function $i(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function t2(n){return n.settings!==void 0}var GC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},r1=new I2("app","Firebase",GC);var p6=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw r1.create("app-deleted",{appName:this._name})}};var o1=$C;function ds(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:f6,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw r1.create("bad-app-name",{appName:String(s)});if(t||(t=t6()),!t)throw r1.create("no-options");let r=ji.get(s);if(r){if(k1(t,r.options)&&k1(i,r.config))return r;throw r1.create("duplicate-app",{appName:s})}let c=new us(s);for(let l of m6.values())c.addComponent(l);let a=new p6(t,i,c);return ji.set(s,a),a}function jn(n=f6){let e=ji.get(n);if(!e&&n===f6&&t6())return ds();if(!e)throw r1.create("no-app",{appName:n});return e}function fs(){return Array.from(ji.values())}function Je(n,e,t){var i;let s=(i=HC[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);let r=s.match(/\s|\//),c=e.match(/\s|\//);if(r||c){let a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&c&&a.push("and"),c&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),E2.warn(a.join(" "));return}c1(new Nt(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}var KC="firebase-heartbeat-database",YC=1,qi="firebase-heartbeat-store",u6=null;function ch(){return u6||(u6=eh(KC,YC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qi)}catch(t){console.warn(t)}}}}).catch(n=>{throw r1.create("idb-open",{originalErrorMessage:n.message})})),u6}function QC(n){return C(this,null,function*(){try{let t=(yield ch()).transaction(qi),i=yield t.objectStore(qi).get(oh(n));return yield t.done,i}catch(e){if(e instanceof zt)E2.warn(e.message);else{let t=r1.create("idb-get",{originalErrorMessage:e?.message});E2.warn(t.message)}}})}function ih(n,e){return C(this,null,function*(){try{let i=(yield ch()).transaction(qi,"readwrite");yield i.objectStore(qi).put(e,oh(n)),yield i.done}catch(t){if(t instanceof zt)E2.warn(t.message);else{let i=r1.create("idb-set",{originalErrorMessage:t?.message});E2.warn(i.message)}}})}function oh(n){return`${n.name}!${n.options.appId}`}var XC=1024,JC=30*24*60*60*1e3,g6=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new _6(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sh();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(c=>c.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{let a=new Date(c.date).valueOf();return Date.now()-a<=JC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){E2.warn(i)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=sh(),{heartbeatsToSend:i,unsentEntries:s}=ZC(this._heartbeatsCache.heartbeats),r=Bi(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return E2.warn(t),""}})}};function sh(){return new Date().toISOString().substring(0,10)}function ZC(n,e=XC){let t=[],i=n.slice();for(let s of n){let r=t.find(c=>c.agent===s.agent);if(r){if(r.dates.push(s.date),rh(t)>e){r.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),rh(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var _6=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return i6()?Hu().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield QC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return ih(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return ih(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return})}};function rh(n){return Bi(JSON.stringify({version:2,heartbeats:n})).length}function eL(n){c1(new Nt("platform-logger",e=>new h6(e),"PRIVATE")),c1(new Nt("heartbeat",e=>new g6(e),"PRIVATE")),Je(d6,th,n),Je(d6,th,"esm2017"),Je("fire-js","")}eL("");function Mh(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var wh=Mh,bh=new I2("auth","Firebase",Mh());var vs=new s1("@firebase/auth");function tL(n,...e){vs.logLevel<=me.WARN&&vs.warn(`Auth (${o1}): ${n}`,...e)}function ps(n,...e){vs.logLevel<=me.ERROR&&vs.error(`Auth (${o1}): ${n}`,...e)}function i2(n,...e){throw P6(n,...e)}function Ut(n,...e){return P6(n,...e)}function k6(n,e,t){let i=Object.assign(Object.assign({},wh()),{[e]:t});return new I2("auth","Firebase",i).create(e,{appName:n.name})}function D1(n){return k6(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nL(n,e,t){let i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&i2(n,"argument-error"),k6(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function P6(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return bh.create(n,...e)}function ne(n,e,...t){if(!n)throw P6(e,...t)}function T2(n){let e="INTERNAL ASSERTION FAILED: "+n;throw ps(e),new Error(e)}function x2(n,e){n||T2(e)}function C6(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function iL(){return ah()==="http:"||ah()==="https:"}function ah(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function sL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iL()||Bu()||"connection"in navigator)?navigator.onLine:!0}function rL(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var O1=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,x2(t>e,"Short delay should be less than long delay!"),this.isMobile=Vu()||ju()}get(){return sL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function D6(n,e){x2(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Cs=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;T2("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;T2("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;T2("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var cL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var oL=new O1(3e4,6e4);function O6(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Hn(r,c,a,l){return C(this,arguments,function*(n,e,t,i,s={}){return zh(n,s,()=>C(this,null,function*(){let h={},f={};i&&(e==="GET"?f=i:h={body:JSON.stringify(i)});let p=Bn(Object.assign({key:n.config.apiKey},f)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let b=Object.assign({method:e,headers:_},h);return Uu()||(b.referrerPolicy="no-referrer"),Cs.fetch()(Ih(n,n.config.apiHost,t,p),b)}))})}function zh(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},cL),e);try{let s=new L6(n),r=yield Promise.race([t(),s.promise]);s.clearNetworkTimeout();let c=yield r.json();if("needConfirmation"in c)throw ms(n,"account-exists-with-different-credential",c);if(r.ok&&!("errorMessage"in c))return c;{let a=r.ok?c.errorMessage:c.error.message,[l,h]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ms(n,"credential-already-in-use",c);if(l==="EMAIL_EXISTS")throw ms(n,"email-already-in-use",c);if(l==="USER_DISABLED")throw ms(n,"user-disabled",c);let f=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw k6(n,f,h);i2(n,f)}}catch(s){if(s instanceof zt)throw s;i2(n,"network-request-failed",{message:String(s)})}})}function aL(r,c,a,l){return C(this,arguments,function*(n,e,t,i,s={}){let h=yield Hn(n,e,t,i,s);return"mfaPendingCredential"in h&&i2(n,"multi-factor-auth-required",{_serverResponse:h}),h})}function Ih(n,e,t,i){let s=`${e}${t}?${i}`;return n.config.emulator?D6(n.config,s):`${n.config.apiScheme}://${s}`}var L6=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ut(this.auth,"network-request-failed")),oL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ms(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let s=Ut(n,e,i);return s.customData._tokenResponse=t,s}function lL(n,e){return C(this,null,function*(){return Hn(n,"POST","/v1/accounts:delete",e)})}function Eh(n,e){return C(this,null,function*(){return Hn(n,"POST","/v1/accounts:lookup",e)})}function Hi(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function F6(n,e=!1){return C(this,null,function*(){let t=_t(n),i=yield t.getIdToken(e),s=V6(i);ne(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");let r=typeof s.firebase=="object"?s.firebase:void 0,c=r?.sign_in_provider;return{claims:s,token:i,authTime:Hi(y6(s.auth_time)),issuedAtTime:Hi(y6(s.iat)),expirationTime:Hi(y6(s.exp)),signInProvider:c||null,signInSecondFactor:r?.sign_in_second_factor||null}})}function y6(n){return Number(n)*1e3}function V6(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ps("JWT malformed, contained fewer than 3 sections"),null;try{let s=Zo(t);return s?JSON.parse(s):(ps("Failed to decode base64 JWT payload"),null)}catch(s){return ps("Caught error parsing JWT payload as JSON",s?.toString()),null}}function lh(n){let e=V6(n);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Gi(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof zt&&uL(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function uL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var M6=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ki=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hi(this.lastLoginAt),this.creationTime=Hi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ls(n){return C(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),s=yield Gi(n,Eh(t,{idToken:i}));ne(s?.users.length,t,"internal-error");let r=s.users[0];n._notifyReloadListener(r);let c=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?Th(r.providerUserInfo):[],a=hL(n.providerData,c),l=n.isAnonymous,h=!(n.email&&r.passwordHash)&&!a?.length,f=l?h:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Ki(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function U6(n){return C(this,null,function*(){let e=_t(n);yield Ls(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function hL(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Th(n){return n.map(e=>{var{providerId:t}=e,i=p4(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function dL(n,e){return C(this,null,function*(){let t=yield zh(n,{},()=>C(this,null,function*(){let i=Bn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=n.config,c=Ih(n,s,"/v1/token",`key=${r}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Cs.fetch()(c,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function fL(n,e){return C(this,null,function*(){return Hn(n,"POST","/v2/accounts:revokeToken",O6(n,e))})}var Wi=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ne(e.length!==0,"internal-error");let t=lh(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:i,refreshToken:s,expiresIn:r}=yield dL(e,t);this.updateTokensAndExpiration(i,s,Number(r))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:s,expirationTime:r}=t,c=new n;return i&&(ne(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(ne(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),r&&(ne(typeof r=="number","internal-error",{appName:e}),c.expirationTime=r),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return T2("not implemented")}};function a1(n,e){ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var $n=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,r=p4(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new M6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Ki(r.createdAt||void 0,r.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield Gi(this,this.stsTokenManager.getToken(this.auth,e));return ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return F6(this,e)}reload(){return U6(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ls(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(t2(this.auth.app))return Promise.reject(D1(this.auth));let e=yield this.getIdToken();return yield Gi(this,lL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,r,c,a,l,h,f;let p=(i=t.displayName)!==null&&i!==void 0?i:void 0,_=(s=t.email)!==null&&s!==void 0?s:void 0,b=(r=t.phoneNumber)!==null&&r!==void 0?r:void 0,A=(c=t.photoURL)!==null&&c!==void 0?c:void 0,N=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,$=(h=t.createdAt)!==null&&h!==void 0?h:void 0,W=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:U,emailVerified:ae,isAnonymous:Ce,providerData:de,stsTokenManager:M}=t;ne(U&&M,e,"internal-error");let g=Wi.fromJSON(this.name,M);ne(typeof U=="string",e,"internal-error"),a1(p,e.name),a1(_,e.name),ne(typeof ae=="boolean",e,"internal-error"),ne(typeof Ce=="boolean",e,"internal-error"),a1(b,e.name),a1(A,e.name),a1(N,e.name),a1(x,e.name),a1($,e.name),a1(W,e.name);let v=new n({uid:U,auth:e,email:_,emailVerified:ae,displayName:p,isAnonymous:Ce,photoURL:A,phoneNumber:b,tenantId:N,stsTokenManager:g,createdAt:$,lastLoginAt:W});return de&&Array.isArray(de)&&(v.providerData=de.map(L=>Object.assign({},L))),x&&(v._redirectEventId=x),v}static _fromIdTokenResponse(e,t,i=!1){return C(this,null,function*(){let s=new Wi;s.updateFromServerResponse(t);let r=new n({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return yield Ls(r),r})}static _fromGetAccountInfoResponse(e,t,i){return C(this,null,function*(){let s=t.users[0];ne(s.localId!==void 0,"internal-error");let r=s.providerUserInfo!==void 0?Th(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!r?.length,a=new Wi;a.updateFromIdToken(i);let l=new n({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:c}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Ki(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!r?.length};return Object.assign(l,h),l})}};var uh=new Map;function S2(n){x2(n instanceof Function,"Expected a class definition");let e=uh.get(n);return e?(x2(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,uh.set(n,e),e)}var mL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,i){return C(this,null,function*(){this.storage[t]=i})}_get(t){return C(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),w6=mL;function gs(n,e,t){return`firebase:${n}:${e}:${t}`}var Ms=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:s,name:r}=this.auth;this.fullUserKey=gs(this.userKey,s.apiKey,r),this.fullPersistenceKey=gs("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?$n._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return C(this,null,function*(){if(!t.length)return new n(S2(w6),e,i);let s=(yield Promise.all(t.map(h=>C(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),r=s[0]||S2(w6),c=gs(i,e.config.apiKey,e.name),a=null;for(let h of t)try{let f=yield h._get(c);if(f){let p=$n._fromJSON(e,f);h!==r&&(a=p),r=h;break}}catch{}let l=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new n(r,e,i):(r=l[0],a&&(yield r._set(c,a.toJSON())),yield Promise.all(t.map(h=>C(this,null,function*(){if(h!==r)try{yield h._remove(c)}catch{}}))),new n(r,e,i))})}};function hh(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nh(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sh(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kh(e))return"Blackberry";if(Ph(e))return"Webos";if(xh(e))return"Safari";if((e.includes("chrome/")||Ah(e))&&!e.includes("edge/"))return"Chrome";if(Rh(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function Sh(n=Xe()){return/firefox\//i.test(n)}function xh(n=Xe()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ah(n=Xe()){return/crios\//i.test(n)}function Nh(n=Xe()){return/iemobile/i.test(n)}function Rh(n=Xe()){return/android/i.test(n)}function kh(n=Xe()){return/blackberry/i.test(n)}function Ph(n=Xe()){return/webos/i.test(n)}function B6(n=Xe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pL(n=Xe()){var e;return B6(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gL(){return qu()&&document.documentMode===10}function Dh(n=Xe()){return B6(n)||Rh(n)||Ph(n)||kh(n)||/windows phone/i.test(n)||Nh(n)}function Oh(n,e=[]){let t;switch(n){case"Browser":t=hh(Xe());break;case"Worker":t=`${hh(Xe())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${o1}/${i}`}var b6=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=r=>new Promise((c,a)=>{try{let l=e(r);c(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);let s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function _L(t){return C(this,arguments,function*(n,e={}){return Hn(n,"GET","/v2/passwordPolicy",O6(n,e))})}var yL=6,z6=class{constructor(e){var t,i,s,r;let c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:yL,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,r,c,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(c=l.containsNumericCharacter)!==null&&c!==void 0?c:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}};var I6=class{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ws(this),this.idTokenSubscription=new ws(this),this.beforeStateQueue=new b6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=S2(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var i,s;if(!this._deleted&&(this.persistenceManager=yield Ms.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield Eh(this,{idToken:e}),i=yield $n._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(t2(this.app)){let c=this.app.settings.authIdToken;return c?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),s=i,r=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=s?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!c||c===a)&&l?.user&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{yield this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Ls(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=rL()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(t2(this.app))return Promise.reject(D1(this));let t=e?_t(e):null;return t&&ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return t2(this.app)?Promise.reject(D1(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return t2(this.app)?Promise.reject(D1(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(S2(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield _L(this),t=new z6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new I2("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield fL(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&S2(e)||this._popupRedirectResolver;ne(t,this,"argument-error"),this.redirectPersistenceManager=yield Ms.create(this,[S2(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};let r=typeof t=="function"?t:t.next.bind(t),c=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{c||r(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,i,s);return()=>{c=!0,l()}}else{let l=e.addObserver(t);return()=>{c=!0,l()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Oh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let s=yield this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t})}_getAppCheckToken(){return C(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&tL(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function As(n){return _t(n)}var ws=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gu(t=>this.observer=t)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var j6={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vL(n){j6=n}function CL(n){return j6.loadJS(n)}function LL(){return j6.gapiScript}function Fh(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function q6(n,e){let t=$i(n,"auth");if(t.isInitialized()){let s=t.getImmediate(),r=t.getOptions();if(k1(r,e??{}))return s;i2(s,"already-initialized")}return t.initialize({options:e})}function ML(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(S2);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function $6(n,e,t){let i=As(n);ne(i._canInitEmulator,i,"emulator-config-failed"),ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let s=!!t?.disableWarnings,r=Vh(e),{host:c,port:a}=wL(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${c}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||bL()}function Vh(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wL(n){let e=Vh(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){let r=s[1];return{host:r,port:dh(i.substr(r.length+1))}}else{let[r,c]=i.split(":");return{host:r,port:dh(c)}}}function dh(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function bL(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Yi=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return T2("not implemented")}_getIdTokenResponse(e){return T2("not implemented")}_linkToIdToken(e,t){return T2("not implemented")}_getReauthenticationResolver(e){return T2("not implemented")}};function qn(n,e){return C(this,null,function*(){return aL(n,"POST","/v1/accounts:signInWithIdp",O6(n,e))})}var zL="http://localhost",bs=class n extends Yi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):i2("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,r=p4(t,["providerId","signInMethod"]);if(!i||!s)return null;let c=new n(i,s);return c.idToken=r.idToken||void 0,c.accessToken=r.accessToken||void 0,c.secret=r.secret,c.nonce=r.nonce,c.pendingToken=r.pendingToken||null,c}_getIdTokenResponse(e){let t=this.buildRequest();return qn(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,qn(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,qn(e,t)}buildRequest(){let e={requestUri:zL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bn(t)}return e}};var Qi=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var zs=class extends Qi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var H6=(()=>{class n extends zs{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return bs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return n.credential(i,s)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var Xi=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,s=!1){return C(this,null,function*(){let r=yield $n._fromIdTokenResponse(e,i,s),c=fh(i);return new n({user:r,providerId:c,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return C(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let s=fh(i);return new n({user:e,providerId:s,_tokenResponse:i,operationType:t})})}};function fh(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var E6=class n extends zt{constructor(e,t,i,s){var r;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new n(e,t,i,s)}};function Uh(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?E6._fromErrorAndOperation(n,r,e,i):r})}function IL(n,e,t=!1){return C(this,null,function*(){let i=yield Gi(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Xi._forOperation(n,"link",i)})}function EL(n,e,t=!1){return C(this,null,function*(){let{auth:i}=n;if(t2(i.app))return Promise.reject(D1(i));let s="reauthenticate";try{let r=yield Gi(n,Uh(i,s,e,n),t);ne(r.idToken,i,"internal-error");let c=V6(r.idToken);ne(c,i,"internal-error");let{sub:a}=c;return ne(n.uid===a,i,"user-mismatch"),Xi._forOperation(n,s,r)}catch(r){throw r?.code==="auth/user-not-found"&&i2(i,"user-mismatch"),r}})}function TL(n,e,t=!1){return C(this,null,function*(){if(t2(n.app))return Promise.reject(D1(n));let i="signIn",s=yield Uh(n,i,e),r=yield Xi._fromIdTokenResponse(n,i,s);return t||(yield n._updateCurrentUser(r.user)),r})}function W6(n,e,t,i){return _t(n).onIdTokenChanged(e,t,i)}function G6(n,e,t){return _t(n).beforeAuthStateChanged(e,t)}var Is="__sak";var Es=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Is,"1"),this.storage.removeItem(Is),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var SL=1e3,xL=10,AL=(()=>{class n extends Es{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dh(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let s=this.storage.getItem(i),r=this.localCache[i];s!==r&&t(i,r,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,l,h)=>{this.notifyListeners(a,h)});return}let s=t.key;i?this.detachListener():this.stopPolling();let r=()=>{let a=this.storage.getItem(s);!i&&this.localCache[s]===a||this.notifyListeners(s,a)},c=this.storage.getItem(s);gL()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,xL):r()}notifyListeners(t,i){this.localCache[t]=i;let s=this.listeners[t];if(s)for(let r of Array.from(s))r(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},SL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return C(this,null,function*(){yield G2(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return C(this,null,function*(){let i=yield G2(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return C(this,null,function*(){yield G2(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Bh=AL;var NL=(()=>{class n extends Es{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),K6=NL;function RL(n){return Promise.all(n.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var kL=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(r=>r.isListeningto(t));if(i)return i;let s=new n(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}handleEvent(t){return C(this,null,function*(){let i=t,{eventId:s,eventType:r,data:c}=i.data,a=this.handlersMap[r];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:r});let l=Array.from(a).map(f=>C(this,null,function*(){return f(i.origin,c)})),h=yield RL(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:h})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Y6(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var T6=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return C(this,null,function*(){let s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,c;return new Promise((a,l)=>{let h=Y6("",20);s.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(p){let _=p;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(_.data.response);break;default:clearTimeout(f),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})})}};function n2(){return window}function PL(n){n2().location.href=n}function jh(){return typeof n2().WorkerGlobalScope<"u"&&typeof n2().importScripts=="function"}function DL(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function OL(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function FL(){return jh()?self:null}var qh="firebaseLocalStorageDb",VL=1,Ts="firebaseLocalStorage",$h="fbase_key",F1=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ns(n,e){return n.transaction([Ts],e?"readwrite":"readonly").objectStore(Ts)}function UL(){let n=indexedDB.deleteDatabase(qh);return new F1(n).toPromise()}function S6(){let n=indexedDB.open(qh,VL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Ts,{keyPath:$h})}catch(s){t(s)}}),n.addEventListener("success",()=>C(this,null,function*(){let i=n.result;i.objectStoreNames.contains(Ts)?e(i):(i.close(),yield UL(),e(yield S6()))}))})}function mh(n,e,t){return C(this,null,function*(){let i=Ns(n,!0).put({[$h]:e,value:t});return new F1(i).toPromise()})}function BL(n,e){return C(this,null,function*(){let t=Ns(n,!1).get(e),i=yield new F1(t).toPromise();return i===void 0?null:i.value})}function ph(n,e){let t=Ns(n,!0).delete(e);return new F1(t).toPromise()}var jL=800,qL=3,$L=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield S6(),this.db)})}_withRetries(t){return C(this,null,function*(){let i=0;for(;;)try{let s=yield this._openDb();return yield t(s)}catch(s){if(i++>qL)throw s;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return jh()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=kL._getInstance(FL()),this.receiver._subscribe("keyChanged",(t,i)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var t,i;if(this.activeServiceWorker=yield DL(),!this.activeServiceWorker)return;this.sender=new T6(this.activeServiceWorker);let s=yield this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||OL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let t=yield S6();return yield mh(t,Is,"1"),yield ph(t,Is),!0}catch{}return!1})}_withPendingWrite(t){return C(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(s=>mh(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return C(this,null,function*(){let i=yield this._withRetries(s=>BL(s,t));return this.localCache[t]=i,i})}_remove(t){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>ph(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return C(this,null,function*(){let t=yield this._withRetries(r=>{let c=Ns(r,!1).getAll();return new F1(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],s=new Set;if(t.length!==0)for(let{fbase_key:r,value:c}of t)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(c)&&(this.notifyListeners(r,c),i.push(r));for(let r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),i.push(r));return i})}notifyListeners(t,i){this.localCache[t]=i;let s=this.listeners[t];if(s)for(let r of Array.from(s))r(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),jL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Hh=$L;var nN=Fh("rcb"),iN=new O1(3e4,6e4);function Wh(n,e){return e?S2(e):(ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Ji=class extends Yi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qn(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function HL(n){return TL(n.auth,new Ji(n),n.bypassAuthState)}function WL(n){let{auth:e,user:t}=n;return ne(t,e,"internal-error"),EL(t,new Ji(n),n.bypassAuthState)}function GL(n){return C(this,null,function*(){let{auth:e,user:t}=n;return ne(t,e,"internal-error"),IL(t,new Ji(n),n.bypassAuthState)})}var Ss=class{constructor(e,t,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:s,tenantId:r,error:c,type:a}=e;if(c){this.reject(c);return}let l={auth:this.auth,requestUri:t,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HL;case"linkViaPopup":case"linkViaRedirect":return GL;case"reauthViaPopup":case"reauthViaRedirect":return WL;default:i2(this.auth,"internal-error")}}resolve(e){x2(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){x2(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var KL=new O1(2e3,1e4);function Rs(n,e,t){return C(this,null,function*(){if(t2(n.app))return Promise.reject(Ut(n,"operation-not-supported-in-this-environment"));let i=As(n);nL(n,e,Qi);let s=Wh(i,t);return new YL(i,"signInViaPopup",e,s).executeNotNull()})}var YL=(()=>{class n extends Ss{constructor(t,i,s,r,c){super(t,i,r,c),this.provider=s,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return C(this,null,function*(){let t=yield this.execute();return ne(t,this.auth,"internal-error"),t})}onExecution(){return C(this,null,function*(){x2(this.filter.length===1,"Popup operations only handle one event");let t=Y6();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ut(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ut(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KL.get())};t()}}n.currentPopupAction=null;return n})(),QL="pendingRedirect",_s=new Map,x6=class n extends Ss{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return C(this,null,function*(){let e=_s.get(this.auth._key());if(!e){try{let i=(yield XL(this.resolver,this.auth))?yield G2(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}_s.set(this.auth._key(),e)}return this.bypassAuthState||_s.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return G2(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,G2(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function XL(n,e){return C(this,null,function*(){let t=eM(e),i=ZL(n);if(!(yield i._isAvailable()))return!1;let s=(yield i._get(t))==="true";return yield i._remove(t),s})}function JL(n,e){_s.set(n._key(),e)}function ZL(n){return S2(n._redirectPersistence)}function eM(n){return gs(QL,n.config.apiKey,n.name)}function tM(n,e,t=!1){return C(this,null,function*(){if(t2(n.app))return Promise.reject(D1(n));let i=As(n),s=Wh(i,e),c=yield new x6(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,yield i._persistUserIfCurrent(c.user),yield i._setRedirectUser(null,e)),c})}var nM=10*60*1e3,A6=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Gh(e)){let s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ut(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nM&&this.cachedEventUids.clear(),this.cachedEventUids.has(gh(e))}saveEventToCache(e){this.cachedEventUids.add(gh(e)),this.lastProcessedEventTime=Date.now()}};function gh(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Gh({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function iM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gh(n);default:return!1}}function sM(t){return C(this,arguments,function*(n,e={}){return Hn(n,"GET","/v1/projects",e)})}var rM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cM=/^https?/;function oM(n){return C(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield sM(n);for(let t of e)try{if(aM(t))return}catch{}i2(n,"unauthorized-domain")})}function aM(n){let e=C6(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!cM.test(t))return!1;if(rM.test(n))return i===n;let s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}var lM=new O1(3e4,6e4);function _h(){let n=n2().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uM(n){return new Promise((e,t)=>{var i,s,r;function c(){_h(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_h(),t(Ut(n,"network-request-failed"))},timeout:lM.get()})}if(!((s=(i=n2().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=n2().gapi)===null||r===void 0)&&r.load)c();else{let a=Fh("iframefcb");return n2()[a]=()=>{gapi.load?c():t(Ut(n,"network-request-failed"))},CL(`${LL()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw ys=null,e})}var ys=null;function hM(n){return ys=ys||uM(n),ys}var dM=new O1(5e3,15e3),fM="__/auth/iframe",mM="emulator/auth/iframe",pM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _M(n){let e=n.config;ne(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?D6(e,mM):`https://${n.config.authDomain}/${fM}`,i={apiKey:e.apiKey,appName:n.name,v:o1},s=gM.get(n.config.apiHost);s&&(i.eid=s);let r=n._getFrameworks();return r.length&&(i.fw=r.join(",")),`${t}?${Bn(i).slice(1)}`}function yM(n){return C(this,null,function*(){let e=yield hM(n),t=n2().gapi;return ne(t,n,"internal-error"),e.open({where:document.body,url:_M(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pM,dontclear:!0},i=>new Promise((s,r)=>C(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let c=Ut(n,"network-request-failed"),a=n2().setTimeout(()=>{r(c)},dM.get());function l(){n2().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(c)})})))})}var vM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CM=500,LM=600,MM="_blank",wM="http://localhost",xs=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function bM(n,e,t,i=CM,s=LM){let r=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",l=Object.assign(Object.assign({},vM),{width:i.toString(),height:s.toString(),top:r,left:c}),h=Xe().toLowerCase();t&&(a=Ah(h)?MM:t),Sh(h)&&(e=e||wM,l.scrollbars="yes");let f=Object.entries(l).reduce((_,[b,A])=>`${_}${b}=${A},`,"");if(pL(h)&&a!=="_self")return zM(e||"",a),new xs(null);let p=window.open(e||"",a,f);ne(p,n,"popup-blocked");try{p.focus()}catch{}return new xs(p)}function zM(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var IM="__/auth/handler",EM="emulator/auth/handler",TM=encodeURIComponent("fac");function yh(n,e,t,i,s,r){return C(this,null,function*(){ne(n.config.authDomain,n,"auth-domain-config-required"),ne(n.config.apiKey,n,"invalid-api-key");let c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:o1,eventId:s};if(e instanceof Qi){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Wu(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(r||{}))c[f]=p}if(e instanceof zs){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(c.scopes=f.join(","))}n.tenantId&&(c.tid=n.tenantId);let a=c;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let l=yield n._getAppCheckToken(),h=l?`#${TM}=${encodeURIComponent(l)}`:"";return`${SM(n)}?${Bn(a).slice(1)}${h}`})}function SM({config:n}){return n.emulator?D6(n,EM):`https://${n.authDomain}/${IM}`}var v6="webStorageSupport",N6=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K6,this._completeRedirectFn=tM,this._overrideRedirectResult=JL}_openPopup(e,t,i,s){return C(this,null,function*(){var r;x2((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");let c=yield yh(e,t,i,C6(),s);return bM(e,c,Y6())})}_openRedirect(e,t,i,s){return C(this,null,function*(){yield this._originValidation(e);let r=yield yh(e,t,i,C6(),s);return PL(r),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:s,promise:r}=this.eventManagers[t];return s?Promise.resolve(s):(x2(r,"If manager is not set, promise should be"),r)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return C(this,null,function*(){let t=yield yM(e),i=new A6(e);return t.register("authEvent",s=>(ne(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(v6,{type:v6},s=>{var r;let c=(r=s?.[0])===null||r===void 0?void 0:r[v6];c!==void 0&&t(!!c),i2(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Dh()||xh()||B6()}},Kh=N6;var vh="@firebase/auth",Ch="1.7.9";var R6=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function xM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AM(n){c1(new Nt("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:c,authDomain:a}=i.options;ne(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:c,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Oh(n)},h=new I6(i,s,r,l);return ML(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),c1(new Nt("auth-internal",e=>{let t=As(e.getProvider("auth").getImmediate());return(i=>new R6(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je(vh,Ch,xM(n)),Je(vh,Ch,"esm2017")}var NM=5*60,RM=n6("authIdTokenMaxAge")||NM,Lh=null,kM=n=>e=>C(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>RM)return;let s=t?.token;Lh!==s&&(Lh=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});function Wn(n=jn()){let e=$i(n,"auth");if(e.isInitialized())return e.getImmediate();let t=q6(n,{popupRedirectResolver:Kh,persistence:[Hh,Bh,K6]}),i=n6("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let r=new URL(i,location.origin);if(location.origin===r.origin){let c=kM(r.toString());G6(t,c,()=>c(t.currentUser)),W6(t,a=>c(a))}}let s=e6("auth");return s&&$6(t,`http://${s}`),t}function PM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vL({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{let r=Ut("internal-error");r.customData=s,t(r)},i.type="text/javascript",i.charset="UTF-8",PM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AM("Browser");var Tw="firebase",Sw="10.14.1";Je(Tw,Sw,"app");var Kn=new ui("ANGULARFIRE2_VERSION");function X6(n,e,t){if(e){if(e.length===1)return e[0];let r=e.filter(c=>c.app===t);if(r.length===1)return r[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var e3=(n,e)=>{let t=e?[e]:fs(),i=[];return t.forEach(s=>{s.container.getProvider(n).instances.forEach(c=>{i.includes(c)||i.push(c)})}),i},Zi=class{constructor(){return e3(xw)}},xw="app-check";function Gn(){}var ks=class{zone;delegate;constructor(e,t=m4){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let s=this.zone,r=function(c){s.runGuarded(()=>{e.apply(this,[c])})};return this.delegate.schedule(r,t,i)}},Q6=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gn,{},Gn,Gn)),t.pipe(je({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},t3=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new ks(Zone.current)),this.insideAngular=t.run(()=>new ks(Zone.current,k7)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(T(re))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ps(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function Aw(n){return Ps().ngZone.runOutsideAngular(()=>n())}function V1(n){return Ps().ngZone.run(()=>n())}function Nw(n){return Rw(Ps())(n)}function Rw(n){return function(t){return t=t.lift(new Q6(n.ngZone)),t.pipe(Rc(n.outsideAngular),ei(n.insideAngular))}}var kw=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),V1(()=>n.apply(void 0,i))},A2=(n,e)=>function(){let t,i=arguments;for(let r=0;r<arguments.length;r++)typeof i[r]=="function"&&(e&&(t||=V1(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gn,{},Gn,Gn))),i[r]=kw(i[r],t));let s=Aw(()=>n.apply(this,i));if(!e)if(s instanceof ht){let r=Ps();return s.pipe(Rc(r.outsideAngular),ei(r.insideAngular))}else return V1(()=>s);return s instanceof ht?s.pipe(Nw):s instanceof Promise?V1(()=>new Promise((r,c)=>s.then(a=>V1(()=>r(a)),a=>V1(()=>c(a))))):typeof s=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),s.apply(this,arguments)}:V1(()=>s)};var U1=class{constructor(e){return e}},n3=class{constructor(){return fs()}};function Pw(n){return n&&n.length===1?n[0]:new U1(jn())}var J6=new B("angularfire2._apps"),Dw={provide:U1,useFactory:Pw,deps:[[new Dt,J6]]},Ow={provide:n3,deps:[[new Dt,J6]]};function Fw(n){return(e,t)=>{let i=t.get(Ft);Je("angularfire",Kn.full,"core"),Je("angularfire",Kn.full,"app"),Je("angular",r9.full,i.toString());let s=e.runOutsideAngular(()=>n(t));return new U1(s)}}function Yh(n,...e){return Lt([Dw,Ow,{provide:J6,useFactory:Fw(n),multi:!0,deps:[re,Fe,t3,...e]}])}var Vw="auth";var Ds=class{constructor(){return e3(Vw)}};var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xh={};var l1,Z6;(function(){var n;function e(M,g){function v(){}v.prototype=g.prototype,M.D=g.prototype,M.prototype=new v,M.prototype.constructor=M,M.C=function(L,w,E){for(var y=Array(arguments.length-2),p2=2;p2<arguments.length;p2++)y[p2-2]=arguments[p2];return g.prototype[w].apply(L,y)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,g,v){v||(v=0);var L=Array(16);if(typeof g=="string")for(var w=0;16>w;++w)L[w]=g.charCodeAt(v++)|g.charCodeAt(v++)<<8|g.charCodeAt(v++)<<16|g.charCodeAt(v++)<<24;else for(w=0;16>w;++w)L[w]=g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24;g=M.g[0],v=M.g[1],w=M.g[2];var E=M.g[3],y=g+(E^v&(w^E))+L[0]+3614090360&4294967295;g=v+(y<<7&4294967295|y>>>25),y=E+(w^g&(v^w))+L[1]+3905402710&4294967295,E=g+(y<<12&4294967295|y>>>20),y=w+(v^E&(g^v))+L[2]+606105819&4294967295,w=E+(y<<17&4294967295|y>>>15),y=v+(g^w&(E^g))+L[3]+3250441966&4294967295,v=w+(y<<22&4294967295|y>>>10),y=g+(E^v&(w^E))+L[4]+4118548399&4294967295,g=v+(y<<7&4294967295|y>>>25),y=E+(w^g&(v^w))+L[5]+1200080426&4294967295,E=g+(y<<12&4294967295|y>>>20),y=w+(v^E&(g^v))+L[6]+2821735955&4294967295,w=E+(y<<17&4294967295|y>>>15),y=v+(g^w&(E^g))+L[7]+4249261313&4294967295,v=w+(y<<22&4294967295|y>>>10),y=g+(E^v&(w^E))+L[8]+1770035416&4294967295,g=v+(y<<7&4294967295|y>>>25),y=E+(w^g&(v^w))+L[9]+2336552879&4294967295,E=g+(y<<12&4294967295|y>>>20),y=w+(v^E&(g^v))+L[10]+4294925233&4294967295,w=E+(y<<17&4294967295|y>>>15),y=v+(g^w&(E^g))+L[11]+2304563134&4294967295,v=w+(y<<22&4294967295|y>>>10),y=g+(E^v&(w^E))+L[12]+1804603682&4294967295,g=v+(y<<7&4294967295|y>>>25),y=E+(w^g&(v^w))+L[13]+4254626195&4294967295,E=g+(y<<12&4294967295|y>>>20),y=w+(v^E&(g^v))+L[14]+2792965006&4294967295,w=E+(y<<17&4294967295|y>>>15),y=v+(g^w&(E^g))+L[15]+1236535329&4294967295,v=w+(y<<22&4294967295|y>>>10),y=g+(w^E&(v^w))+L[1]+4129170786&4294967295,g=v+(y<<5&4294967295|y>>>27),y=E+(v^w&(g^v))+L[6]+3225465664&4294967295,E=g+(y<<9&4294967295|y>>>23),y=w+(g^v&(E^g))+L[11]+643717713&4294967295,w=E+(y<<14&4294967295|y>>>18),y=v+(E^g&(w^E))+L[0]+3921069994&4294967295,v=w+(y<<20&4294967295|y>>>12),y=g+(w^E&(v^w))+L[5]+3593408605&4294967295,g=v+(y<<5&4294967295|y>>>27),y=E+(v^w&(g^v))+L[10]+38016083&4294967295,E=g+(y<<9&4294967295|y>>>23),y=w+(g^v&(E^g))+L[15]+3634488961&4294967295,w=E+(y<<14&4294967295|y>>>18),y=v+(E^g&(w^E))+L[4]+3889429448&4294967295,v=w+(y<<20&4294967295|y>>>12),y=g+(w^E&(v^w))+L[9]+568446438&4294967295,g=v+(y<<5&4294967295|y>>>27),y=E+(v^w&(g^v))+L[14]+3275163606&4294967295,E=g+(y<<9&4294967295|y>>>23),y=w+(g^v&(E^g))+L[3]+4107603335&4294967295,w=E+(y<<14&4294967295|y>>>18),y=v+(E^g&(w^E))+L[8]+1163531501&4294967295,v=w+(y<<20&4294967295|y>>>12),y=g+(w^E&(v^w))+L[13]+2850285829&4294967295,g=v+(y<<5&4294967295|y>>>27),y=E+(v^w&(g^v))+L[2]+4243563512&4294967295,E=g+(y<<9&4294967295|y>>>23),y=w+(g^v&(E^g))+L[7]+1735328473&4294967295,w=E+(y<<14&4294967295|y>>>18),y=v+(E^g&(w^E))+L[12]+2368359562&4294967295,v=w+(y<<20&4294967295|y>>>12),y=g+(v^w^E)+L[5]+4294588738&4294967295,g=v+(y<<4&4294967295|y>>>28),y=E+(g^v^w)+L[8]+2272392833&4294967295,E=g+(y<<11&4294967295|y>>>21),y=w+(E^g^v)+L[11]+1839030562&4294967295,w=E+(y<<16&4294967295|y>>>16),y=v+(w^E^g)+L[14]+4259657740&4294967295,v=w+(y<<23&4294967295|y>>>9),y=g+(v^w^E)+L[1]+2763975236&4294967295,g=v+(y<<4&4294967295|y>>>28),y=E+(g^v^w)+L[4]+1272893353&4294967295,E=g+(y<<11&4294967295|y>>>21),y=w+(E^g^v)+L[7]+4139469664&4294967295,w=E+(y<<16&4294967295|y>>>16),y=v+(w^E^g)+L[10]+3200236656&4294967295,v=w+(y<<23&4294967295|y>>>9),y=g+(v^w^E)+L[13]+681279174&4294967295,g=v+(y<<4&4294967295|y>>>28),y=E+(g^v^w)+L[0]+3936430074&4294967295,E=g+(y<<11&4294967295|y>>>21),y=w+(E^g^v)+L[3]+3572445317&4294967295,w=E+(y<<16&4294967295|y>>>16),y=v+(w^E^g)+L[6]+76029189&4294967295,v=w+(y<<23&4294967295|y>>>9),y=g+(v^w^E)+L[9]+3654602809&4294967295,g=v+(y<<4&4294967295|y>>>28),y=E+(g^v^w)+L[12]+3873151461&4294967295,E=g+(y<<11&4294967295|y>>>21),y=w+(E^g^v)+L[15]+530742520&4294967295,w=E+(y<<16&4294967295|y>>>16),y=v+(w^E^g)+L[2]+3299628645&4294967295,v=w+(y<<23&4294967295|y>>>9),y=g+(w^(v|~E))+L[0]+4096336452&4294967295,g=v+(y<<6&4294967295|y>>>26),y=E+(v^(g|~w))+L[7]+1126891415&4294967295,E=g+(y<<10&4294967295|y>>>22),y=w+(g^(E|~v))+L[14]+2878612391&4294967295,w=E+(y<<15&4294967295|y>>>17),y=v+(E^(w|~g))+L[5]+4237533241&4294967295,v=w+(y<<21&4294967295|y>>>11),y=g+(w^(v|~E))+L[12]+1700485571&4294967295,g=v+(y<<6&4294967295|y>>>26),y=E+(v^(g|~w))+L[3]+2399980690&4294967295,E=g+(y<<10&4294967295|y>>>22),y=w+(g^(E|~v))+L[10]+4293915773&4294967295,w=E+(y<<15&4294967295|y>>>17),y=v+(E^(w|~g))+L[1]+2240044497&4294967295,v=w+(y<<21&4294967295|y>>>11),y=g+(w^(v|~E))+L[8]+1873313359&4294967295,g=v+(y<<6&4294967295|y>>>26),y=E+(v^(g|~w))+L[15]+4264355552&4294967295,E=g+(y<<10&4294967295|y>>>22),y=w+(g^(E|~v))+L[6]+2734768916&4294967295,w=E+(y<<15&4294967295|y>>>17),y=v+(E^(w|~g))+L[13]+1309151649&4294967295,v=w+(y<<21&4294967295|y>>>11),y=g+(w^(v|~E))+L[4]+4149444226&4294967295,g=v+(y<<6&4294967295|y>>>26),y=E+(v^(g|~w))+L[11]+3174756917&4294967295,E=g+(y<<10&4294967295|y>>>22),y=w+(g^(E|~v))+L[2]+718787259&4294967295,w=E+(y<<15&4294967295|y>>>17),y=v+(E^(w|~g))+L[9]+3951481745&4294967295,M.g[0]=M.g[0]+g&4294967295,M.g[1]=M.g[1]+(w+(y<<21&4294967295|y>>>11))&4294967295,M.g[2]=M.g[2]+w&4294967295,M.g[3]=M.g[3]+E&4294967295}i.prototype.u=function(M,g){g===void 0&&(g=M.length);for(var v=g-this.blockSize,L=this.B,w=this.h,E=0;E<g;){if(w==0)for(;E<=v;)s(this,M,E),E+=this.blockSize;if(typeof M=="string"){for(;E<g;)if(L[w++]=M.charCodeAt(E++),w==this.blockSize){s(this,L),w=0;break}}else for(;E<g;)if(L[w++]=M[E++],w==this.blockSize){s(this,L),w=0;break}}this.h=w,this.o+=g},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var g=1;g<M.length-8;++g)M[g]=0;var v=8*this.o;for(g=M.length-8;g<M.length;++g)M[g]=v&255,v/=256;for(this.u(M),M=Array(16),g=v=0;4>g;++g)for(var L=0;32>L;L+=8)M[v++]=this.g[g]>>>L&255;return M};function r(M,g){var v=a;return Object.prototype.hasOwnProperty.call(v,M)?v[M]:v[M]=g(M)}function c(M,g){this.h=g;for(var v=[],L=!0,w=M.length-1;0<=w;w--){var E=M[w]|0;L&&E==g||(v[w]=E,L=!1)}this.g=v}var a={};function l(M){return-128<=M&&128>M?r(M,function(g){return new c([g|0],0>g?-1:0)}):new c([M|0],0>M?-1:0)}function h(M){if(isNaN(M)||!isFinite(M))return p;if(0>M)return x(h(-M));for(var g=[],v=1,L=0;M>=v;L++)g[L]=M/v|0,v*=4294967296;return new c(g,0)}function f(M,g){if(M.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(M.charAt(0)=="-")return x(f(M.substring(1),g));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=h(Math.pow(g,8)),L=p,w=0;w<M.length;w+=8){var E=Math.min(8,M.length-w),y=parseInt(M.substring(w,w+E),g);8>E?(E=h(Math.pow(g,E)),L=L.j(E).add(h(y))):(L=L.j(v),L=L.add(h(y)))}return L}var p=l(0),_=l(1),b=l(16777216);n=c.prototype,n.m=function(){if(N(this))return-x(this).m();for(var M=0,g=1,v=0;v<this.g.length;v++){var L=this.i(v);M+=(0<=L?L:4294967296+L)*g,g*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(A(this))return"0";if(N(this))return"-"+x(this).toString(M);for(var g=h(Math.pow(M,6)),v=this,L="";;){var w=ae(v,g).g;v=$(v,w.j(g));var E=((0<v.g.length?v.g[0]:v.h)>>>0).toString(M);if(v=w,A(v))return E+L;for(;6>E.length;)E="0"+E;L=E+L}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function A(M){if(M.h!=0)return!1;for(var g=0;g<M.g.length;g++)if(M.g[g]!=0)return!1;return!0}function N(M){return M.h==-1}n.l=function(M){return M=$(this,M),N(M)?-1:A(M)?0:1};function x(M){for(var g=M.g.length,v=[],L=0;L<g;L++)v[L]=~M.g[L];return new c(v,~M.h).add(_)}n.abs=function(){return N(this)?x(this):this},n.add=function(M){for(var g=Math.max(this.g.length,M.g.length),v=[],L=0,w=0;w<=g;w++){var E=L+(this.i(w)&65535)+(M.i(w)&65535),y=(E>>>16)+(this.i(w)>>>16)+(M.i(w)>>>16);L=y>>>16,E&=65535,y&=65535,v[w]=y<<16|E}return new c(v,v[v.length-1]&-2147483648?-1:0)};function $(M,g){return M.add(x(g))}n.j=function(M){if(A(this)||A(M))return p;if(N(this))return N(M)?x(this).j(x(M)):x(x(this).j(M));if(N(M))return x(this.j(x(M)));if(0>this.l(b)&&0>M.l(b))return h(this.m()*M.m());for(var g=this.g.length+M.g.length,v=[],L=0;L<2*g;L++)v[L]=0;for(L=0;L<this.g.length;L++)for(var w=0;w<M.g.length;w++){var E=this.i(L)>>>16,y=this.i(L)&65535,p2=M.i(w)>>>16,P0=M.i(w)&65535;v[2*L+2*w]+=y*P0,W(v,2*L+2*w),v[2*L+2*w+1]+=E*P0,W(v,2*L+2*w+1),v[2*L+2*w+1]+=y*p2,W(v,2*L+2*w+1),v[2*L+2*w+2]+=E*p2,W(v,2*L+2*w+2)}for(L=0;L<g;L++)v[L]=v[2*L+1]<<16|v[2*L];for(L=g;L<2*g;L++)v[L]=0;return new c(v,0)};function W(M,g){for(;(M[g]&65535)!=M[g];)M[g+1]+=M[g]>>>16,M[g]&=65535,g++}function U(M,g){this.g=M,this.h=g}function ae(M,g){if(A(g))throw Error("division by zero");if(A(M))return new U(p,p);if(N(M))return g=ae(x(M),g),new U(x(g.g),x(g.h));if(N(g))return g=ae(M,x(g)),new U(x(g.g),g.h);if(30<M.g.length){if(N(M)||N(g))throw Error("slowDivide_ only works with positive integers.");for(var v=_,L=g;0>=L.l(M);)v=Ce(v),L=Ce(L);var w=de(v,1),E=de(L,1);for(L=de(L,2),v=de(v,2);!A(L);){var y=E.add(L);0>=y.l(M)&&(w=w.add(v),E=y),L=de(L,1),v=de(v,1)}return g=$(M,w.j(g)),new U(w,g)}for(w=p;0<=M.l(g);){for(v=Math.max(1,Math.floor(M.m()/g.m())),L=Math.ceil(Math.log(v)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),E=h(v),y=E.j(g);N(y)||0<y.l(M);)v-=L,E=h(v),y=E.j(g);A(E)&&(E=_),w=w.add(E),M=$(M,y)}return new U(w,M)}n.A=function(M){return ae(this,M).h},n.and=function(M){for(var g=Math.max(this.g.length,M.g.length),v=[],L=0;L<g;L++)v[L]=this.i(L)&M.i(L);return new c(v,this.h&M.h)},n.or=function(M){for(var g=Math.max(this.g.length,M.g.length),v=[],L=0;L<g;L++)v[L]=this.i(L)|M.i(L);return new c(v,this.h|M.h)},n.xor=function(M){for(var g=Math.max(this.g.length,M.g.length),v=[],L=0;L<g;L++)v[L]=this.i(L)^M.i(L);return new c(v,this.h^M.h)};function Ce(M){for(var g=M.g.length+1,v=[],L=0;L<g;L++)v[L]=M.i(L)<<1|M.i(L-1)>>>31;return new c(v,M.h)}function de(M,g){var v=g>>5;g%=32;for(var L=M.g.length-v,w=[],E=0;E<L;E++)w[E]=0<g?M.i(E+v)>>>g|M.i(E+v+1)<<32-g:M.i(E+v);return new c(w,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Z6=Xh.Md5=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=f,l1=Xh.Integer=c}).apply(typeof Qh<"u"?Qh:typeof self<"u"?self:typeof window<"u"?window:{});var Os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N2={};var ea,Uw,Yn,ta,i3,Fs,na,ia,sa;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,d){return o==Array.prototype||o==Object.prototype||(o[u]=d.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Os=="object"&&Os];for(var u=0;u<o.length;++u){var d=o[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=t(this);function s(o,u){if(u)e:{var d=i;o=o.split(".");for(var m=0;m<o.length-1;m++){var z=o[m];if(!(z in d))break e;d=d[z]}o=o[o.length-1],m=d[o],u=u(m),u!=m&&u!=null&&e(d,o,{configurable:!0,writable:!0,value:u})}}function r(o,u){o instanceof String&&(o+="");var d=0,m=!1,z={next:function(){if(!m&&d<o.length){var S=d++;return{value:u(S,o[S]),done:!1}}return m=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(o){return o||function(){return r(this,function(u,d){return d})}});var c=c||{},a=this||self;function l(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function h(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function f(o,u,d){return o.call.apply(o.bind,arguments)}function p(o,u,d){if(!o)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,m),o.apply(u,z)}}return function(){return o.apply(u,arguments)}}function _(o,u,d){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,_.apply(null,arguments)}function b(o,u){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),o.apply(this,m)}}function A(o,u){function d(){}d.prototype=u.prototype,o.aa=u.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(m,z,S){for(var F=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)F[Ie-2]=arguments[Ie];return u.prototype[z].apply(m,F)}}function N(o){let u=o.length;if(0<u){let d=Array(u);for(let m=0;m<u;m++)d[m]=o[m];return d}return[]}function x(o,u){for(let d=1;d<arguments.length;d++){let m=arguments[d];if(l(m)){let z=o.length||0,S=m.length||0;o.length=z+S;for(let F=0;F<S;F++)o[z+F]=m[F]}else o.push(m)}}class ${constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function W(o){return/^[\s\xa0]*$/.test(o)}function U(){var o=a.navigator;return o&&(o=o.userAgent)?o:""}function ae(o){return ae[" "](o),o}ae[" "]=function(){};var Ce=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function de(o,u,d){for(let m in o)u.call(d,o[m],m,o)}function M(o,u){for(let d in o)u.call(void 0,o[d],d,o)}function g(o){let u={};for(let d in o)u[d]=o[d];return u}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(o,u){let d,m;for(let z=1;z<arguments.length;z++){m=arguments[z];for(d in m)o[d]=m[d];for(let S=0;S<v.length;S++)d=v[S],Object.prototype.hasOwnProperty.call(m,d)&&(o[d]=m[d])}}function w(o){var u=1;o=o.split(":");let d=[];for(;0<u&&o.length;)d.push(o.shift()),u--;return o.length&&d.push(o.join(":")),d}function E(o){a.setTimeout(()=>{throw o},0)}function y(){var o=cc;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class p2{constructor(){this.h=this.g=null}add(u,d){let m=P0.get();m.set(u,d),this.h?this.h.next=m:this.g=m,this.h=m}}var P0=new $(()=>new wg,o=>o.reset());class wg{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let D0,O0=!1,cc=new p2,N5=()=>{let o=a.Promise.resolve(void 0);D0=()=>{o.then(bg)}};var bg=()=>{for(var o;o=y();){try{o.h.call(o.g)}catch(d){E(d)}var u=P0;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}O0=!1};function q2(){this.s=this.s,this.C=this.C}q2.prototype.s=!1,q2.prototype.ma=function(){this.s||(this.s=!0,this.N())},q2.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var zg=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{let d=()=>{};a.addEventListener("test",d,u),a.removeEventListener("test",d,u)}catch{}return o}();function F0(o,u){if(nt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,m=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(Ce){e:{try{ae(u.nodeName);var z=!0;break e}catch{}z=!1}z||(u=null)}}else d=="mouseover"?u=o.fromElement:d=="mouseout"&&(u=o.toElement);this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Ig[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&F0.aa.h.call(this)}}A(F0,nt);var Ig={2:"touch",3:"pen",4:"mouse"};F0.prototype.h=function(){F0.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var V0="closure_listenable_"+(1e6*Math.random()|0),Eg=0;function Tg(o,u,d,m,z){this.listener=o,this.proxy=null,this.src=u,this.type=d,this.capture=!!m,this.ha=z,this.key=++Eg,this.da=this.fa=!1}function X3(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function J3(o){this.src=o,this.g={},this.h=0}J3.prototype.add=function(o,u,d,m,z){var S=o.toString();o=this.g[S],o||(o=this.g[S]=[],this.h++);var F=ac(o,u,m,z);return-1<F?(u=o[F],d||(u.fa=!1)):(u=new Tg(u,this.src,S,!!m,z),u.fa=d,o.push(u)),u};function oc(o,u){var d=u.type;if(d in o.g){var m=o.g[d],z=Array.prototype.indexOf.call(m,u,void 0),S;(S=0<=z)&&Array.prototype.splice.call(m,z,1),S&&(X3(u),o.g[d].length==0&&(delete o.g[d],o.h--))}}function ac(o,u,d,m){for(var z=0;z<o.length;++z){var S=o[z];if(!S.da&&S.listener==u&&S.capture==!!d&&S.ha==m)return z}return-1}var lc="closure_lm_"+(1e6*Math.random()|0),uc={};function R5(o,u,d,m,z){if(m&&m.once)return P5(o,u,d,m,z);if(Array.isArray(u)){for(var S=0;S<u.length;S++)R5(o,u[S],d,m,z);return null}return d=mc(d),o&&o[V0]?o.K(u,d,h(m)?!!m.capture:!!m,z):k5(o,u,d,!1,m,z)}function k5(o,u,d,m,z,S){if(!u)throw Error("Invalid event type");var F=h(z)?!!z.capture:!!z,Ie=dc(o);if(Ie||(o[lc]=Ie=new J3(o)),d=Ie.add(u,d,m,F,S),d.proxy)return d;if(m=Sg(),d.proxy=m,m.src=o,m.listener=d,o.addEventListener)zg||(z=F),z===void 0&&(z=!1),o.addEventListener(u.toString(),m,z);else if(o.attachEvent)o.attachEvent(O5(u.toString()),m);else if(o.addListener&&o.removeListener)o.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return d}function Sg(){function o(d){return u.call(o.src,o.listener,d)}let u=xg;return o}function P5(o,u,d,m,z){if(Array.isArray(u)){for(var S=0;S<u.length;S++)P5(o,u[S],d,m,z);return null}return d=mc(d),o&&o[V0]?o.L(u,d,h(m)?!!m.capture:!!m,z):k5(o,u,d,!0,m,z)}function D5(o,u,d,m,z){if(Array.isArray(u))for(var S=0;S<u.length;S++)D5(o,u[S],d,m,z);else m=h(m)?!!m.capture:!!m,d=mc(d),o&&o[V0]?(o=o.i,u=String(u).toString(),u in o.g&&(S=o.g[u],d=ac(S,d,m,z),-1<d&&(X3(S[d]),Array.prototype.splice.call(S,d,1),S.length==0&&(delete o.g[u],o.h--)))):o&&(o=dc(o))&&(u=o.g[u.toString()],o=-1,u&&(o=ac(u,d,m,z)),(d=-1<o?u[o]:null)&&hc(d))}function hc(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[V0])oc(u.i,o);else{var d=o.type,m=o.proxy;u.removeEventListener?u.removeEventListener(d,m,o.capture):u.detachEvent?u.detachEvent(O5(d),m):u.addListener&&u.removeListener&&u.removeListener(m),(d=dc(u))?(oc(d,o),d.h==0&&(d.src=null,u[lc]=null)):X3(o)}}}function O5(o){return o in uc?uc[o]:uc[o]="on"+o}function xg(o,u){if(o.da)o=!0;else{u=new F0(u,this);var d=o.listener,m=o.ha||o.src;o.fa&&hc(o),o=d.call(m,u)}return o}function dc(o){return o=o[lc],o instanceof J3?o:null}var fc="__closure_events_fn_"+(1e9*Math.random()>>>0);function mc(o){return typeof o=="function"?o:(o[fc]||(o[fc]=function(u){return o.handleEvent(u)}),o[fc])}function it(){q2.call(this),this.i=new J3(this),this.M=this,this.F=null}A(it,q2),it.prototype[V0]=!0,it.prototype.removeEventListener=function(o,u,d,m){D5(this,o,u,d,m)};function lt(o,u){var d,m=o.F;if(m)for(d=[];m;m=m.F)d.push(m);if(o=o.M,m=u.type||u,typeof u=="string")u=new nt(u,o);else if(u instanceof nt)u.target=u.target||o;else{var z=u;u=new nt(m,o),L(u,z)}if(z=!0,d)for(var S=d.length-1;0<=S;S--){var F=u.g=d[S];z=Z3(F,m,!0,u)&&z}if(F=u.g=o,z=Z3(F,m,!0,u)&&z,z=Z3(F,m,!1,u)&&z,d)for(S=0;S<d.length;S++)F=u.g=d[S],z=Z3(F,m,!1,u)&&z}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var d=o.g[u],m=0;m<d.length;m++)X3(d[m]);delete o.g[u],o.h--}}this.F=null},it.prototype.K=function(o,u,d,m){return this.i.add(String(o),u,!1,d,m)},it.prototype.L=function(o,u,d,m){return this.i.add(String(o),u,!0,d,m)};function Z3(o,u,d,m){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var z=!0,S=0;S<u.length;++S){var F=u[S];if(F&&!F.da&&F.capture==d){var Ie=F.listener,et=F.ha||F.src;F.fa&&oc(o.i,F),z=Ie.call(et,m)!==!1&&z}}return z&&!m.defaultPrevented}function F5(o,u,d){if(typeof o=="function")d&&(o=_(o,d));else if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:a.setTimeout(o,u||0)}function V5(o){o.g=F5(()=>{o.g=null,o.i&&(o.i=!1,V5(o))},o.l);let u=o.h;o.h=null,o.m.apply(null,u)}class Ag extends q2{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:V5(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function U0(o){q2.call(this),this.h=o,this.g={}}A(U0,q2);var U5=[];function B5(o){de(o.g,function(u,d){this.g.hasOwnProperty(d)&&hc(u)},o),o.g={}}U0.prototype.N=function(){U0.aa.N.call(this),B5(this)},U0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pc=a.JSON.stringify,Ng=a.JSON.parse,Rg=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function gc(){}gc.prototype.h=null;function j5(o){return o.h||(o.h=o.i())}function q5(){}var B0={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _c(){nt.call(this,"d")}A(_c,nt);function yc(){nt.call(this,"c")}A(yc,nt);var M1={},$5=null;function e4(){return $5=$5||new it}M1.La="serverreachability";function H5(o){nt.call(this,M1.La,o)}A(H5,nt);function j0(o){let u=e4();lt(u,new H5(u))}M1.STAT_EVENT="statevent";function W5(o,u){nt.call(this,M1.STAT_EVENT,o),this.stat=u}A(W5,nt);function ut(o){let u=e4();lt(u,new W5(u,o))}M1.Ma="timingevent";function G5(o,u){nt.call(this,M1.Ma,o),this.size=u}A(G5,nt);function q0(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},u)}function $0(){this.g=!0}$0.prototype.xa=function(){this.g=!1};function kg(o,u,d,m,z,S){o.info(function(){if(o.g)if(S)for(var F="",Ie=S.split("&"),et=0;et<Ie.length;et++){var ye=Ie[et].split("=");if(1<ye.length){var st=ye[0];ye=ye[1];var rt=st.split("_");F=2<=rt.length&&rt[1]=="type"?F+(st+"="+ye+"&"):F+(st+"=redacted&")}}else F=null;else F=S;return"XMLHTTP REQ ("+m+") [attempt "+z+"]: "+u+`
`+d+`
`+F})}function Pg(o,u,d,m,z,S,F){o.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+z+"]: "+u+`
`+d+`
`+S+" "+F})}function fn(o,u,d,m){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+Og(o,d)+(m?" "+m:"")})}function Dg(o,u){o.info(function(){return"TIMEOUT: "+u})}$0.prototype.info=function(){};function Og(o,u){if(!o.g)return u;if(!u)return null;try{var d=JSON.parse(u);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var m=d[o];if(!(2>m.length)){var z=m[1];if(Array.isArray(z)&&!(1>z.length)){var S=z[0];if(S!="noop"&&S!="stop"&&S!="close")for(var F=1;F<z.length;F++)z[F]=""}}}}return pc(d)}catch{return u}}var t4={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},K5={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vc;function n4(){}A(n4,gc),n4.prototype.g=function(){return new XMLHttpRequest},n4.prototype.i=function(){return{}},vc=new n4;function $2(o,u,d,m){this.j=o,this.i=u,this.l=d,this.R=m||1,this.U=new U0(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Y5}function Y5(){this.i=null,this.g="",this.h=!1}var Q5={},Cc={};function Lc(o,u,d){o.L=1,o.v=c4(g2(u)),o.m=d,o.P=!0,X5(o,null)}function X5(o,u){o.F=Date.now(),i4(o),o.A=g2(o.v);var d=o.A,m=o.R;Array.isArray(m)||(m=[String(m)]),h7(d.i,"t",m),o.C=0,d=o.j.J,o.h=new Y5,o.g=S7(o.j,d?u:null,!o.m),0<o.O&&(o.M=new Ag(_(o.Y,o,o.g),o.O)),u=o.U,d=o.g,m=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(U5[0]=z.toString()),z=U5);for(var S=0;S<z.length;S++){var F=R5(d,z[S],m||u.handleEvent,!1,u.h||u);if(!F)break;u.g[F.key]=F}u=o.H?g(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),j0(),kg(o.i,o.u,o.A,o.l,o.R,o.m)}$2.prototype.ca=function(o){o=o.target;let u=this.M;u&&_2(o)==3?u.j():this.Y(o)},$2.prototype.Y=function(o){try{if(o==this.g)e:{let rt=_2(this.g);var u=this.g.Ba();let gn=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||y7(this.g)))){this.J||rt!=4||u==7||(u==8||0>=gn?j0(3):j0(2)),Mc(this);var d=this.g.Z();this.X=d;t:if(J5(this)){var m=y7(this.g);o="";var z=m.length,S=_2(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){w1(this),H0(this);var F="";break t}this.h.i=new a.TextDecoder}for(u=0;u<z;u++)this.h.h=!0,o+=this.h.i.decode(m[u],{stream:!(S&&u==z-1)});m.length=0,this.h.g+=o,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=d==200,Pg(this.i,this.u,this.A,this.l,this.R,rt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,et=this.g;if((Ie=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ie)){var ye=Ie;break t}}ye=null}if(d=ye)fn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wc(this,d);else{this.o=!1,this.s=3,ut(12),w1(this),H0(this);break e}}if(this.P){d=!0;let Pt;for(;!this.J&&this.C<F.length;)if(Pt=Fg(this,F),Pt==Cc){rt==4&&(this.s=4,ut(14),d=!1),fn(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==Q5){this.s=4,ut(15),fn(this.i,this.l,F,"[Invalid Chunk]"),d=!1;break}else fn(this.i,this.l,Pt,null),wc(this,Pt);if(J5(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||F.length!=0||this.h.h||(this.s=1,ut(16),d=!1),this.o=this.o&&d,!d)fn(this.i,this.l,F,"[Invalid Chunked Response]"),w1(this),H0(this);else if(0<F.length&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.ba&&!st.M&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Sc(st),st.M=!0,ut(11))}}else fn(this.i,this.l,F,null),wc(this,F);rt==4&&w1(this),this.o&&!this.J&&(rt==4?z7(this.j,this):(this.o=!1,i4(this)))}else t_(this.g),d==400&&0<F.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),w1(this),H0(this)}}}catch{}finally{}};function J5(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Fg(o,u){var d=o.C,m=u.indexOf(`
`,d);return m==-1?Cc:(d=Number(u.substring(d,m)),isNaN(d)?Q5:(m+=1,m+d>u.length?Cc:(u=u.slice(m,m+d),o.C=m+d,u)))}$2.prototype.cancel=function(){this.J=!0,w1(this)};function i4(o){o.S=Date.now()+o.I,Z5(o,o.I)}function Z5(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=q0(_(o.ba,o),u)}function Mc(o){o.B&&(a.clearTimeout(o.B),o.B=null)}$2.prototype.ba=function(){this.B=null;let o=Date.now();0<=o-this.S?(Dg(this.i,this.A),this.L!=2&&(j0(),ut(17)),w1(this),this.s=2,H0(this)):Z5(this,this.S-o)};function H0(o){o.j.G==0||o.J||z7(o.j,o)}function w1(o){Mc(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,B5(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function wc(o,u){try{var d=o.j;if(d.G!=0&&(d.g==o||bc(d.h,o))){if(!o.K&&bc(d.h,o)&&d.G==3){try{var m=d.Da.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var z=m;if(z[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)h4(d),l4(d);else break e;Tc(d),ut(18)}}else d.za=z[1],0<d.za-d.T&&37500>z[2]&&d.F&&d.v==0&&!d.C&&(d.C=q0(_(d.Za,d),6e3));if(1>=n7(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else z1(d,11)}else if((o.K||d.g==o)&&h4(d),!W(u))for(z=d.Da.g.parse(u),u=0;u<z.length;u++){let ye=z[u];if(d.T=ye[0],ye=ye[1],d.G==2)if(ye[0]=="c"){d.K=ye[1],d.ia=ye[2];let st=ye[3];st!=null&&(d.la=st,d.j.info("VER="+d.la));let rt=ye[4];rt!=null&&(d.Aa=rt,d.j.info("SVER="+d.Aa));let gn=ye[5];gn!=null&&typeof gn=="number"&&0<gn&&(m=1.5*gn,d.L=m,d.j.info("backChannelRequestTimeoutMs_="+m)),m=d;let Pt=o.g;if(Pt){let f4=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f4){var S=m.h;S.g||f4.indexOf("spdy")==-1&&f4.indexOf("quic")==-1&&f4.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(zc(S,S.h),S.h=null))}if(m.D){let xc=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;xc&&(m.ya=xc,Ae(m.I,m.D,xc))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),m=d;var F=o;if(m.qa=T7(m,m.J?m.ia:null,m.W),F.K){i7(m.h,F);var Ie=F,et=m.L;et&&(Ie.I=et),Ie.B&&(Mc(Ie),i4(Ie)),m.g=F}else w7(m);0<d.i.length&&u4(d)}else ye[0]!="stop"&&ye[0]!="close"||z1(d,7);else d.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?z1(d,7):Ec(d):ye[0]!="noop"&&d.l&&d.l.ta(ye),d.v=0)}}j0(4)}catch{}}var Vg=class{constructor(o,u){this.g=o,this.map=u}};function e7(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function t7(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function n7(o){return o.h?1:o.g?o.g.size:0}function bc(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function zc(o,u){o.g?o.g.add(u):o.h=u}function i7(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}e7.prototype.cancel=function(){if(this.i=s7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let o of this.g.values())o.cancel();this.g.clear()}};function s7(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(let d of o.g.values())u=u.concat(d.D);return u}return N(o.i)}function Ug(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(l(o)){for(var u=[],d=o.length,m=0;m<d;m++)u.push(o[m]);return u}u=[],d=0;for(m in o)u[d++]=o[m];return u}function Bg(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(l(o)||typeof o=="string"){var u=[];o=o.length;for(var d=0;d<o;d++)u.push(d);return u}u=[],d=0;for(let m in o)u[d++]=m;return u}}}function r7(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(l(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var d=Bg(o),m=Ug(o),z=m.length,S=0;S<z;S++)u.call(void 0,m[S],d&&d[S],o)}var c7=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jg(o,u){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var m=o[d].indexOf("="),z=null;if(0<=m){var S=o[d].substring(0,m);z=o[d].substring(m+1)}else S=o[d];u(S,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function b1(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof b1){this.h=o.h,s4(this,o.j),this.o=o.o,this.g=o.g,r4(this,o.s),this.l=o.l;var u=o.i,d=new K0;d.i=u.i,u.g&&(d.g=new Map(u.g),d.h=u.h),o7(this,d),this.m=o.m}else o&&(u=String(o).match(c7))?(this.h=!1,s4(this,u[1]||"",!0),this.o=W0(u[2]||""),this.g=W0(u[3]||"",!0),r4(this,u[4]),this.l=W0(u[5]||"",!0),o7(this,u[6]||"",!0),this.m=W0(u[7]||"")):(this.h=!1,this.i=new K0(null,this.h))}b1.prototype.toString=function(){var o=[],u=this.j;u&&o.push(G0(u,a7,!0),":");var d=this.g;return(d||u=="file")&&(o.push("//"),(u=this.o)&&o.push(G0(u,a7,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(G0(d,d.charAt(0)=="/"?Hg:$g,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",G0(d,Gg)),o.join("")};function g2(o){return new b1(o)}function s4(o,u,d){o.j=d?W0(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function r4(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function o7(o,u,d){u instanceof K0?(o.i=u,Kg(o.i,o.h)):(d||(u=G0(u,Wg)),o.i=new K0(u,o.h))}function Ae(o,u,d){o.i.set(u,d)}function c4(o){return Ae(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function W0(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function G0(o,u,d){return typeof o=="string"?(o=encodeURI(o).replace(u,qg),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function qg(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var a7=/[#\/\?@]/g,$g=/[#\?:]/g,Hg=/[#\?]/g,Wg=/[#\?@]/g,Gg=/#/g;function K0(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function H2(o){o.g||(o.g=new Map,o.h=0,o.i&&jg(o.i,function(u,d){o.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}n=K0.prototype,n.add=function(o,u){H2(this),this.i=null,o=mn(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(u),this.h+=1,this};function l7(o,u){H2(o),u=mn(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function u7(o,u){return H2(o),u=mn(o,u),o.g.has(u)}n.forEach=function(o,u){H2(this),this.g.forEach(function(d,m){d.forEach(function(z){o.call(u,z,m,this)},this)},this)},n.na=function(){H2(this);let o=Array.from(this.g.values()),u=Array.from(this.g.keys()),d=[];for(let m=0;m<u.length;m++){let z=o[m];for(let S=0;S<z.length;S++)d.push(u[m])}return d},n.V=function(o){H2(this);let u=[];if(typeof o=="string")u7(this,o)&&(u=u.concat(this.g.get(mn(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)u=u.concat(o[d])}return u},n.set=function(o,u){return H2(this),this.i=null,o=mn(this,o),u7(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},n.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function h7(o,u,d){l7(o,u),0<d.length&&(o.i=null,o.g.set(mn(o,u),N(d)),o.h+=d.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let o=[],u=Array.from(this.g.keys());for(var d=0;d<u.length;d++){var m=u[d];let S=encodeURIComponent(String(m)),F=this.V(m);for(m=0;m<F.length;m++){var z=S;F[m]!==""&&(z+="="+encodeURIComponent(String(F[m]))),o.push(z)}}return this.i=o.join("&")};function mn(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function Kg(o,u){u&&!o.j&&(H2(o),o.i=null,o.g.forEach(function(d,m){var z=m.toLowerCase();m!=z&&(l7(this,m),h7(this,z,d))},o)),o.j=u}function Yg(o,u){let d=new $0;if(a.Image){let m=new Image;m.onload=b(W2,d,"TestLoadImage: loaded",!0,u,m),m.onerror=b(W2,d,"TestLoadImage: error",!1,u,m),m.onabort=b(W2,d,"TestLoadImage: abort",!1,u,m),m.ontimeout=b(W2,d,"TestLoadImage: timeout",!1,u,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=o}else u(!1)}function Qg(o,u){let d=new $0,m=new AbortController,z=setTimeout(()=>{m.abort(),W2(d,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:m.signal}).then(S=>{clearTimeout(z),S.ok?W2(d,"TestPingServer: ok",!0,u):W2(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(z),W2(d,"TestPingServer: error",!1,u)})}function W2(o,u,d,m,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),m(d)}catch{}}function Xg(){this.g=new Rg}function Jg(o,u,d){let m=d||"";try{r7(o,function(z,S){let F=z;h(z)&&(F=pc(z)),u.push(m+S+"="+encodeURIComponent(F))})}catch(z){throw u.push(m+"type="+encodeURIComponent("_badmap")),z}}function Y0(o){this.l=o.Ub||null,this.j=o.eb||!1}A(Y0,gc),Y0.prototype.g=function(){return new o4(this.l,this.j)},Y0.prototype.i=function(o){return function(){return o}}({});function o4(o,u){it.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(o4,it),n=o4.prototype,n.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,X0(this)},n.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||a).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Q0(this)),this.readyState=0},n.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,X0(this)),this.g&&(this.readyState=3,X0(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;d7(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function d7(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}n.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?Q0(this):X0(this),this.readyState==3&&d7(this)}},n.Ra=function(o){this.g&&(this.response=this.responseText=o,Q0(this))},n.Qa=function(o){this.g&&(this.response=o,Q0(this))},n.ga=function(){this.g&&Q0(this)};function Q0(o){o.readyState=4,o.l=null,o.j=null,o.v=null,X0(o)}n.setRequestHeader=function(o,u){this.u.append(o,u)},n.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let o=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=u.next();return o.join(`\r
`)};function X0(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(o4.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function f7(o){let u="";return de(o,function(d,m){u+=m,u+=":",u+=d,u+=`\r
`}),u}function Ic(o,u,d){e:{for(m in d){var m=!1;break e}m=!0}m||(d=f7(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):Ae(o,u,d))}function Oe(o){it.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Oe,it);var Zg=/^https?$/i,e_=["POST","PUT"];n=Oe.prototype,n.Ha=function(o){this.J=o},n.ea=function(o,u,d,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vc.g(),this.v=this.o?j5(this.o):j5(vc),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(S){m7(this,S);return}if(o=d||"",d=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var z in m)d.set(z,m[z]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())d.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(d.keys()).find(S=>S.toLowerCase()=="content-type"),z=a.FormData&&o instanceof a.FormData,!(0<=Array.prototype.indexOf.call(e_,u,void 0))||m||z||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,F]of d)this.g.setRequestHeader(S,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_7(this),this.u=!0,this.g.send(o),this.u=!1}catch(S){m7(this,S)}};function m7(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,p7(o),a4(o)}function p7(o){o.A||(o.A=!0,lt(o,"complete"),lt(o,"error"))}n.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,lt(this,"complete"),lt(this,"abort"),a4(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),a4(this,!0)),Oe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?g7(this):this.bb())},n.bb=function(){g7(this)};function g7(o){if(o.h&&typeof c<"u"&&(!o.v[1]||_2(o)!=4||o.Z()!=2)){if(o.u&&_2(o)==4)F5(o.Ea,0,o);else if(lt(o,"readystatechange"),_2(o)==4){o.h=!1;try{let F=o.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var d;if(!(d=u)){var m;if(m=F===0){var z=String(o.D).match(c7)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),m=!Zg.test(z?z.toLowerCase():"")}d=m}if(d)lt(o,"complete"),lt(o,"success");else{o.m=6;try{var S=2<_2(o)?o.g.statusText:""}catch{S=""}o.l=S+" ["+o.Z()+"]",p7(o)}}finally{a4(o)}}}}function a4(o,u){if(o.g){_7(o);let d=o.g,m=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||lt(o,"ready");try{d.onreadystatechange=m}catch{}}}function _7(o){o.I&&(a.clearTimeout(o.I),o.I=null)}n.isActive=function(){return!!this.g};function _2(o){return o.g?o.g.readyState:0}n.Z=function(){try{return 2<_2(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),Ng(u)}};function y7(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function t_(o){let u={};o=(o.g&&2<=_2(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<o.length;m++){if(W(o[m]))continue;var d=w(o[m]);let z=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();let S=u[z]||[];u[z]=S,S.push(d)}M(u,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function J0(o,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||u}function v7(o){this.Aa=0,this.i=[],this.j=new $0,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=J0("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=J0("baseRetryDelayMs",5e3,o),this.cb=J0("retryDelaySeedMs",1e4,o),this.Wa=J0("forwardChannelMaxRetries",2,o),this.wa=J0("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new e7(o&&o.concurrentRequestLimit),this.Da=new Xg,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=v7.prototype,n.la=8,n.G=1,n.connect=function(o,u,d,m){ut(0),this.W=o,this.H=u||{},d&&m!==void 0&&(this.H.OSID=d,this.H.OAID=m),this.F=this.X,this.I=T7(this,null,this.W),u4(this)};function Ec(o){if(C7(o),o.G==3){var u=o.U++,d=g2(o.I);if(Ae(d,"SID",o.K),Ae(d,"RID",u),Ae(d,"TYPE","terminate"),Z0(o,d),u=new $2(o,o.j,u),u.L=2,u.v=c4(g2(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(u.v.toString(),"")}catch{}!d&&a.Image&&(new Image().src=u.v,d=!0),d||(u.g=S7(u.j,null),u.g.ea(u.v)),u.F=Date.now(),i4(u)}E7(o)}function l4(o){o.g&&(Sc(o),o.g.cancel(),o.g=null)}function C7(o){l4(o),o.u&&(a.clearTimeout(o.u),o.u=null),h4(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&a.clearTimeout(o.s),o.s=null)}function u4(o){if(!t7(o.h)&&!o.s){o.s=!0;var u=o.Ga;D0||N5(),O0||(D0(),O0=!0),cc.add(u,o),o.B=0}}function n_(o,u){return n7(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=q0(_(o.Ga,o,u),I7(o,o.B)),o.B++,!0)}n.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;let z=new $2(this,this.j,o),S=this.o;if(this.S&&(S?(S=g(S),L(S,this.S)):S=this.S),this.m!==null||this.O||(z.H=S,S=null),this.P)e:{for(var u=0,d=0;d<this.i.length;d++){t:{var m=this.i[d];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(u+=m,4096<u){u=d;break e}if(u===4096||d===this.i.length-1){u=d+1;break e}}u=1e3}else u=1e3;u=M7(this,z,u),d=g2(this.I),Ae(d,"RID",o),Ae(d,"CVER",22),this.D&&Ae(d,"X-HTTP-Session-Id",this.D),Z0(this,d),S&&(this.O?u="headers="+encodeURIComponent(String(f7(S)))+"&"+u:this.m&&Ic(d,this.m,S)),zc(this.h,z),this.Ua&&Ae(d,"TYPE","init"),this.P?(Ae(d,"$req",u),Ae(d,"SID","null"),z.T=!0,Lc(z,d,null)):Lc(z,d,u),this.G=2}}else this.G==3&&(o?L7(this,o):this.i.length==0||t7(this.h)||L7(this))};function L7(o,u){var d;u?d=u.l:d=o.U++;let m=g2(o.I);Ae(m,"SID",o.K),Ae(m,"RID",d),Ae(m,"AID",o.T),Z0(o,m),o.m&&o.o&&Ic(m,o.m,o.o),d=new $2(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),u&&(o.i=u.D.concat(o.i)),u=M7(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),zc(o.h,d),Lc(d,m,u)}function Z0(o,u){o.H&&de(o.H,function(d,m){Ae(u,m,d)}),o.l&&r7({},function(d,m){Ae(u,m,d)})}function M7(o,u,d){d=Math.min(o.i.length,d);var m=o.l?_(o.l.Na,o.l,o):null;e:{var z=o.i;let S=-1;for(;;){let F=["count="+d];S==-1?0<d?(S=z[0].g,F.push("ofs="+S)):S=0:F.push("ofs="+S);let Ie=!0;for(let et=0;et<d;et++){let ye=z[et].g,st=z[et].map;if(ye-=S,0>ye)S=Math.max(0,z[et].g-100),Ie=!1;else try{Jg(st,F,"req"+ye+"_")}catch{m&&m(st)}}if(Ie){m=F.join("&");break e}}}return o=o.i.splice(0,d),u.D=o,m}function w7(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;D0||N5(),O0||(D0(),O0=!0),cc.add(u,o),o.v=0}}function Tc(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=q0(_(o.Fa,o),I7(o,o.v)),o.v++,!0)}n.Fa=function(){if(this.u=null,b7(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=q0(_(this.ab,this),o)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),l4(this),b7(this))};function Sc(o){o.A!=null&&(a.clearTimeout(o.A),o.A=null)}function b7(o){o.g=new $2(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=g2(o.qa);Ae(u,"RID","rpc"),Ae(u,"SID",o.K),Ae(u,"AID",o.T),Ae(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ae(u,"TO",o.ja),Ae(u,"TYPE","xmlhttp"),Z0(o,u),o.m&&o.o&&Ic(u,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=c4(g2(u)),d.m=null,d.P=!0,X5(d,o)}n.Za=function(){this.C!=null&&(this.C=null,l4(this),Tc(this),ut(19))};function h4(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function z7(o,u){var d=null;if(o.g==u){h4(o),Sc(o),o.g=null;var m=2}else if(bc(o.h,u))d=u.D,i7(o.h,u),m=1;else return;if(o.G!=0){if(u.o)if(m==1){d=u.m?u.m.length:0,u=Date.now()-u.F;var z=o.B;m=e4(),lt(m,new G5(m,d)),u4(o)}else w7(o);else if(z=u.s,z==3||z==0&&0<u.X||!(m==1&&n_(o,u)||m==2&&Tc(o)))switch(d&&0<d.length&&(u=o.h,u.i=u.i.concat(d)),z){case 1:z1(o,5);break;case 4:z1(o,10);break;case 3:z1(o,6);break;default:z1(o,2)}}}function I7(o,u){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*u}function z1(o,u){if(o.j.info("Error code "+u),u==2){var d=_(o.fb,o),m=o.Xa;let z=!m;m=new b1(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||s4(m,"https"),c4(m),z?Yg(m.toString(),d):Qg(m.toString(),d)}else ut(2);o.G=0,o.l&&o.l.sa(u),E7(o),C7(o)}n.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function E7(o){if(o.G=0,o.ka=[],o.l){let u=s7(o.h);(u.length!=0||o.i.length!=0)&&(x(o.ka,u),x(o.ka,o.i),o.h.i.length=0,N(o.i),o.i.length=0),o.l.ra()}}function T7(o,u,d){var m=d instanceof b1?g2(d):new b1(d);if(m.g!="")u&&(m.g=u+"."+m.g),r4(m,m.s);else{var z=a.location;m=z.protocol,u=u?u+"."+z.hostname:z.hostname,z=+z.port;var S=new b1(null);m&&s4(S,m),u&&(S.g=u),z&&r4(S,z),d&&(S.l=d),m=S}return d=o.D,u=o.ya,d&&u&&Ae(m,d,u),Ae(m,"VER",o.la),Z0(o,m),m}function S7(o,u,d){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new Oe(new Y0({eb:d})):new Oe(o.pa),u.Ha(o.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function x7(){}n=x7.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function d4(){}d4.prototype.g=function(o,u){return new yt(o,u)};function yt(o,u){it.call(this),this.g=new v7(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!W(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!W(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new pn(this)}A(yt,it),yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yt.prototype.close=function(){Ec(this.g)},yt.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=pc(o),o=d);u.i.push(new Vg(u.Ya++,o)),u.G==3&&u4(u)},yt.prototype.N=function(){this.g.l=null,delete this.j,Ec(this.g),delete this.g,yt.aa.N.call(this)};function A7(o){_c.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(let d in u){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}A(A7,_c);function N7(){yc.call(this),this.status=1}A(N7,yc);function pn(o){this.g=o}A(pn,x7),pn.prototype.ua=function(){lt(this.g,"a")},pn.prototype.ta=function(o){lt(this.g,new A7(o))},pn.prototype.sa=function(o){lt(this.g,new N7)},pn.prototype.ra=function(){lt(this.g,"b")},d4.prototype.createWebChannel=d4.prototype.g,yt.prototype.send=yt.prototype.o,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,sa=N2.createWebChannelTransport=function(){return new d4},ia=N2.getStatEventTarget=function(){return e4()},na=N2.Event=M1,Fs=N2.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},t4.NO_ERROR=0,t4.TIMEOUT=8,t4.HTTP_ERROR=6,i3=N2.ErrorCode=t4,K5.COMPLETE="complete",ta=N2.EventType=K5,q5.EventType=B0,B0.OPEN="a",B0.CLOSE="b",B0.ERROR="c",B0.MESSAGE="d",it.prototype.listen=it.prototype.K,Yn=N2.WebChannel=q5,Uw=N2.FetchXmlHttpFactory=Y0,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,ea=N2.XhrIo=Oe}).apply(typeof Os<"u"?Os:typeof self<"u"?self:typeof window<"u"?window:{});var Jh="@firebase/firestore";var Ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");var g0="10.14.0";var $1=new s1("@firebase/firestore");function s3(){return $1.logLevel}function G(n,...e){if($1.logLevel<=me.DEBUG){let t=e.map($l);$1.debug(`Firestore (${g0}): ${n}`,...t)}}function R2(n,...e){if($1.logLevel<=me.ERROR){let t=e.map($l);$1.error(`Firestore (${g0}): ${n}`,...t)}}function i0(n,...e){if($1.logLevel<=me.WARN){let t=e.map($l);$1.warn(`Firestore (${g0}): ${n}`,...t)}}function $l(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ee(n="Unexpected state"){let e=`FIRESTORE (${g0}) INTERNAL ASSERTION FAILED: `+n;throw R2(e),new Error(e)}function Me(n,e){n||ee()}function se(n,e){return n}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends zt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var c2=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var qs=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},la=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ze.UNAUTHENTICATED))}shutdown(){}},ua=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},ha=class{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Me(this.o===void 0);let i=this.i,s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),r=new c2;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new c2,e.enqueueRetryable(()=>s(this.currentUser))};let c=()=>{let l=r;e.enqueueRetryable(()=>C(this,null,function*(){yield l.promise,yield s(this.currentUser)}))},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new c2)}},0),c()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Me(typeof i.accessToken=="string"),new qs(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new Ze(e)}},da=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},fa=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new da(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ma=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},pa=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Me(this.o===void 0);let i=r=>{r.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);let c=r.token!==this.R;return this.R=r.token,G("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};let s=r=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){let r=this.A.getImmediate({optional:!0});r?s(r):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me(typeof t.token=="string"),this.R=t.token,new ma(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Bw(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var $s=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let s=Bw(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<t&&(i+=e.charAt(s[r]%e.length))}return i}};function ve(n,e){return n<e?-1:n>e?1:0}function s0(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}var tt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new q(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ce=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new tt(0,0))}static max(){return new n(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hs=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ee(),i===void 0?i=e.length-t:i>e.length-t&&ee(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let s=0;s<i;s++){let r=e.get(s),c=t.get(s);if(r<c)return-1;if(r>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},De=class n extends Hs{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new q(R.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new n(t)}static emptyPath(){return new n([])}},jw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,It=class n extends Hs{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return jw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",s=0,r=()=>{if(i.length===0)throw new q(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},c=!1;for(;s<e.length;){let a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,s+=2}else a==="`"?(c=!c,s++):a!=="."||c?(i+=a,s++):(r(),s++)}if(r(),c)throw new q(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var J=class n{constructor(e){this.path=e}static fromPath(e){return new n(De.fromString(e))}static fromName(e){return new n(De.fromString(e).popFirst(5))}static empty(){return new n(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return De.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new De(e.slice()))}};var ga=class{constructor(e,t,i,s){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=s}};ga.UNKNOWN_ID=-1;function qw(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(i===1e9?new tt(t+1,0):new tt(t,i));return new H1(s,J.empty(),e)}function $w(n){return new H1(n.readTime,n.key,-1)}var H1=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(ce.min(),J.empty(),-1)}static max(){return new n(ce.max(),J.empty(),-1)}};function Hw(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=J.comparator(n.documentKey,e.documentKey),t!==0?t:ve(n.largestBatchId,e.largestBatchId))}var Ww="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_a=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function w3(n){return C(this,null,function*(){if(n.code!==R.FAILED_PRECONDITION||n.message!==Ww)throw n;G("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(t,r).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let s=0,r=0,c=!1;e.forEach(a=>{++s,a.next(()=>{++r,c&&r===s&&t()},l=>i(l))}),c=!0,r===s&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(s=>s?n.resolve(s):i());return t}static forEach(e,t){let i=[];return e.forEach((s,r)=>{i.push(t.call(this,s,r))}),this.waitFor(i)}static mapArray(e,t){return new n((i,s)=>{let r=e.length,c=new Array(r),a=0;for(let l=0;l<r;l++){let h=l;t(e[h]).next(f=>{c[h]=f,++a,a===r&&i(c)},f=>s(f))}})}static doWhile(e,t){return new n((i,s)=>{let r=()=>{e()===!0?t().next(()=>{r()},s):i()};r()})}};function Gw(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function b3(n){return n.name==="IndexedDbTransactionError"}var Nd=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ie(s),this.se=s=>i.writeSequenceNumber(s))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function vr(n){return n==null}function u3(n){return n===0&&1/n==-1/0}function Kw(n){return typeof n=="number"&&Number.isInteger(n)&&!u3(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Yw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_R=[...Yw,"documentOverlays"],Qw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xw=Qw,Jw=[...Xw,"indexConfiguration","indexState","indexEntries"];var yR=[...Jw,"globals"];function Zh(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _0(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Rd(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ue=class n{constructor(e,t){this.comparator=e,this.root=t||o2.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,o2.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,o2.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zn(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zn(this.root,e,this.comparator,!0)}},Zn=class{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?i(e.key,t):1,t&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},o2=class n{constructor(e,t,i,s,r){this.key=e,this.value=t,this.color=i??n.RED,this.left=s??n.EMPTY,this.right=r??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,r){return new n(e??this.key,t??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this,r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,t,i),null):r===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};o2.EMPTY=null,o2.RED=!0,o2.BLACK=!1;o2.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,t,i,s,r){return this}insert(e,t,i){return new o2(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ot=class n{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ws(this.data.getIterator())}getIteratorFrom(e){return new Ws(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let s=t.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Ws=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var r2=class n{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new n([])}unionWith(e){let t=new ot(It.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return s0(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var Gs=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var at=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Gs("Invalid base64 string: "+r):r}}(e);return new n(t)}static fromUint8Array(e){let t=function(s){let r="";for(let c=0;c<s.length;++c)r+=String.fromCharCode(s[c]);return r}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};at.EMPTY_BYTE_STRING=new at("");var Zw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function k2(n){if(Me(!!n),typeof n=="string"){let e=0,t=Zw.exec(n);if(Me(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Re(n.seconds),nanos:Re(n.nanos)}}function Re(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function h1(n){return typeof n=="string"?at.fromBase64String(n):at.fromUint8Array(n)}function Hl(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Wl(n){let e=n.mapValue.fields.__previous_value__;return Hl(e)?Wl(e):e}function h3(n){let e=k2(n.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}var ya=class{constructor(e,t,i,s,r,c,a,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=c,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h}},Ks=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Vs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function W1(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hl(n)?4:Pd(n)?9007199254740991:kd(n)?10:11:ee()}function u2(n,e){if(n===e)return!0;let t=W1(n);if(t!==W1(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return h3(n).isEqual(h3(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;let c=k2(s.timestampValue),a=k2(r.timestampValue);return c.seconds===a.seconds&&c.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,r){return h1(s.bytesValue).isEqual(h1(r.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,r){return Re(s.geoPointValue.latitude)===Re(r.geoPointValue.latitude)&&Re(s.geoPointValue.longitude)===Re(r.geoPointValue.longitude)}(n,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Re(s.integerValue)===Re(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){let c=Re(s.doubleValue),a=Re(r.doubleValue);return c===a?u3(c)===u3(a):isNaN(c)&&isNaN(a)}return!1}(n,e);case 9:return s0(n.arrayValue.values||[],e.arrayValue.values||[],u2);case 10:case 11:return function(s,r){let c=s.mapValue.fields||{},a=r.mapValue.fields||{};if(Zh(c)!==Zh(a))return!1;for(let l in c)if(c.hasOwnProperty(l)&&(a[l]===void 0||!u2(c[l],a[l])))return!1;return!0}(n,e);default:return ee()}}function d3(n,e){return(n.values||[]).find(t=>u2(t,e))!==void 0}function r0(n,e){if(n===e)return 0;let t=W1(n),i=W1(e);if(t!==i)return ve(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ve(n.booleanValue,e.booleanValue);case 2:return function(r,c){let a=Re(r.integerValue||r.doubleValue),l=Re(c.integerValue||c.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return ed(n.timestampValue,e.timestampValue);case 4:return ed(h3(n),h3(e));case 5:return ve(n.stringValue,e.stringValue);case 6:return function(r,c){let a=h1(r),l=h1(c);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(r,c){let a=r.split("/"),l=c.split("/");for(let h=0;h<a.length&&h<l.length;h++){let f=ve(a[h],l[h]);if(f!==0)return f}return ve(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,c){let a=ve(Re(r.latitude),Re(c.latitude));return a!==0?a:ve(Re(r.longitude),Re(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return td(n.arrayValue,e.arrayValue);case 10:return function(r,c){var a,l,h,f;let p=r.fields||{},_=c.fields||{},b=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(l=_.value)===null||l===void 0?void 0:l.arrayValue,N=ve(((h=b?.values)===null||h===void 0?void 0:h.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:td(b,A)}(n.mapValue,e.mapValue);case 11:return function(r,c){if(r===Vs.mapValue&&c===Vs.mapValue)return 0;if(r===Vs.mapValue)return 1;if(c===Vs.mapValue)return-1;let a=r.fields||{},l=Object.keys(a),h=c.fields||{},f=Object.keys(h);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){let _=ve(l[p],f[p]);if(_!==0)return _;let b=r0(a[l[p]],h[f[p]]);if(b!==0)return b}return ve(l.length,f.length)}(n.mapValue,e.mapValue);default:throw ee()}}function ed(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ve(n,e);let t=k2(n),i=k2(e),s=ve(t.seconds,i.seconds);return s!==0?s:ve(t.nanos,i.nanos)}function td(n,e){let t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){let r=r0(t[s],i[s]);if(r)return r}return ve(t.length,i.length)}function c0(n){return va(n)}function va(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=k2(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return h1(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return J.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(let r of t.values||[])s?s=!1:i+=",",i+=va(r);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),s="{",r=!0;for(let c of i)r?r=!1:s+=",",s+=`${c}:${va(t.fields[c])}`;return s+"}"}(n.mapValue):ee()}function nd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ca(n){return!!n&&"integerValue"in n}function Gl(n){return!!n&&"arrayValue"in n}function id(n){return!!n&&"nullValue"in n}function sd(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bs(n){return!!n&&"mapValue"in n}function kd(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function c3(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return _0(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=c3(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=c3(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Pd(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Bt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Bs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=c3(t)}setAll(e){let t=It.emptyPath(),i={},s=[];e.forEach((c,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,s),i={},s=[],t=a.popLast()}c?i[a.lastSegment()]=c3(c):s.push(a.lastSegment())});let r=this.getFieldsMap(t);this.applyChanges(r,i,s)}delete(e){let t=this.field(e.popLast());Bs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return u2(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Bs(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){_0(t,(s,r)=>e[s]=r);for(let s of i)delete e[s]}clone(){return new n(c3(this.value))}};function Dd(n){let e=[];return _0(n.fields,(t,i)=>{let s=new It([t]);if(Bs(i)){let r=Dd(i.mapValue).fields;if(r.length===0)e.push(s);else for(let c of r)e.push(s.child(c))}else e.push(s)}),new r2(e)}var jt=class n{constructor(e,t,i,s,r,c,a){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=r,this.data=c,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ce.min(),ce.min(),ce.min(),Bt.empty(),0)}static newFoundDocument(e,t,i,s){return new n(e,1,t,ce.min(),i,s,0)}static newNoDocument(e,t){return new n(e,2,t,ce.min(),ce.min(),Bt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ce.min(),ce.min(),Bt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var o0=class{constructor(e,t){this.position=e,this.inclusive=t}};function rd(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){let r=e[s],c=n.position[s];if(r.field.isKeyField()?i=J.comparator(J.fromName(c.referenceValue),t.key):i=r0(c,t.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function cd(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!u2(n.position[t],e.position[t]))return!1;return!0}var a0=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function eb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Ys=class{},He=class n extends Ys{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Ma(e,t,i):t==="array-contains"?new za(e,i):t==="in"?new Ia(e,i):t==="not-in"?new Ea(e,i):t==="array-contains-any"?new Ta(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new wa(e,i):new ba(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(r0(t,this.value)):t!==null&&W1(this.value)===W1(t)&&this.matchesComparison(r0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},qt=class n extends Ys{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Od(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Od(n){return n.op==="and"}function Fd(n){return tb(n)&&Od(n)}function tb(n){for(let e of n.filters)if(e instanceof qt)return!1;return!0}function La(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+c0(n.value);if(Fd(n))return n.filters.map(e=>La(e)).join(",");{let e=n.filters.map(t=>La(t)).join(",");return`${n.op}(${e})`}}function Vd(n,e){return n instanceof He?function(i,s){return s instanceof He&&i.op===s.op&&i.field.isEqual(s.field)&&u2(i.value,s.value)}(n,e):n instanceof qt?function(i,s){return s instanceof qt&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,c,a)=>r&&Vd(c,s.filters[a]),!0):!1}(n,e):void ee()}function Ud(n){return n instanceof He?function(t){return`${t.field.canonicalString()} ${t.op} ${c0(t.value)}`}(n):n instanceof qt?function(t){return t.op.toString()+" {"+t.getFilters().map(Ud).join(" ,")+"}"}(n):"Filter"}var Ma=class extends He{constructor(e,t,i){super(e,t,i),this.key=J.fromName(i.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},wa=class extends He{constructor(e,t){super(e,"in",t),this.keys=Bd("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},ba=class extends He{constructor(e,t){super(e,"not-in",t),this.keys=Bd("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Bd(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>J.fromName(i.referenceValue))}var za=class extends He{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Gl(t)&&d3(t.arrayValue,this.value)}},Ia=class extends He{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&d3(this.value.arrayValue,t)}},Ea=class extends He{constructor(e,t){super(e,"not-in",t)}matches(e){if(d3(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!d3(this.value.arrayValue,t)}},Ta=class extends He{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Gl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>d3(this.value.arrayValue,i))}};var Sa=class{constructor(e,t=null,i=[],s=[],r=null,c=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=c,this.endAt=a,this.ue=null}};function od(n,e=null,t=[],i=[],s=null,r=null,c=null){return new Sa(n,e,t,i,s,r,c)}function Kl(n){let e=se(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>La(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),vr(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>c0(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>c0(i)).join(",")),e.ue=t}return e.ue}function Yl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Vd(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cd(n.startAt,e.startAt)&&cd(n.endAt,e.endAt)}function xa(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var G1=class{constructor(e,t=null,i=[],s=[],r=null,c="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=c,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function nb(n,e,t,i,s,r,c,a){return new G1(n,e,t,i,s,r,c,a)}function jd(n){return new G1(n)}function ad(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function qd(n){return n.collectionGroup!==null}function o3(n){let e=se(n);if(e.ce===null){e.ce=[];let t=new Set;for(let r of e.explicitOrderBy)e.ce.push(r),t.add(r.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let a=new ot(It.comparator);return c.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.ce.push(new a0(r,i))}),t.has(It.keyField().canonicalString())||e.ce.push(new a0(It.keyField(),i))}return e.ce}function a2(n){let e=se(n);return e.le||(e.le=ib(e,o3(n))),e.le}function ib(n,e){if(n.limitType==="F")return od(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{let r=s.dir==="desc"?"asc":"desc";return new a0(s.field,r)});let t=n.endAt?new o0(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new o0(n.startAt.position,n.startAt.inclusive):null;return od(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Aa(n,e){let t=n.filters.concat([e]);return new G1(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Na(n,e,t){return new G1(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cr(n,e){return Yl(a2(n),a2(e))&&n.limitType===e.limitType}function $d(n){return`${Kl(a2(n))}|lt:${n.limitType}`}function Qn(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>Ud(s)).join(", ")}]`),vr(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>c0(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>c0(s)).join(",")),`Target(${i})`}(a2(n))}; limitType=${n.limitType})`}function Lr(n,e){return e.isFoundDocument()&&function(i,s){let r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):J.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(n,e)&&function(i,s){for(let r of o3(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(n,e)&&function(i,s){for(let r of i.filters)if(!r.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,a,l){let h=rd(c,a,l);return c.inclusive?h<=0:h<0}(i.startAt,o3(i),s)||i.endAt&&!function(c,a,l){let h=rd(c,a,l);return c.inclusive?h>=0:h>0}(i.endAt,o3(i),s))}(n,e)}function sb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Hd(n){return(e,t)=>{let i=!1;for(let s of o3(n)){let r=rb(s,e,t);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function rb(n,e,t){let i=n.field.isKeyField()?J.comparator(e.key,t.key):function(r,c,a){let l=c.data.field(r),h=a.data.field(r);return l!==null&&h!==null?r0(l,h):ee()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ee()}}var d1=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_0(this.inner,(t,i)=>{for(let[s,r]of i)e(s,r)})}isEmpty(){return Rd(this.inner)}size(){return this.innerSize}};var cb=new Ue(J.comparator);function P2(){return cb}var Wd=new Ue(J.comparator);function r3(...n){let e=Wd;for(let t of n)e=e.insert(t.key,t);return e}function Gd(n){let e=Wd;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function B1(){return a3()}function Kd(){return a3()}function a3(){return new d1(n=>n.toString(),(n,e)=>n.isEqual(e))}var ob=new Ue(J.comparator),ab=new ot(J.comparator);function pe(...n){let e=ab;for(let t of n)e=e.add(t);return e}var lb=new ot(ve);function ub(){return lb}function Ql(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:u3(e)?"-0":e}}function Yd(n){return{integerValue:""+n}}function hb(n,e){return Kw(e)?Yd(e):Ql(n,e)}var l0=class{constructor(){this._=void 0}};function db(n,e,t){return n instanceof u0?function(s,r){let c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Hl(r)&&(r=Wl(r)),r&&(c.fields.__previous_value__=r),{mapValue:c}}(t,e):n instanceof K1?Xd(n,e):n instanceof Y1?Jd(n,e):function(s,r){let c=Qd(s,r),a=ld(c)+ld(s.Pe);return Ca(c)&&Ca(s.Pe)?Yd(a):Ql(s.serializer,a)}(n,e)}function fb(n,e,t){return n instanceof K1?Xd(n,e):n instanceof Y1?Jd(n,e):t}function Qd(n,e){return n instanceof h0?function(i){return Ca(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}var u0=class extends l0{},K1=class extends l0{constructor(e){super(),this.elements=e}};function Xd(n,e){let t=Zd(e);for(let i of n.elements)t.some(s=>u2(s,i))||t.push(i);return{arrayValue:{values:t}}}var Y1=class extends l0{constructor(e){super(),this.elements=e}};function Jd(n,e){let t=Zd(e);for(let i of n.elements)t=t.filter(s=>!u2(s,i));return{arrayValue:{values:t}}}var h0=class extends l0{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function ld(n){return Re(n.integerValue||n.doubleValue)}function Zd(n){return Gl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function mb(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof K1&&s instanceof K1||i instanceof Y1&&s instanceof Y1?s0(i.elements,s.elements,u2):i instanceof h0&&s instanceof h0?u2(i.Pe,s.Pe):i instanceof u0&&s instanceof u0}(n.transform,e.transform)}var Ra=class{constructor(e,t){this.version=e,this.transformResults=t}},q1=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function js(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var d0=class{};function ef(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qs(n.key,q1.none()):new Q1(n.key,n.data,q1.none());{let t=n.data,i=Bt.empty(),s=new ot(It.comparator);for(let r of e.fields)if(!s.has(r)){let c=t.field(r);c===null&&r.length>1&&(r=r.popLast(),c=t.field(r)),c===null?i.delete(r):i.set(r,c),s=s.add(r)}return new D2(n.key,i,new r2(s.toArray()),q1.none())}}function pb(n,e,t){n instanceof Q1?function(s,r,c){let a=s.value.clone(),l=hd(s.fieldTransforms,r,c.transformResults);a.setAll(l),r.convertToFoundDocument(c.version,a).setHasCommittedMutations()}(n,e,t):n instanceof D2?function(s,r,c){if(!js(s.precondition,r))return void r.convertToUnknownDocument(c.version);let a=hd(s.fieldTransforms,r,c.transformResults),l=r.data;l.setAll(tf(s)),l.setAll(a),r.convertToFoundDocument(c.version,l).setHasCommittedMutations()}(n,e,t):function(s,r,c){r.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function l3(n,e,t,i){return n instanceof Q1?function(r,c,a,l){if(!js(r.precondition,c))return a;let h=r.value.clone(),f=dd(r.fieldTransforms,l,c);return h.setAll(f),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null}(n,e,t,i):n instanceof D2?function(r,c,a,l){if(!js(r.precondition,c))return a;let h=dd(r.fieldTransforms,l,c),f=c.data;return f.setAll(tf(r)),f.setAll(h),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(n,e,t,i):function(r,c,a){return js(r.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):a}(n,e,t)}function gb(n,e){let t=null;for(let i of n.fieldTransforms){let s=e.data.field(i.field),r=Qd(i.transform,s||null);r!=null&&(t===null&&(t=Bt.empty()),t.set(i.field,r))}return t||null}function ud(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&s0(i,s,(r,c)=>mb(r,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Q1=class extends d0{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}},D2=class extends d0{constructor(e,t,i,s,r=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}};function tf(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function hd(n,e,t){let i=new Map;Me(n.length===t.length);for(let s=0;s<t.length;s++){let r=n[s],c=r.transform,a=e.data.field(r.field);i.set(r.field,fb(c,a,t[s]))}return i}function dd(n,e,t){let i=new Map;for(let s of n){let r=s.transform,c=t.data.field(s.field);i.set(s.field,db(r,c,e))}return i}var Qs=class extends d0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ka=class extends d0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Pa=class{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){let r=this.mutations[s];r.key.isEqual(e.key)&&pb(r,e,i[s])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=l3(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=l3(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=Kd();return this.mutations.forEach(s=>{let r=e.get(s.key),c=r.overlayedDocument,a=this.applyToLocalView(c,r.mutatedFields);a=t.has(s.key)?null:a;let l=ef(c,a);l!==null&&i.set(s.key,l),c.isValidDocument()||c.convertToNoDocument(ce.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pe())}isEqual(e){return this.batchId===e.batchId&&s0(this.mutations,e.mutations,(t,i)=>ud(t,i))&&s0(this.baseMutations,e.baseMutations,(t,i)=>ud(t,i))}},Da=class n{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Me(e.mutations.length===i.length);let s=function(){return ob}(),r=e.mutations;for(let c=0;c<r.length;c++)s=s.insert(r[c].key,i[c].version);return new n(e,t,i,s)}};var Oa=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Fa=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var qe,_e;function _b(n){switch(n){default:return ee();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function nf(n){if(n===void 0)return R2("GRPC error has no .code"),R.UNKNOWN;switch(n){case qe.OK:return R.OK;case qe.CANCELLED:return R.CANCELLED;case qe.UNKNOWN:return R.UNKNOWN;case qe.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case qe.INTERNAL:return R.INTERNAL;case qe.UNAVAILABLE:return R.UNAVAILABLE;case qe.UNAUTHENTICATED:return R.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case qe.NOT_FOUND:return R.NOT_FOUND;case qe.ALREADY_EXISTS:return R.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return R.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case qe.ABORTED:return R.ABORTED;case qe.OUT_OF_RANGE:return R.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return R.UNIMPLEMENTED;case qe.DATA_LOSS:return R.DATA_LOSS;default:return ee()}}(_e=qe||(qe={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var fd=null;function yb(){return new TextEncoder}var vb=new l1([4294967295,4294967295],0);function md(n){let e=yb().encode(n),t=new Z6;return t.update(e),new Uint8Array(t.digest())}function pd(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new l1([t,i],0),new l1([s,r],0)]}var Va=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new j1(`Invalid padding: ${t}`);if(i<0)throw new j1(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new j1(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new j1(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=l1.fromNumber(this.Ie)}Ee(e,t,i){let s=e.add(t.multiply(l1.fromNumber(i)));return s.compare(vb)===1&&(s=new l1([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=md(e),[i,s]=pd(t);for(let r=0;r<this.hashCount;r++){let c=this.Ee(i,s,r);if(!this.de(c))return!1}return!0}static create(e,t,i){let s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),c=new n(r,s,t);return i.forEach(a=>c.insert(a)),c}insert(e){if(this.Ie===0)return;let t=md(e),[i,s]=pd(t);for(let r=0;r<this.hashCount;r++){let c=this.Ee(i,s,r);this.Ae(c)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},j1=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Xs=class n{constructor(e,t,i,s,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let s=new Map;return s.set(e,f3.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(ce.min(),s,new Ue(ve),P2(),pe())}},f3=class n{constructor(e,t,i,s,r){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,pe(),pe(),pe())}};var t0=class{constructor(e,t,i,s){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=s}},Js=class{constructor(e,t){this.targetId=e,this.me=t}},Zs=class{constructor(e,t,i=at.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}},er=class{constructor(){this.fe=0,this.ge=_d(),this.pe=at.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),t=pe(),i=pe();return this.ge.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:ee()}}),new f3(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=_d()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Ua=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=P2(),this.qe=gd(),this.Qe=new Ue(ve)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,s)=>{this.ze(s)&&t(s)})}He(e){let t=e.targetId,i=e.me.count,s=this.Je(t);if(s){let r=s.target;if(xa(r))if(i===0){let c=new J(r.path);this.Ue(t,c,jt.newNoDocument(c,ce.min()))}else Me(i===1);else{let c=this.Ye(t);if(c!==i){let a=this.Ze(e),l=a?this.Xe(a,e,c):1;if(l!==0){this.je(t);let h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,h)}fd?.et(function(f,p,_,b,A){var N,x,$,W,U,ae;let Ce={localCacheCount:f,existenceFilterCount:p.count,databaseId:_.database,projectId:_.projectId},de=p.unchangedNames;return de&&(Ce.bloomFilter={applied:A===0,hashCount:(N=de?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(W=($=(x=de?.bits)===null||x===void 0?void 0:x.bitmap)===null||$===void 0?void 0:$.length)!==null&&W!==void 0?W:0,padding:(ae=(U=de?.bits)===null||U===void 0?void 0:U.padding)!==null&&ae!==void 0?ae:0,mightContain:M=>{var g;return(g=b?.mightContain(M))!==null&&g!==void 0&&g}}),Ce}(c,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=t,c,a;try{c=h1(i).toUint8Array()}catch(l){if(l instanceof Gs)return i0("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Va(c,s,r)}catch(l){return i0(l instanceof j1?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),s=0;return i.forEach(r=>{let c=this.Le.tt(),a=`projects/${c.projectId}/databases/${c.database}/documents/${r.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,r,null),s++)}),s}rt(e){let t=new Map;this.Be.forEach((r,c)=>{let a=this.Je(c);if(a){if(r.current&&xa(a.target)){let l=new J(a.target.path);this.ke.get(l)!==null||this.it(c,l)||this.Ue(c,l,jt.newNoDocument(l,e))}r.be&&(t.set(c,r.ve()),r.Ce())}});let i=pe();this.qe.forEach((r,c)=>{let a=!0;c.forEachWhile(l=>{let h=this.Je(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(r))}),this.ke.forEach((r,c)=>c.setReadTime(e));let s=new Xs(e,t,this.Qe,this.ke,i);return this.ke=P2(),this.qe=gd(),this.Qe=new Ue(ve),s}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new er,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ot(ve),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||G("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new er),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function gd(){return new Ue(J.comparator)}function _d(){return new Ue(J.comparator)}var Cb={asc:"ASCENDING",desc:"DESCENDING"},Lb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mb={and:"AND",or:"OR"},Ba=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function ja(n,e){return n.useProto3Json||vr(e)?e:{value:e}}function tr(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sf(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wb(n,e){return tr(n,e.toTimestamp())}function l2(n){return Me(!!n),ce.fromTimestamp(function(t){let i=k2(t);return new tt(i.seconds,i.nanos)}(n))}function Xl(n,e){return qa(n,e).canonicalString()}function qa(n,e){let t=function(s){return new De(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function rf(n){let e=De.fromString(n);return Me(uf(e)),e}function $a(n,e){return Xl(n.databaseId,e.path)}function ra(n,e){let t=rf(e);if(t.get(1)!==n.databaseId.projectId)throw new q(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new q(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(of(t))}function cf(n,e){return Xl(n.databaseId,e)}function bb(n){let e=rf(n);return e.length===4?De.emptyPath():of(e)}function Ha(n){return new De(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function of(n){return Me(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function yd(n,e,t){return{name:$a(n,e),fields:t.value.mapValue.fields}}function zb(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(h,f){return h.useProto3Json?(Me(f===void 0||typeof f=="string"),at.fromBase64String(f||"")):(Me(f===void 0||f instanceof Buffer||f instanceof Uint8Array),at.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,a=c&&function(h){let f=h.code===void 0?R.UNKNOWN:nf(h.code);return new q(f,h.message||"")}(c);t=new Zs(i,s,r,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let s=ra(n,i.document.name),r=l2(i.document.updateTime),c=i.document.createTime?l2(i.document.createTime):ce.min(),a=new Bt({mapValue:{fields:i.document.fields}}),l=jt.newFoundDocument(s,r,c,a),h=i.targetIds||[],f=i.removedTargetIds||[];t=new t0(h,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let s=ra(n,i.document),r=i.readTime?l2(i.readTime):ce.min(),c=jt.newNoDocument(s,r),a=i.removedTargetIds||[];t=new t0([],a,c.key,c)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let s=ra(n,i.document),r=i.removedTargetIds||[];t=new t0([],r,s,null)}else{if(!("filter"in e))return ee();{e.filter;let i=e.filter;i.targetId;let{count:s=0,unchangedNames:r}=i,c=new Fa(s,r),a=i.targetId;t=new Js(a,c)}}return t}function Ib(n,e){let t;if(e instanceof Q1)t={update:yd(n,e.key,e.value)};else if(e instanceof Qs)t={delete:$a(n,e.key)};else if(e instanceof D2)t={update:yd(n,e.key,e.data),updateMask:Pb(e.fieldMask)};else{if(!(e instanceof ka))return ee();t={verify:$a(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,c){let a=c.transform;if(a instanceof u0)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof K1)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Y1)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof h0)return{fieldPath:c.field.canonicalString(),increment:a.Pe};throw ee()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:wb(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ee()}(n,e.precondition)),t}function Eb(n,e){return n&&n.length>0?(Me(e!==void 0),n.map(t=>function(s,r){let c=s.updateTime?l2(s.updateTime):l2(r);return c.isEqual(ce.min())&&(c=l2(r)),new Ra(c,s.transformResults||[])}(t,e))):[]}function Tb(n,e){return{documents:[cf(n,e.path)]}}function Sb(n,e){let t={structuredQuery:{}},i=e.path,s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=cf(n,s);let r=function(h){if(h.length!==0)return lf(qt.create(h,"and"))}(e.filters);r&&(t.structuredQuery.where=r);let c=function(h){if(h.length!==0)return h.map(f=>function(_){return{field:Xn(_.field),direction:Nb(_.dir)}}(f))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);let a=ja(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:t,parent:s}}function xb(n){let e=bb(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,s=null;if(i>0){Me(i===1);let f=t.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let r=[];t.where&&(r=function(p){let _=af(p);return _ instanceof qt&&Fd(_)?_.getFilters():[_]}(t.where));let c=[];t.orderBy&&(c=function(p){return p.map(_=>function(A){return new a0(Jn(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(p){let _;return _=typeof p=="object"?p.value:p,vr(_)?null:_}(t.limit));let l=null;t.startAt&&(l=function(p){let _=!!p.before,b=p.values||[];return new o0(b,_)}(t.startAt));let h=null;return t.endAt&&(h=function(p){let _=!p.before,b=p.values||[];return new o0(b,_)}(t.endAt)),nb(e,s,c,r,a,"F",l,h)}function Ab(n,e){let t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function af(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=Jn(t.unaryFilter.field);return He.create(i,"==",{doubleValue:NaN});case"IS_NULL":let s=Jn(t.unaryFilter.field);return He.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=Jn(t.unaryFilter.field);return He.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let c=Jn(t.unaryFilter.field);return He.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(n):n.fieldFilter!==void 0?function(t){return He.create(Jn(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return qt.create(t.compositeFilter.filters.map(i=>af(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee()}}(t.compositeFilter.op))}(n):ee()}function Nb(n){return Cb[n]}function Rb(n){return Lb[n]}function kb(n){return Mb[n]}function Xn(n){return{fieldPath:n.canonicalString()}}function Jn(n){return It.fromServerFormat(n.fieldPath)}function lf(n){return n instanceof He?function(t){if(t.op==="=="){if(sd(t.value))return{unaryFilter:{field:Xn(t.field),op:"IS_NAN"}};if(id(t.value))return{unaryFilter:{field:Xn(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sd(t.value))return{unaryFilter:{field:Xn(t.field),op:"IS_NOT_NAN"}};if(id(t.value))return{unaryFilter:{field:Xn(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xn(t.field),op:Rb(t.op),value:t.value}}}(n):n instanceof qt?function(t){let i=t.getFilters().map(s=>lf(s));return i.length===1?i[0]:{compositeFilter:{op:kb(t.op),filters:i}}}(n):ee()}function Pb(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uf(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var m3=class n{constructor(e,t,i,s,r=ce.min(),c=ce.min(),a=at.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Wa=class{constructor(e){this.ct=e}};function Db(n){let e=xb({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Na(e,e.limit,"L"):e}var nr=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Re(e.integerValue));else if("doubleValue"in e){let i=Re(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),u3(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=k2(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(h1(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?Pd(e)?this.dt(t,Number.MAX_SAFE_INTEGER):kd(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ee()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let s of Object.keys(i))this.Vt(s,t),this.Tt(i[s],t)}wt(e,t){var i,s;let r=e.fields||{};this.dt(t,53);let c="value",a=((s=(i=r[c].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.length)||0;this.dt(t,15),t.At(Re(a)),this.Vt(c,t),this.Tt(r[c],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let s of i)this.Tt(s,t)}yt(e,t){this.dt(t,37),J.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};nr.vt=new nr;var Ga=class{constructor(){this.un=new Ka}addToCollectionParentIndex(e,t){return this.un.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(H1.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(H1.min())}updateCollectionGroup(e,t,i){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},Ka=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new ot(De.comparator),r=!s.has(i);return this.index[t]=s.add(i),r}has(e){let t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new ot(De.comparator)).toArray()}};var CR=new Uint8Array(0);var s2=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};s2.DEFAULT_COLLECTION_PERCENTILE=10,s2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,s2.DEFAULT=new s2(41943040,s2.DEFAULT_COLLECTION_PERCENTILE,s2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),s2.DISABLED=new s2(-1,0,0);var p3=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Ya=class{constructor(){this.changes=new d1(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?k.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Qa=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Xa=class{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&l3(i.mutation,s,r2.empty(),tt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,pe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=pe()){let s=B1();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(r=>{let c=r3();return r.forEach((a,l)=>{c=c.insert(a,l.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){let i=B1();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,pe()))}populateOverlays(e,t,i){let s=[];return i.forEach(r=>{t.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((c,a)=>{t.set(c,a)})})}computeViews(e,t,i,s){let r=P2(),c=a3(),a=function(){return a3()}();return t.forEach((l,h)=>{let f=i.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof D2)?r=r.insert(h.key,h):f!==void 0?(c.set(h.key,f.mutation.getFieldMask()),l3(f.mutation,h,f.mutation.getFieldMask(),tt.now())):c.set(h.key,r2.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((h,f)=>c.set(h,f)),t.forEach((h,f)=>{var p;return a.set(h,new Qa(f,(p=c.get(h))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let i=a3(),s=new Ue((c,a)=>c-a),r=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(let a of c)a.keys().forEach(l=>{let h=t.get(l);if(h===null)return;let f=i.get(l)||r2.empty();f=a.applyToLocalView(h,f),i.set(l,f);let p=(s.get(a.batchId)||pe()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{let c=[],a=s.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),h=l.key,f=l.value,p=Kd();f.forEach(_=>{if(!r.has(_)){let b=ef(t.get(_),i.get(_));b!==null&&p.set(_,b),r=r.add(_)}}),c.push(this.documentOverlayCache.saveOverlays(e,h,p))}return k.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return J.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(r=>{let c=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-r.size):k.resolve(B1()),a=-1,l=r;return c.next(h=>k.forEach(h,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),r.get(f)?k.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{l=l.insert(f,_)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,l,h,pe())).next(f=>({batchId:a,changes:Gd(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(i=>{let s=r3();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){let r=t.collectionGroup,c=r3();return this.indexManager.getCollectionParents(e,r).next(a=>k.forEach(a,l=>{let h=function(p,_){return new G1(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,i,s).next(f=>{f.forEach((p,_)=>{c=c.insert(p,_)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(r=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r,s))).next(c=>{r.forEach((l,h)=>{let f=h.getKey();c.get(f)===null&&(c=c.insert(f,jt.newInvalidDocument(f)))});let a=r3();return c.forEach((l,h)=>{let f=r.get(l);f!==void 0&&l3(f.mutation,h,r2.empty(),tt.now()),Lr(t,h)&&(a=a.insert(l,h))}),a})}};var Ja=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return k.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:l2(s.createTime)}}(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(s){return{name:s.name,query:Db(s.bundledQuery),readTime:l2(s.readTime)}}(t)),k.resolve()}};var Za=class{constructor(){this.overlays=new Ue(J.comparator),this.Ir=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let i=B1();return k.forEach(t,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,r)=>{this.ht(e,t,r)}),k.resolve()}removeOverlaysForBatchId(e,t,i){let s=this.Ir.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Ir.delete(i)),k.resolve()}getOverlaysForCollection(e,t,i){let s=B1(),r=t.length+1,c=new J(t.child("")),a=this.overlays.getIteratorFrom(c);for(;a.hasNext();){let l=a.getNext().value,h=l.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return k.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let r=new Ue((h,f)=>h-f),c=this.overlays.getIterator();for(;c.hasNext();){let h=c.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>i){let f=r.get(h.largestBatchId);f===null&&(f=B1(),r=r.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}let a=B1(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,f)=>a.set(h,f)),!(a.size()>=s)););return k.resolve(a)}ht(e,t,i){let s=this.overlays.get(i.key);if(s!==null){let c=this.Ir.get(s.largestBatchId).delete(i.key);this.Ir.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Oa(t,i));let r=this.Ir.get(t);r===void 0&&(r=pe(),this.Ir.set(t,r)),this.Ir.set(t,r.add(i.key))}};var el=class{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var g3=class{constructor(){this.Tr=new ot($e.Er),this.dr=new ot($e.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new $e(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new $e(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new J(new De([])),i=new $e(t,e),s=new $e(t,e+1),r=[];return this.dr.forEachInRange([i,s],c=>{this.Vr(c),r.push(c.key)}),r}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new J(new De([])),i=new $e(t,e),s=new $e(t,e+1),r=pe();return this.dr.forEachInRange([i,s],c=>{r=r.add(c.key)}),r}containsKey(e){let t=new $e(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},$e=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return J.comparator(e.key,t.key)||ve(e.wr,t.wr)}static Ar(e,t){return ve(e.wr,t.wr)||J.comparator(e.key,t.key)}};var tl=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ot($e.Er)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){let r=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let c=new Pa(r,t,i,s);this.mutationQueue.push(c);for(let a of s)this.br=this.br.add(new $e(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(c)}lookupMutationBatch(e,t){return k.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,s=this.vr(i),r=s<0?0:s;return k.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new $e(t,0),s=new $e(t,Number.POSITIVE_INFINITY),r=[];return this.br.forEachInRange([i,s],c=>{let a=this.Dr(c.wr);r.push(a)}),k.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ot(ve);return t.forEach(s=>{let r=new $e(s,0),c=new $e(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([r,c],a=>{i=i.add(a.wr)})}),k.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,s=i.length+1,r=i;J.isDocumentKey(r)||(r=r.child(""));let c=new $e(new J(r),0),a=new ot(ve);return this.br.forEachWhile(l=>{let h=l.key.path;return!!i.isPrefixOf(h)&&(h.length===s&&(a=a.add(l.wr)),!0)},c),k.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let s=this.Dr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Me(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return k.forEach(t.mutations,s=>{let r=new $e(s.key,t.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new $e(t,0),s=this.br.firstAfterOrEqual(i);return k.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var nl=class{constructor(e){this.Mr=e,this.docs=function(){return new Ue(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,s=this.docs.get(i),r=s?s.size:0,c=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return k.resolve(i?i.document.mutableCopy():jt.newInvalidDocument(t))}getEntries(e,t){let i=P2();return t.forEach(s=>{let r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():jt.newInvalidDocument(s))}),k.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let r=P2(),c=t.path,a=new J(c.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:h,value:{document:f}}=l.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||Hw($w(f),i)<=0||(s.has(f.key)||Lr(t,f))&&(r=r.insert(f.key,f.mutableCopy()))}return k.resolve(r)}getAllFromCollectionGroup(e,t,i,s){ee()}Or(e,t){return k.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new il(this)}getSize(e){return k.resolve(this.size)}},il=class extends Ya{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(i)}),k.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var sl=class{constructor(e){this.persistence=e,this.Nr=new d1(t=>Kl(t),Yl),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new g3,this.targetCount=0,this.kr=p3.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,s)=>t(s)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),k.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new p3(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.Kn(t),k.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,i){let s=0,r=[];return this.Nr.forEach((c,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Nr.delete(c),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),k.waitFor(r).next(()=>s)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return k.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),k.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let s=this.persistence.referenceDelegate,r=[];return s&&t.forEach(c=>{r.push(s.markPotentiallyOrphaned(e,c))}),k.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return k.resolve(i)}containsKey(e,t){return k.resolve(this.Br.containsKey(t))}};var rl=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Nd(0),this.Kr=!1,this.Kr=!0,this.$r=new el,this.referenceDelegate=e(this),this.Ur=new sl(this),this.indexManager=new Ga,this.remoteDocumentCache=function(s){return new nl(s)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new Wa(t),this.Gr=new Ja(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Za,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new tl(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){G("MemoryPersistence","Starting transaction:",e);let s=new cl(this.Qr.next());return this.referenceDelegate.zr(),i(s).next(r=>this.referenceDelegate.jr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Hr(e,t){return k.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},cl=class extends _a{constructor(e){super(),this.currentSequenceNumber=e}},ol=class n{constructor(e){this.persistence=e,this.Jr=new g3,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),k.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),k.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(r=>this.Xr.add(r.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Xr,i=>{let s=J.fromPath(i);return this.ei(e,s).next(r=>{r||t.removeEntry(s,ce.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return k.or([()=>k.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var al=class n{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=s}static Wi(e,t){let i=pe(),s=pe();for(let r of t.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new n(e,t.fromCache,i,s)}};var ll=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ul=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $u()?8:Gw(Xe())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,s){let r={result:null};return this.Yi(e,t).next(c=>{r.result=c}).next(()=>{if(!r.result)return this.Zi(e,t,s,i).next(c=>{r.result=c})}).next(()=>{if(r.result)return;let c=new ll;return this.Xi(e,t,c).next(a=>{if(r.result=a,this.zi)return this.es(e,t,c,a.size)})}).next(()=>r.result)}es(e,t,i,s){return i.documentReadCount<this.ji?(s3()<=me.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Qn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),k.resolve()):(s3()<=me.DEBUG&&G("QueryEngine","Query:",Qn(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Hi*s?(s3()<=me.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Qn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,a2(t))):k.resolve())}Yi(e,t){if(ad(t))return k.resolve(null);let i=a2(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Na(t,null,"F"),i=a2(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{let c=pe(...r);return this.Ji.getDocuments(e,c).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let h=this.ts(t,a);return this.ns(t,h,c,l.readTime)?this.Yi(e,Na(t,null,"F")):this.rs(e,h,t,l)}))})))}Zi(e,t,i,s){return ad(t)||s.isEqual(ce.min())?k.resolve(null):this.Ji.getDocuments(e,i).next(r=>{let c=this.ts(t,r);return this.ns(t,c,i,s)?k.resolve(null):(s3()<=me.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qn(t)),this.rs(e,c,t,qw(s,-1)).next(a=>a))})}ts(e,t){let i=new ot(Hd(e));return t.forEach((s,r)=>{Lr(e,r)&&(i=i.add(r))}),i}ns(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let r=e.limitType==="F"?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Xi(e,t,i){return s3()<=me.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Qn(t)),this.Ji.getDocumentsMatchingQuery(e,t,H1.min(),i)}rs(e,t,i,s){return this.Ji.getDocumentsMatchingQuery(e,i,s).next(r=>(t.forEach(c=>{r=r.insert(c.key,c)}),r))}};var hl=class{constructor(e,t,i,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new Ue(ve),this._s=new d1(r=>Kl(r),Yl),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xa(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function Ob(n,e,t,i){return new hl(n,e,t,i)}function hf(n,e){return C(this,null,function*(){let t=se(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(r=>{let c=[],a=[],l=pe();for(let h of s){c.push(h.batchId);for(let f of h.mutations)l=l.add(f.key)}for(let h of r){a.push(h.batchId);for(let f of h.mutations)l=l.add(f.key)}return t.localDocuments.getDocuments(i,l).next(h=>({hs:h,removedBatchIds:c,addedBatchIds:a}))})})})}function Fb(n,e){let t=se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let s=e.batch.keys(),r=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,h,f){let p=h.batch,_=p.keys(),b=k.resolve();return _.forEach(A=>{b=b.next(()=>f.getEntry(l,A)).next(N=>{let x=h.docVersions.get(A);Me(x!==null),N.version.compareTo(x)<0&&(p.applyToRemoteDocument(N,h),N.isValidDocument()&&(N.setReadTime(h.commitVersion),f.addEntry(N)))})}),b.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,i,e,r).next(()=>r.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=pe();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(l=l.add(a.batch.mutations[h].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function df(n){let e=se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Vb(n,e){let t=se(n),i=e.snapshotVersion,s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{let c=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;let a=[];e.targetChanges.forEach((f,p)=>{let _=s.get(p);if(!_)return;a.push(t.Ur.removeMatchingKeys(r,f.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(r,f.addedDocuments,p)));let b=_.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(at.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):f.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(f.resumeToken,i)),s=s.insert(p,b),function(N,x,$){return N.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(_,b,f)&&a.push(t.Ur.updateTargetData(r,b))});let l=P2(),h=pe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(r,f))}),a.push(Ub(r,c,e.documentUpdates).next(f=>{l=f.Ps,h=f.Is})),!i.isEqual(ce.min())){let f=t.Ur.getLastRemoteSnapshotVersion(r).next(p=>t.Ur.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(f)}return k.waitFor(a).next(()=>c.apply(r)).next(()=>t.localDocuments.getLocalViewOfDocuments(r,l,h)).next(()=>l)}).then(r=>(t.os=s,r))}function Ub(n,e,t){let i=pe(),s=pe();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let c=P2();return t.forEach((a,l)=>{let h=r.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),c=c.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),c=c.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{Ps:c,Is:s}})}function Bb(n,e){let t=se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function jb(n,e){let t=se(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Ur.getTargetData(i,e).next(r=>r?(s=r,k.resolve(s)):t.Ur.allocateTargetId(i).next(c=>(s=new m3(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,s).next(()=>s))))}).then(i=>{let s=t.os.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function dl(n,e,t){return C(this,null,function*(){let i=se(n),s=i.os.get(e),r=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",r,c=>i.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!b3(c))throw c;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.os=i.os.remove(e),i._s.delete(s.target)})}function vd(n,e,t){let i=se(n),s=ce.min(),r=pe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(l,h,f){let p=se(l),_=p._s.get(f);return _!==void 0?k.resolve(p.os.get(_)):p.Ur.getTargetData(h,f)}(i,c,a2(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(c,a.targetId).next(l=>{r=l})}).next(()=>i.ss.getDocumentsMatchingQuery(c,e,t?s:ce.min(),t?r:pe())).next(a=>(qb(i,sb(e),a),{documents:a,Ts:r})))}function qb(n,e,t){let i=n.us.get(e)||ce.min();t.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),n.us.set(e,i)}var ir=class{constructor(){this.activeTargetIds=ub()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var fl=class{constructor(){this.so=new ir,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ir,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ml=class{_o(e){}shutdown(){}};var sr=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Us=null;function ca(){return Us===null?Us=function(){return 268435456+Math.round(2147483648*Math.random())}():Us++,"0x"+Us.toString(16)}var $b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var pl=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ct="WebChannelConnection",gl=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${s}/databases/${r}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}get Fo(){return!1}Mo(t,i,s,r,c){let a=ca(),l=this.xo(t,i.toUriEncodedString());G("RestConnection",`Sending RPC '${t}' ${a}:`,l,s);let h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,r,c),this.No(t,l,h,s).then(f=>(G("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw i0("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",l,"request:",s),f})}Lo(t,i,s,r,c,a){return this.Mo(t,i,s,r,c)}Oo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+g0}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,c)=>t[c]=r),s&&s.headers.forEach((r,c)=>t[c]=r)}xo(t,i){let s=$b[t];return`${this.Do}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,s){let r=ca();return new Promise((c,a)=>{let l=new ea;l.setWithCredentials(!0),l.listenOnce(ta.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case i3.NO_ERROR:let f=l.getResponseJson();G(ct,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(f)),c(f);break;case i3.TIMEOUT:G(ct,`RPC '${e}' ${r} timed out`),a(new q(R.DEADLINE_EXCEEDED,"Request time out"));break;case i3.HTTP_ERROR:let p=l.getStatus();if(G(ct,`RPC '${e}' ${r} failed with status:`,p,"response text:",l.getResponseText()),p>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);let b=_?.error;if(b&&b.status&&b.message){let A=function(x){let $=x.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf($)>=0?$:R.UNKNOWN}(b.status);a(new q(A,b.message))}else a(new q(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(R.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{G(ct,`RPC '${e}' ${r} completed.`)}});let h=JSON.stringify(s);G(ct,`RPC '${e}' ${r} sending request:`,s),l.send(t,"POST",h,i,15)})}Bo(e,t,i){let s=ca(),r=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=sa(),a=ia(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let f=r.join("");G(ct,`Creating RPC '${e}' stream ${s}: ${f}`,l);let p=c.createWebChannel(f,l),_=!1,b=!1,A=new pl({Io:x=>{b?G(ct,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(_||(G(ct,`Opening RPC '${e}' stream ${s} transport.`),p.open(),_=!0),G(ct,`RPC '${e}' stream ${s} sending:`,x),p.send(x))},To:()=>p.close()}),N=(x,$,W)=>{x.listen($,U=>{try{W(U)}catch(ae){setTimeout(()=>{throw ae},0)}})};return N(p,Yn.EventType.OPEN,()=>{b||(G(ct,`RPC '${e}' stream ${s} transport opened.`),A.yo())}),N(p,Yn.EventType.CLOSE,()=>{b||(b=!0,G(ct,`RPC '${e}' stream ${s} transport closed`),A.So())}),N(p,Yn.EventType.ERROR,x=>{b||(b=!0,i0(ct,`RPC '${e}' stream ${s} transport errored:`,x),A.So(new q(R.UNAVAILABLE,"The operation could not be completed")))}),N(p,Yn.EventType.MESSAGE,x=>{var $;if(!b){let W=x.data[0];Me(!!W);let U=W,ae=U.error||(($=U[0])===null||$===void 0?void 0:$.error);if(ae){G(ct,`RPC '${e}' stream ${s} received error:`,ae);let Ce=ae.status,de=function(v){let L=qe[v];if(L!==void 0)return nf(L)}(Ce),M=ae.message;de===void 0&&(de=R.INTERNAL,M="Unknown error status: "+Ce+" with message "+ae.message),b=!0,A.So(new q(de,M)),p.close()}else G(ct,`RPC '${e}' stream ${s} received:`,W),A.bo(W)}}),N(a,na.STAT_EVENT,x=>{x.stat===Fs.PROXY?G(ct,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Fs.NOPROXY&&G(ct,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function oa(){return typeof document<"u"?document:null}function Mr(n){return new Ba(n,!0)}var rr=class{constructor(e,t,i=1e3,s=1.5,r=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=s,this.Qo=r,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-i);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var cr=class{constructor(e,t,i,s,r,c,a,l){this.ui=e,this.Ho=i,this.Jo=s,this.connection=r,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new rr(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===R.RESOURCE_EXHAUSTED?(R2(t.toString()),R2("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Yo===t&&this.P_(i,s)},i=>{e(()=>{let s=new q(R.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(s)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{i(()=>this.I_(s))}),this.stream.onMessage(s=>{i(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},_l=class extends cr{constructor(e,t,i,s,r,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=r}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=zb(this.serializer,e),i=function(r){if(!("targetChange"in r))return ce.min();let c=r.targetChange;return c.targetIds&&c.targetIds.length?ce.min():c.readTime?l2(c.readTime):ce.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=Ha(this.serializer),t.addTarget=function(r,c){let a,l=c.target;if(a=xa(l)?{documents:Tb(r,l)}:{query:Sb(r,l)._t},a.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){a.resumeToken=sf(r,c.resumeToken);let h=ja(r,c.expectedCount);h!==null&&(a.expectedCount=h)}else if(c.snapshotVersion.compareTo(ce.min())>0){a.readTime=tr(r,c.snapshotVersion.toTimestamp());let h=ja(r,c.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,e);let i=Ab(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=Ha(this.serializer),t.removeTarget=e,this.a_(t)}},yl=class extends cr{constructor(e,t,i,s,r,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=r}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=Eb(e.writeResults,e.commitTime),i=l2(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=Ha(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>Ib(this.serializer,i))};this.a_(t)}};var vl=class extends class{}{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new q(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,c])=>this.connection.Mo(e,qa(t,i),s,r,c)).catch(r=>{throw r.name==="FirebaseError"?(r.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new q(R.UNKNOWN,r.toString())})}Lo(e,t,i,s,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,a])=>this.connection.Lo(e,qa(t,i),s,c,a,r)).catch(c=>{throw c.name==="FirebaseError"?(c.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new q(R.UNKNOWN,c.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Cl=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(R2(t),this.D_=!1):G("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Ll=class{constructor(e,t,i,s,r){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=r,this.k_._o(c=>{i.enqueueAndForget(()=>C(this,null,function*(){X1(this)&&(G("RemoteStore","Restarting streams for network reachability change."),yield function(l){return C(this,null,function*(){let h=se(l);h.L_.add(4),yield z3(h),h.q_.set("Unknown"),h.L_.delete(4),yield wr(h)})}(this))}))}),this.q_=new Cl(i,s)}};function wr(n){return C(this,null,function*(){if(X1(n))for(let e of n.B_)yield e(!0)})}function z3(n){return C(this,null,function*(){for(let e of n.B_)yield e(!1)})}function ff(n,e){let t=se(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),t8(t)?e8(t):y0(t).r_()&&Zl(t,e))}function Jl(n,e){let t=se(n),i=y0(t);t.N_.delete(e),i.r_()&&mf(t,e),t.N_.size===0&&(i.r_()?i.o_():X1(t)&&t.q_.set("Unknown"))}function Zl(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}y0(n).A_(e)}function mf(n,e){n.Q_.xe(e),y0(n).R_(e)}function e8(n){n.Q_=new Ua({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),y0(n).start(),n.q_.v_()}function t8(n){return X1(n)&&!y0(n).n_()&&n.N_.size>0}function X1(n){return se(n).L_.size===0}function pf(n){n.Q_=void 0}function Hb(n){return C(this,null,function*(){n.q_.set("Online")})}function Wb(n){return C(this,null,function*(){n.N_.forEach((e,t)=>{Zl(n,e)})})}function Gb(n,e){return C(this,null,function*(){pf(n),t8(n)?(n.q_.M_(e),e8(n)):n.q_.set("Unknown")})}function Kb(n,e,t){return C(this,null,function*(){if(n.q_.set("Online"),e instanceof Zs&&e.state===2&&e.cause)try{yield function(s,r){return C(this,null,function*(){let c=r.cause;for(let a of r.targetIds)s.N_.has(a)&&(yield s.remoteSyncer.rejectListen(a,c),s.N_.delete(a),s.Q_.removeTarget(a))})}(n,e)}catch(i){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield or(n,i)}else if(e instanceof t0?n.Q_.Ke(e):e instanceof Js?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ce.min()))try{let i=yield df(n.localStore);t.compareTo(i)>=0&&(yield function(r,c){let a=r.Q_.rt(c);return a.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){let f=r.N_.get(h);f&&r.N_.set(h,f.withResumeToken(l.resumeToken,c))}}),a.targetMismatches.forEach((l,h)=>{let f=r.N_.get(l);if(!f)return;r.N_.set(l,f.withResumeToken(at.EMPTY_BYTE_STRING,f.snapshotVersion)),mf(r,l);let p=new m3(f.target,l,h,f.sequenceNumber);Zl(r,p)}),r.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){G("RemoteStore","Failed to raise snapshot:",i),yield or(n,i)}})}function or(n,e,t){return C(this,null,function*(){if(!b3(e))throw e;n.L_.add(1),yield z3(n),n.q_.set("Offline"),t||(t=()=>df(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){G("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield wr(n)}))})}function gf(n,e){return e().catch(t=>or(n,t,e))}function br(n){return C(this,null,function*(){let e=se(n),t=f1(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Yb(e);)try{let s=yield Bb(e.localStore,i);if(s===null){e.O_.length===0&&t.o_();break}i=s.batchId,Qb(e,s)}catch(s){yield or(e,s)}_f(e)&&yf(e)})}function Yb(n){return X1(n)&&n.O_.length<10}function Qb(n,e){n.O_.push(e);let t=f1(n);t.r_()&&t.V_&&t.m_(e.mutations)}function _f(n){return X1(n)&&!f1(n).n_()&&n.O_.length>0}function yf(n){f1(n).start()}function Xb(n){return C(this,null,function*(){f1(n).p_()})}function Jb(n){return C(this,null,function*(){let e=f1(n);for(let t of n.O_)e.m_(t.mutations)})}function Zb(n,e,t){return C(this,null,function*(){let i=n.O_.shift(),s=Da.from(i,e,t);yield gf(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield br(n)})}function ez(n,e){return C(this,null,function*(){e&&f1(n).V_&&(yield function(i,s){return C(this,null,function*(){if(function(c){return _b(c)&&c!==R.ABORTED}(s.code)){let r=i.O_.shift();f1(i).s_(),yield gf(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),yield br(i)}})}(n,e)),_f(n)&&yf(n)})}function Cd(n,e){return C(this,null,function*(){let t=se(n);t.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");let i=X1(t);t.L_.add(3),yield z3(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield wr(t)})}function tz(n,e){return C(this,null,function*(){let t=se(n);e?(t.L_.delete(2),yield wr(t)):e||(t.L_.add(2),yield z3(t),t.q_.set("Unknown"))})}function y0(n){return n.K_||(n.K_=function(t,i,s){let r=se(t);return r.w_(),new _l(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{Eo:Hb.bind(null,n),Ro:Wb.bind(null,n),mo:Gb.bind(null,n),d_:Kb.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.K_.s_(),t8(n)?e8(n):n.q_.set("Unknown")):(yield n.K_.stop(),pf(n))}))),n.K_}function f1(n){return n.U_||(n.U_=function(t,i,s){let r=se(t);return r.w_(),new yl(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Xb.bind(null,n),mo:ez.bind(null,n),f_:Jb.bind(null,n),g_:Zb.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.U_.s_(),yield br(n)):(yield n.U_.stop(),n.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var Ml=class n{constructor(e,t,i,s,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new c2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,r){let c=Date.now()+i,a=new n(e,t,c,s,r);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function n8(n,e){if(R2("AsyncQueue",`${e}: ${n}`),b3(n))return new q(R.UNAVAILABLE,`${e}: ${n}`);throw n}var ar=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||J.comparator(t.key,i.key):(t,i)=>J.comparator(t.key,i.key),this.keyedMap=r3(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let s=t.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var lr=class{constructor(){this.W_=new Ue(J.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},f0=class n{constructor(e,t,i,s,r,c,a,l,h){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=c,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,t,i,s,r){let c=[];return t.forEach(a=>{c.push({type:0,doc:a})}),new n(e,t,ar.emptySet(t),c,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}};var wl=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},bl=class{constructor(){this.queries=Ld(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let s=se(t),r=s.queries;s.queries=Ld(),r.forEach((c,a)=>{for(let l of a.j_)l.onError(i)})})(this,new q(R.ABORTED,"Firestore shutting down"))}};function Ld(){return new d1(n=>$d(n),Cr)}function nz(n,e){return C(this,null,function*(){let t=se(n),i=3,s=e.query,r=t.queries.get(s);r?!r.H_()&&e.J_()&&(i=2):(r=new wl,i=e.J_()?0:1);try{switch(i){case 0:r.z_=yield t.onListen(s,!0);break;case 1:r.z_=yield t.onListen(s,!1);break;case 2:yield t.onFirstRemoteStoreListen(s)}}catch(c){let a=n8(c,`Initialization of query '${Qn(e.query)}' failed`);return void e.onError(a)}t.queries.set(s,r),r.j_.push(e),e.Z_(t.onlineState),r.z_&&e.X_(r.z_)&&i8(t)})}function iz(n,e){return C(this,null,function*(){let t=se(n),i=e.query,s=3,r=t.queries.get(i);if(r){let c=r.j_.indexOf(e);c>=0&&(r.j_.splice(c,1),r.j_.length===0?s=e.J_()?0:1:!r.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function sz(n,e){let t=se(n),i=!1;for(let s of e){let r=s.query,c=t.queries.get(r);if(c){for(let a of c.j_)a.X_(s)&&(i=!0);c.z_=s}}i&&i8(t)}function rz(n,e,t){let i=se(n),s=i.queries.get(e);if(s)for(let r of s.j_)r.onError(t);i.queries.delete(e)}function i8(n){n.Y_.forEach(e=>{e.next()})}var zl,Md;(Md=zl||(zl={})).ea="default",Md.Cache="cache";var Il=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let s of e.docChanges)s.type!==3&&i.push(s);e=new f0(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=f0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zl.Cache}};var ur=class{constructor(e){this.key=e}},hr=class{constructor(e){this.key=e}},El=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=Hd(e),this.Ra=new ar(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new lr,s=t?t.Ra:this.Ra,r=t?t.mutatedKeys:this.mutatedKeys,c=s,a=!1,l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,p)=>{let _=s.get(f),b=Lr(this.query,p)?p:null,A=!!_&&this.mutatedKeys.has(_.key),N=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations),x=!1;_&&b?_.data.isEqual(b.data)?A!==N&&(i.track({type:3,doc:b}),x=!0):this.ga(_,b)||(i.track({type:2,doc:b}),x=!0,(l&&this.Aa(b,l)>0||h&&this.Aa(b,h)<0)&&(a=!0)):!_&&b?(i.track({type:0,doc:b}),x=!0):_&&!b&&(i.track({type:1,doc:_}),x=!0,(l||h)&&(a=!0)),x&&(b?(c=c.add(b),r=N?r.add(f):r.delete(f)):(c=c.delete(f),r=r.delete(f)))}),this.query.limit!==null)for(;c.size>this.query.limit;){let f=this.query.limitType==="F"?c.last():c.first();c=c.delete(f.key),r=r.delete(f.key),i.track({type:1,doc:f})}return{Ra:c,fa:i,ns:a,mutatedKeys:r}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){let r=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let c=e.fa.G_();c.sort((f,p)=>function(b,A){let N=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return N(b)-N(A)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(i),s=s!=null&&s;let a=t&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,h=l!==this.Ea;return this.Ea=l,c.length!==0||h?{snapshot:new f0(this.query,e.Ra,r,c,e.mutatedKeys,l===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new lr,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new hr(i))}),this.da.forEach(i=>{e.has(i)||t.push(new ur(i))}),t}ba(e){this.Ta=e.Ts,this.da=pe();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return f0.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Tl=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},Sl=class{constructor(e){this.key=e,this.va=!1}},xl=class{constructor(e,t,i,s,r,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new d1(a=>$d(a),Cr),this.Ma=new Map,this.xa=new Set,this.Oa=new Ue(J.comparator),this.Na=new Map,this.La=new g3,this.Ba={},this.ka=new Map,this.qa=p3.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function cz(n,e,t=!0){return C(this,null,function*(){let i=bf(n),s,r=i.Fa.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.Da()):s=yield vf(i,e,t,!0),s})}function oz(n,e){return C(this,null,function*(){let t=bf(n);yield vf(t,e,!0,!1)})}function vf(n,e,t,i){return C(this,null,function*(){let s=yield jb(n.localStore,a2(e)),r=s.targetId,c=n.sharedClientState.addLocalQueryTarget(r,t),a;return i&&(a=yield az(n,e,r,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&ff(n.remoteStore,s),a})}function az(n,e,t,i,s){return C(this,null,function*(){n.Ka=(p,_,b)=>function(N,x,$,W){return C(this,null,function*(){let U=x.view.ma($);U.ns&&(U=yield vd(N.localStore,x.query,!1).then(({documents:M})=>x.view.ma(M,U)));let ae=W&&W.targetChanges.get(x.targetId),Ce=W&&W.targetMismatches.get(x.targetId)!=null,de=x.view.applyChanges(U,N.isPrimaryClient,ae,Ce);return bd(N,x.targetId,de.wa),de.snapshot})}(n,p,_,b);let r=yield vd(n.localStore,e,!0),c=new El(e,r.Ts),a=c.ma(r.documents),l=f3.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),h=c.applyChanges(a,n.isPrimaryClient,l);bd(n,t,h.wa);let f=new Tl(e,t,c);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),h.snapshot})}function lz(n,e,t){return C(this,null,function*(){let i=se(n),s=i.Fa.get(e),r=i.Ma.get(s.targetId);if(r.length>1)return i.Ma.set(s.targetId,r.filter(c=>!Cr(c,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||(yield dl(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Jl(i.remoteStore,s.targetId),Al(i,s.targetId)}).catch(w3))):(Al(i,s.targetId),yield dl(i.localStore,s.targetId,!0))})}function uz(n,e){return C(this,null,function*(){let t=se(n),i=t.Fa.get(e),s=t.Ma.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Jl(t.remoteStore,i.targetId))})}function hz(n,e,t){return C(this,null,function*(){let i=yz(n);try{let s=yield function(c,a){let l=se(c),h=tt.now(),f=a.reduce((b,A)=>b.add(A.key),pe()),p,_;return l.persistence.runTransaction("Locally write mutations","readwrite",b=>{let A=P2(),N=pe();return l.cs.getEntries(b,f).next(x=>{A=x,A.forEach(($,W)=>{W.isValidDocument()||(N=N.add($))})}).next(()=>l.localDocuments.getOverlayedDocuments(b,A)).next(x=>{p=x;let $=[];for(let W of a){let U=gb(W,p.get(W.key).overlayedDocument);U!=null&&$.push(new D2(W.key,U,Dd(U.value.mapValue),q1.exists(!0)))}return l.mutationQueue.addMutationBatch(b,h,$,a)}).next(x=>{_=x;let $=x.applyToLocalDocumentSet(p,N);return l.documentOverlayCache.saveOverlays(b,x.batchId,$)})}).then(()=>({batchId:_.batchId,changes:Gd(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,a,l){let h=c.Ba[c.currentUser.toKey()];h||(h=new Ue(ve)),h=h.insert(a,l),c.Ba[c.currentUser.toKey()]=h}(i,s.batchId,t),yield I3(i,s.changes),yield br(i.remoteStore)}catch(s){let r=n8(s,"Failed to persist write");t.reject(r)}})}function Cf(n,e){return C(this,null,function*(){let t=se(n);try{let i=yield Vb(t.localStore,e);e.targetChanges.forEach((s,r)=>{let c=t.Na.get(r);c&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.va=!0:s.modifiedDocuments.size>0?Me(c.va):s.removedDocuments.size>0&&(Me(c.va),c.va=!1))}),yield I3(t,i,e)}catch(i){yield w3(i)}})}function wd(n,e,t){let i=se(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let s=[];i.Fa.forEach((r,c)=>{let a=c.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(c,a){let l=se(c);l.onlineState=a;let h=!1;l.queries.forEach((f,p)=>{for(let _ of p.j_)_.Z_(a)&&(h=!0)}),h&&i8(l)}(i.eventManager,e),s.length&&i.Ca.d_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function dz(n,e,t){return C(this,null,function*(){let i=se(n);i.sharedClientState.updateQueryState(e,"rejected",t);let s=i.Na.get(e),r=s&&s.key;if(r){let c=new Ue(J.comparator);c=c.insert(r,jt.newNoDocument(r,ce.min()));let a=pe().add(r),l=new Xs(ce.min(),new Map,new Ue(ve),c,a);yield Cf(i,l),i.Oa=i.Oa.remove(r),i.Na.delete(e),s8(i)}else yield dl(i.localStore,e,!1).then(()=>Al(i,e,t)).catch(w3)})}function fz(n,e){return C(this,null,function*(){let t=se(n),i=e.batch.batchId;try{let s=yield Fb(t.localStore,e);Mf(t,i,null),Lf(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield I3(t,s)}catch(s){yield w3(s)}})}function mz(n,e,t){return C(this,null,function*(){let i=se(n);try{let s=yield function(c,a){let l=se(c);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return l.mutationQueue.lookupMutationBatch(h,a).next(p=>(Me(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(h,p))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>l.localDocuments.getDocuments(h,f))})}(i.localStore,e);Mf(i,e,t),Lf(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield I3(i,s)}catch(s){yield w3(s)}})}function Lf(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function Mf(n,e,t){let i=se(n),s=i.Ba[i.currentUser.toKey()];if(s){let r=s.get(e);r&&(t?r.reject(t):r.resolve(),s=s.remove(e)),i.Ba[i.currentUser.toKey()]=s}}function Al(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||wf(n,i)})}function wf(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Jl(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),s8(n))}function bd(n,e,t){for(let i of t)i instanceof ur?(n.La.addReference(i.key,e),pz(n,i)):i instanceof hr?(G("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||wf(n,i.key)):ee()}function pz(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(G("SyncEngine","New document in limbo: "+t),n.xa.add(i),s8(n))}function s8(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new J(De.fromString(e)),i=n.qa.next();n.Na.set(i,new Sl(t)),n.Oa=n.Oa.insert(t,i),ff(n.remoteStore,new m3(a2(jd(t.path)),i,"TargetPurposeLimboResolution",Nd.oe))}}function I3(n,e,t){return C(this,null,function*(){let i=se(n),s=[],r=[],c=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{c.push(i.Ka(l,e,t).then(h=>{var f;if((h||t)&&i.isPrimaryClient){let p=h?!h.fromCache:(f=t?.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(h){s.push(h);let p=al.Wi(l.targetId,h);r.push(p)}}))}),yield Promise.all(c),i.Ca.d_(s),yield function(l,h){return C(this,null,function*(){let f=se(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(h,_=>k.forEach(_.$i,b=>f.persistence.referenceDelegate.addReference(p,_.targetId,b)).next(()=>k.forEach(_.Ui,b=>f.persistence.referenceDelegate.removeReference(p,_.targetId,b)))))}catch(p){if(!b3(p))throw p;G("LocalStore","Failed to update sequence numbers: "+p)}for(let p of h){let _=p.targetId;if(!p.fromCache){let b=f.os.get(_),A=b.snapshotVersion,N=b.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(_,N)}}})}(i.localStore,r))})}function gz(n,e){return C(this,null,function*(){let t=se(n);if(!t.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());let i=yield hf(t.localStore,e);t.currentUser=e,function(r,c){r.ka.forEach(a=>{a.forEach(l=>{l.reject(new q(R.CANCELLED,c))})}),r.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield I3(t,i.hs)}})}function _z(n,e){let t=se(n),i=t.Na.get(e);if(i&&i.va)return pe().add(i.key);{let s=pe(),r=t.Ma.get(e);if(!r)return s;for(let c of r){let a=t.Fa.get(c);s=s.unionWith(a.view.Va)}return s}}function bf(n){let e=se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_z.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dz.bind(null,e),e.Ca.d_=sz.bind(null,e.eventManager),e.Ca.$a=rz.bind(null,e.eventManager),e}function yz(n){let e=se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mz.bind(null,e),e}var zd=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=Mr(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,i){return null}Ha(t,i){return null}za(t){return Ob(this.persistence,new ul,t.initialUser,this.serializer)}Ga(t){return new rl(ol.Zr,this.serializer)}Wa(t){return new fl}terminate(){return C(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var vz=(()=>{class n{initialize(t,i){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wd(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gz.bind(null,this.syncEngine),yield tz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new bl}()}createDatastore(t){let i=Mr(t.databaseInfo.databaseId),s=function(c){return new gl(c)}(t.databaseInfo);return function(c,a,l,h){return new vl(c,a,l,h)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,r,c,a,l){return new Ll(s,r,c,a,l)}(this.localStore,this.datastore,t.asyncQueue,i=>wd(this.syncEngine,i,0),function(){return sr.D()?new sr:new ml}())}createSyncEngine(t,i){return function(r,c,a,l,h,f,p){let _=new xl(r,c,a,l,h,f);return p&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return C(this,null,function*(){var t,i;yield function(r){return C(this,null,function*(){let c=se(r);G("RemoteStore","RemoteStore shutting down."),c.L_.add(5),yield z3(c),c.k_.shutdown(),c.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var Nl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):R2("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Rl=class{constructor(e,t,i,s,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Ze.UNAUTHENTICATED,this.clientId=$s.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,c=>C(this,null,function*(){G("FirestoreClient","Received user=",c.uid),yield this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,c=>(G("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new c2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=n8(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function aa(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(s=>C(this,null,function*(){i.isEqual(s)||(yield hf(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function Id(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Cz(n);G("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Cd(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Cd(e.remoteStore,s)),n._onlineComponents=e})}function Cz(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{yield aa(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(s){return s.name==="FirebaseError"?s.code===R.FAILED_PRECONDITION||s.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;i0("Error using user provided cache. Falling back to memory cache: "+t),yield aa(n,new zd)}}else G("FirestoreClient","Using default OfflineComponentProvider"),yield aa(n,new zd);return n._offlineComponents})}function zf(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),yield Id(n,n._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),yield Id(n,new vz))),n._onlineComponents})}function Lz(n){return zf(n).then(e=>e.syncEngine)}function Mz(n){return C(this,null,function*(){let e=yield zf(n),t=e.eventManager;return t.onListen=cz.bind(null,e.syncEngine),t.onUnlisten=lz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uz.bind(null,e.syncEngine),t})}function wz(n,e,t={}){let i=new c2;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(r,c,a,l,h){let f=new Nl({next:_=>{f.Za(),c.enqueueAndForget(()=>iz(r,p)),_.fromCache&&l.source==="server"?h.reject(new q(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),p=new Il(a,f,{includeMetadataChanges:!0,_a:!0});return nz(r,p)}(yield Mz(n),n.asyncQueue,e,t,i)})),i.promise}function If(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Ed=new Map;function Ef(n,e,t){if(!t)throw new q(R.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bz(n,e,t,i){if(e===!0&&i===!0)throw new q(R.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Td(n){if(!J.isDocumentKey(n))throw new q(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Sd(n){if(J.isDocumentKey(n))throw new q(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zr(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ee()}function dr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=zr(n);throw new q(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var fr=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new q(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=If((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},m0=class{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fr({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fr(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new la;switch(i.type){case"firstParty":return new fa(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=Ed.get(t);i&&(G("ComponentProvider","Removing Datastore"),Ed.delete(t),i.terminate())}(this),Promise.resolve()}};function Tf(n,e,t,i={}){var s;let r=(n=dr(n,m0))._getSettings(),c=`${e}:${t}`;if(r.host!=="firestore.googleapis.com"&&r.host!==c&&i0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},r),{host:c,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Ze.MOCK_USER;else{a=Fu(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);let h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new q(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ze(h)}n._authCredentials=new ua(new qs(a,l))}}var p0=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Rt=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new u1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},u1=class n extends p0{constructor(e,t,i){super(e,t,jd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new J(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Sf(n,e,...t){if(n=_t(n),Ef("collection","path",e),n instanceof m0){let i=De.fromString(e,...t);return Sd(i),new u1(n,null,i)}{if(!(n instanceof Rt||n instanceof u1))throw new q(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(De.fromString(e,...t));return Sd(i),new u1(n.firestore,null,i)}}function xf(n,e,...t){if(n=_t(n),arguments.length===1&&(e=$s.newId()),Ef("doc","path",e),n instanceof m0){let i=De.fromString(e,...t);return Td(i),new Rt(n,null,new J(i))}{if(!(n instanceof Rt||n instanceof u1))throw new q(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(De.fromString(e,...t));return Td(i),new Rt(n.firestore,n instanceof u1?n.converter:null,new J(i))}}var mr=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new rr(this,"async_queue_retry"),this.Vu=()=>{let i=oa();i&&G("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=oa();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=oa();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new c2;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!b3(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let s=function(c){let a=c.message||"";return c.stack&&(a=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),a}(i);throw R2("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let s=Ml.createAndSchedule(this,e,t,i,r=>this.yu(r));return this.Tu.push(s),s}fu(){this.Eu&&ee()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var _3=class extends m0{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new mr,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new mr(e),this._firestoreClient=void 0,yield e}})}};function Af(n,e){let t=typeof n=="object"?n:jn(),i=typeof n=="string"?n:e||"(default)",s=$i(t,"firestore").getImmediate({identifier:i});if(!s._initialized){let r=Ou("firestore");r&&Tf(s,...r)}return s}function Nf(n){if(n._terminated)throw new q(R.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||zz(n),n._firestoreClient}function zz(n){var e,t,i;let s=n._freezeSettings(),r=function(a,l,h,f){return new ya(a,l,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,If(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new Rl(n._authCredentials,n._appCheckCredentials,n._queue,r,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var y3=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(at.fromBase64String(e))}catch(t){throw new q(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var v3=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var pr=class{constructor(e){this._methodName=e}};var C3=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var L3=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}};var Iz=/^__.*__$/,kl=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new D2(e,this.data,this.fieldMask,t,this.fieldTransforms):new Q1(e,this.data,t,this.fieldTransforms)}};function Rf(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var Pl=class n{constructor(e,t,i,s,r,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.vu(),this.fieldTransforms=r||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:i,xu:!1});return s.Ou(e),s}Nu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:i,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gr(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Rf(this.Cu)&&Iz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Dl=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Mr(e)}Qu(e,t,i,s=!1){return new Pl({Cu:e,methodName:t,qu:i,path:It.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function kf(n){let e=n._freezeSettings(),t=Mr(n._databaseId);return new Dl(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ez(n,e,t,i,s,r={}){let c=n.Qu(r.merge||r.mergeFields?2:0,e,t,s);Of("Data must be an object, but it was:",c,i);let a=Pf(i,c),l,h;if(r.merge)l=new r2(c.fieldMask),h=c.fieldTransforms;else if(r.mergeFields){let f=[];for(let p of r.mergeFields){let _=Sz(e,p,t);if(!c.contains(_))throw new q(R.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Az(f,_)||f.push(_)}l=new r2(f),h=c.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,h=c.fieldTransforms;return new kl(new Bt(a),l,h)}function Tz(n,e,t,i=!1){return r8(t,n.Qu(i?4:3,e))}function r8(n,e){if(Df(n=_t(n)))return Of("Unsupported field value:",e,n),Pf(n,e);if(n instanceof pr)return function(i,s){if(!Rf(s.Cu))throw s.Bu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${i._methodName}() is not currently supported inside arrays`);let r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,s){let r=[],c=0;for(let a of i){let l=r8(a,s.Lu(c));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),c++}return{arrayValue:{values:r}}}(n,e)}return function(i,s){if((i=_t(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return hb(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let r=tt.fromDate(i);return{timestampValue:tr(s.serializer,r)}}if(i instanceof tt){let r=new tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:tr(s.serializer,r)}}if(i instanceof C3)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof y3)return{bytesValue:sf(s.serializer,i._byteString)};if(i instanceof Rt){let r=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(r))throw s.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Xl(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof L3)return function(c,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Ql(a.serializer,l)})}}}}}}(i,s);throw s.Bu(`Unsupported field value: ${zr(i)}`)}(n,e)}function Pf(n,e){let t={};return Rd(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_0(n,(i,s)=>{let r=r8(s,e.Mu(i));r!=null&&(t[i]=r)}),{mapValue:{fields:t}}}function Df(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof C3||n instanceof y3||n instanceof Rt||n instanceof pr||n instanceof L3)}function Of(n,e,t){if(!Df(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){let i=zr(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function Sz(n,e,t){if((e=_t(e))instanceof v3)return e._internalPath;if(typeof e=="string")return Ff(n,e);throw gr("Field path arguments must be of type string or ",n,!1,void 0,t)}var xz=new RegExp("[~\\*/\\[\\]]");function Ff(n,e,t){if(e.search(xz)>=0)throw gr(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new v3(...e.split("."))._internalPath}catch{throw gr(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gr(n,e,t,i,s){let r=i&&!i.isEmpty(),c=s!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||c)&&(l+=" (found",r&&(l+=` in field ${i}`),c&&(l+=` in document ${s}`),l+=")"),new q(R.INVALID_ARGUMENT,a+n+l)}function Az(n,e){return n.some(t=>t.isEqual(e))}var _r=class{constructor(e,t,i,s,r){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ol(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(c8("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Ol=class extends _r{data(){return super.data()}};function c8(n,e){return typeof e=="string"?Ff(n,e):e instanceof v3?e._internalPath:e._delegate._internalPath}function Nz(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var M3=class{},Fl=class extends M3{};function Vf(n,e,...t){let i=[];e instanceof M3&&i.push(e),i=i.concat(t),function(r){let c=r.filter(l=>l instanceof Vl).length,a=r.filter(l=>l instanceof yr).length;if(c>1||c>0&&a>0)throw new q(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let s of i)n=s._apply(n);return n}var yr=class n extends Fl{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return Bf(e._query,t),new p0(e.firestore,e.converter,Aa(e._query,t))}_parse(e){let t=kf(e.firestore);return function(r,c,a,l,h,f,p){let _;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new q(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Ad(p,f);let b=[];for(let A of p)b.push(xd(l,r,A));_={arrayValue:{values:b}}}else _=xd(l,r,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Ad(p,f),_=Tz(a,c,p,f==="in"||f==="not-in");return He.create(h,f,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Uf(n,e,t){let i=e,s=c8("where",n);return yr._create(s,i,t)}var Vl=class n extends M3{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:qt.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(s,r){let c=s,a=r.getFlattenedFilters();for(let l of a)Bf(c,l),c=Aa(c,l)}(e._query,t),new p0(e.firestore,e.converter,Aa(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function xd(n,e,t){if(typeof(t=_t(t))=="string"){if(t==="")throw new q(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qd(e)&&t.indexOf("/")!==-1)throw new q(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(De.fromString(t));if(!J.isDocumentKey(i))throw new q(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return nd(n,new J(i))}if(t instanceof Rt)return nd(n,t._key);throw new q(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zr(t)}.`)}function Ad(n,e){if(!Array.isArray(n)||n.length===0)throw new q(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bf(n,e){let t=function(s,r){for(let c of s)for(let a of c.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new q(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Ul=class{convertValue(e,t="none"){switch(W1(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(h1(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return _0(e,(s,r)=>{i[s]=this.convertValue(r,t)}),i}convertVectorValue(e){var t,i,s;let r=(s=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>Re(c.doubleValue));return new L3(r)}convertGeoPoint(e){return new C3(Re(e.latitude),Re(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=Wl(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(h3(e));default:return null}}convertTimestamp(e){let t=k2(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=De.fromString(e);Me(uf(i));let s=new Ks(i.get(1),i.get(3)),r=new J(i.popFirst(5));return s.isEqual(t)||R2(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}};function Rz(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var e0=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Bl=class extends _r{constructor(e,t,i,s,r,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new n0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(c8("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},n0=class extends Bl{data(e={}){return super.data(e)}},jl=class{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new e0(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new n0(this._firestore,this._userDataWriter,i.key,i,new e0(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(a=>{let l=new n0(s._firestore,s._userDataWriter,a.doc.key,a.doc,new e0(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{let l=new n0(s._firestore,s._userDataWriter,a.doc.key,a.doc,new e0(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter),h=-1,f=-1;return a.type!==0&&(h=c.indexOf(a.doc.key),c=c.delete(a.doc.key)),a.type!==1&&(c=c.add(a.doc),f=c.indexOf(a.doc.key)),{type:kz(a.type),doc:l,oldIndex:h,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function kz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}var ql=class extends Ul{constructor(e){super(),this.firestore=e}convertBytes(e){return new y3(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}};function jf(n){n=dr(n,p0);let e=dr(n.firestore,_3),t=Nf(e),i=new ql(e);return Nz(n._query),wz(t,n._query).then(s=>new jl(e,i,n,s))}function qf(n,e){let t=dr(n.firestore,_3),i=xf(n),s=Rz(n.converter,e);return Pz(t,[Ez(kf(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,q1.exists(!1))]).then(()=>i)}function Pz(n,e){return function(i,s){let r=new c2;return i.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return hz(yield Lz(i),s,r)})),r.promise}(Nf(n),e)}(function(e,t=!0){(function(s){g0=s})(o1),c1(new Nt("firestore",(i,{instanceIdentifier:s,options:r})=>{let c=i.getProvider("app").getImmediate(),a=new _3(new ha(i.getProvider("auth-internal")),new pa(i.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new q(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ks(h.options.projectId,f)}(c,s),c);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),Je(Jh,"4.7.3",e),Je(Jh,"4.7.3","esm2017")})();var J1=class{constructor(e){return e}},$f="firestore",o8=class{constructor(){return e3($f)}};var a8=new B("angularfire2.firestore-instances");function Dz(n,e){let t=X6($f,n,e);return t&&new J1(t)}function Oz(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new J1(i)}}var Fz={provide:o8,deps:[[new Dt,a8]]},Vz={provide:J1,useFactory:Dz,deps:[[new Dt,a8],U1]};function Hf(n,...e){return Je("angularfire",Kn.full,"fst"),Lt([Vz,Fz,{provide:a8,useFactory:Oz(n),multi:!0,deps:[re,Fe,t3,n3,[new Dt,Ds],[new Dt,Zi],...e]}])}var Wf=A2(qf,!0);var Ir=A2(Sf,!0);var l8=A2(jf,!0);var Gf=A2(Af,!0);var u8=A2(Vf,!0);var h8=A2(Uf,!0);function d8(n,e){let t=!e?.manualCleanup;t&&!e?.injector&&$7(d8);let i=t?e?.injector?.get(Bc)??P(Bc):null,s=jz(e?.equal),r;e?.requireSync?r=Hc({kind:0},{equal:s}):r=Hc({kind:1,value:e?.initialValue},{equal:s});let c=n.subscribe({next:a=>r.set({kind:1,value:a}),error:a=>{if(e?.rejectErrors)throw a;r.set({kind:2,error:a})}});if(e?.requireSync&&r().kind===0)throw new we(601,!1);return i?.onDestroy(c.unsubscribe.bind(c)),A4(()=>{let a=r();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new we(601,!1)}},{equal:e?.equal})}function jz(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}var p8={};function $t(n,e){if(p8[n]=(p8[n]||0)+1,typeof e=="function")return f8(n,(...i)=>Q(I({},e(...i)),{type:n}));switch(e?e._as:"empty"){case"empty":return f8(n,()=>({type:n}));case"props":return f8(n,i=>Q(I({},i),{type:n}));default:throw new Error("Unexpected config.")}}function h2(){return{_as:"props",_p:void 0}}function f8(n,e){return Object.defineProperty(e,"type",{value:n,writable:!1})}var cm="@ngrx/store/init",v0=(()=>{class n extends Ye{constructor(){super({type:cm})}next(t){if(typeof t=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),qz=[v0],om=new B("@ngrx/store Internal Root Guard"),Kf=new B("@ngrx/store Internal Initial State"),C8=new B("@ngrx/store Initial State"),am=new B("@ngrx/store Reducer Factory"),Yf=new B("@ngrx/store Internal Reducer Factory Provider"),lm=new B("@ngrx/store Initial Reducers"),m8=new B("@ngrx/store Internal Initial Reducers"),Jk=new B("@ngrx/store Store Features"),Qf=new B("@ngrx/store Internal Store Reducers"),Zk=new B("@ngrx/store Internal Feature Reducers"),eP=new B("@ngrx/store Internal Feature Configs"),tP=new B("@ngrx/store Internal Store Features"),nP=new B("@ngrx/store Internal Feature Reducers Token"),iP=new B("@ngrx/store Feature Reducers"),Xf=new B("@ngrx/store User Provided Meta Reducers"),Er=new B("@ngrx/store Meta Reducers"),Jf=new B("@ngrx/store Internal Resolved Meta Reducers"),Zf=new B("@ngrx/store User Runtime Checks Config"),em=new B("@ngrx/store Internal User Runtime Checks Config"),E3=new B("@ngrx/store Internal Runtime Checks"),um=new B("@ngrx/store Check if Action types are unique"),tm=new B("@ngrx/store Root Store Provider"),sP=new B("@ngrx/store Feature State Provider");function $z(n,e={}){let t=Object.keys(n),i={};for(let r=0;r<t.length;r++){let c=t[r];typeof n[c]=="function"&&(i[c]=n[c])}let s=Object.keys(i);return function(c,a){c=c===void 0?e:c;let l=!1,h={};for(let f=0;f<s.length;f++){let p=s[f],_=i[p],b=c[p],A=_(b,a);h[p]=A,l=l||A!==b}return l?h:c}}function Hz(n,e){return Object.keys(n).filter(t=>t!==e).reduce((t,i)=>Object.assign(t,{[i]:n[i]}),{})}function hm(...n){return function(e){if(n.length===0)return e;let t=n[n.length-1];return n.slice(0,-1).reduceRight((s,r)=>r(s),t(e))}}function dm(n,e){return Array.isArray(e)&&e.length>0&&(n=hm.apply(null,[...e,n])),(t,i)=>{let s=n(t);return(r,c)=>(r=r===void 0?i:r,s(r,c))}}function Wz(n){let e=Array.isArray(n)&&n.length>0?hm(...n):t=>t;return(t,i)=>(t=e(t),(s,r)=>(s=s===void 0?i:s,t(s,r)))}var T3=class extends ht{},Tr=class extends v0{},Gz="@ngrx/store/update-reducers",g8=(()=>{class n extends Ye{get currentReducers(){return this.reducers}constructor(t,i,s,r){super(r(s,i)),this.dispatcher=t,this.initialState=i,this.reducers=s,this.reducerFactory=r}addFeature(t){this.addFeatures([t])}addFeatures(t){let i=t.reduce((s,{reducers:r,reducerFactory:c,metaReducers:a,initialState:l,key:h})=>{let f=typeof r=="function"?Wz(a)(r,l):dm(c,a)(r,l);return s[h]=f,s},{});this.addReducers(i)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(i=>i.key))}addReducer(t,i){this.addReducers({[t]:i})}addReducers(t){this.reducers=I(I({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(i=>{this.reducers=Hz(this.reducers,i)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Gz,features:t})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(i){return new(i||n)(T(Tr),T(C8),T(lm),T(am))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),Kz=[g8,{provide:T3,useExisting:g8},{provide:Tr,useExisting:v0}],L8=(()=>{class n extends ge{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=Qt(n)))(s||n)}})()}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),Yz=[L8],Sr=class extends ht{},nm=(()=>{class n extends Ye{static{this.INIT=cm}constructor(t,i,s,r){super(r);let a=t.pipe(ei(m4)).pipe(V7(i)),l={state:r},h=a.pipe(v4(Qz,l));this.stateSubscription=h.subscribe(({state:f,action:p})=>{this.next(f),s.next(p)}),this.state=d8(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(i){return new(i||n)(T(v0),T(T3),T(L8),T(C8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();function Qz(n={state:void 0},[e,t]){let{state:i}=n;return{state:t(i,e),action:e}}var Xz=[nm,{provide:Sr,useExisting:nm}],Z1=(()=>{class n extends ht{constructor(t,i,s){super(),this.actionsObserver=i,this.reducerManager=s,this.source=t,this.state=t.state}select(t,...i){return Zz.call(null,t,...i)(this)}selectSignal(t,i){return A4(()=>t(this.state()),i)}lift(t){let i=new n(this,this.actionsObserver,this.reducerManager);return i.operator=t,i}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,i){this.reducerManager.addReducer(t,i)}removeReducer(t){this.reducerManager.removeReducer(t)}static{this.\u0275fac=function(i){return new(i||n)(T(Sr),T(v0),T(g8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),Jz=[Z1];function Zz(n,e,...t){return function(s){let r;if(typeof n=="string"){let c=[e,...t].filter(Boolean);r=s.pipe(F7(n,...c))}else if(typeof n=="function")r=s.pipe(fe(c=>n(c,e)));else throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);return r.pipe(ni())}}var M8="https://ngrx.io/guide/store/configuration/runtime-checks";function im(n){return n===void 0}function sm(n){return n===null}function fm(n){return Array.isArray(n)}function eI(n){return typeof n=="string"}function tI(n){return typeof n=="boolean"}function nI(n){return typeof n=="number"}function mm(n){return typeof n=="object"&&n!==null}function iI(n){return mm(n)&&!fm(n)}function sI(n){if(!iI(n))return!1;let e=Object.getPrototypeOf(n);return e===Object.prototype||e===null}function _8(n){return typeof n=="function"}function rI(n){return _8(n)&&n.hasOwnProperty("\u0275cmp")}function cI(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function oI(n){return n instanceof B?P(n):n}function aI(n){return typeof n=="function"?n():n}function lI(n,e){return n.concat(e)}function uI(){if(P(Z1,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function hI(n,e){return function(t,i){let s=e.action(i)?y8(i):i,r=n(t,s);return e.state()?y8(r):r}}function y8(n){Object.freeze(n);let e=_8(n);return Object.getOwnPropertyNames(n).forEach(t=>{if(!t.startsWith("\u0275")&&cI(n,t)&&(!e||t!=="caller"&&t!=="callee"&&t!=="arguments")){let i=n[t];(mm(i)||_8(i))&&!Object.isFrozen(i)&&y8(i)}}),n}function dI(n,e){return function(t,i){if(e.action(i)){let r=v8(i);rm(r,"action")}let s=n(t,i);if(e.state()){let r=v8(s);rm(r,"state")}return s}}function v8(n,e=[]){return(im(n)||sm(n))&&e.length===0?{path:["root"],value:n}:Object.keys(n).reduce((i,s)=>{if(i)return i;let r=n[s];return rI(r)?i:im(r)||sm(r)||nI(r)||tI(r)||eI(r)||fm(r)?!1:sI(r)?v8(r,[...e,s]):{path:[...e,s],value:r}},!1)}function rm(n,e){if(n===!1)return;let t=n.path.join("."),i=new Error(`Detected unserializable ${e} at "${t}". ${M8}#strict${e}serializability`);throw i.value=n.value,i.unserializablePath=t,i}function fI(n,e){return function(t,i){if(e.action(i)&&!re.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${M8}#strictactionwithinngzone`);return n(t,i)}}function mI(n){return a9()?I({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},n):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function pI({strictActionSerializability:n,strictStateSerializability:e}){return t=>n||e?dI(t,{action:i=>n&&!w8(i),state:()=>e}):t}function gI({strictActionImmutability:n,strictStateImmutability:e}){return t=>n||e?hI(t,{action:i=>n&&!w8(i),state:()=>e}):t}function w8(n){return n.type.startsWith("@ngrx")}function _I({strictActionWithinNgZone:n}){return e=>n?fI(e,{action:t=>n&&!w8(t)}):e}function yI(n){return[{provide:em,useValue:n},{provide:Zf,useFactory:CI,deps:[em]},{provide:E3,deps:[Zf],useFactory:mI},{provide:Er,multi:!0,deps:[E3],useFactory:gI},{provide:Er,multi:!0,deps:[E3],useFactory:pI},{provide:Er,multi:!0,deps:[E3],useFactory:_I}]}function vI(){return[{provide:um,multi:!0,deps:[E3],useFactory:LI}]}function CI(n){return n}function LI(n){if(!n.strictActionTypeUniqueness)return;let e=Object.entries(p8).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${M8}#strictactiontypeuniqueness`)}function MI(n={},e={}){return[{provide:om,useFactory:uI},{provide:Kf,useValue:e.initialState},{provide:C8,useFactory:aI,deps:[Kf]},{provide:m8,useValue:n},{provide:Qf,useExisting:n instanceof B?n:m8},{provide:lm,deps:[m8,[new B7(Qf)]],useFactory:oI},{provide:Xf,useValue:e.metaReducers?e.metaReducers:[]},{provide:Jf,deps:[Er,Xf],useFactory:lI},{provide:Yf,useValue:e.reducerFactory?e.reducerFactory:$z},{provide:am,deps:[Yf,Jf],useFactory:dm},qz,Kz,Yz,Xz,Jz,yI(e.runtimeChecks),vI()]}function wI(){P(v0),P(T3),P(L8),P(Z1),P(om,{optional:!0}),P(um,{optional:!0})}var bI=[{provide:tm,useFactory:wI},{provide:L4,multi:!0,useFactory(){return()=>P(tm)}}];function pm(n,e){return Lt([...MI(n,e),bI])}function Ht(...n){let e=n.pop(),t=n.map(i=>i.type);return{reducer:e,types:t}}function C0(n,...e){let t=new Map;for(let i of e)for(let s of i.types){let r=t.get(s);if(r){let c=(a,l)=>i.reducer(r(a,l),l);t.set(s,c)}else t.set(s,i.reducer)}return function(i=n,s){let r=t.get(s.type);return r?r(i,s):i}}var xr=$t("[User] Login",h2()),Ar=$t("[User] LogOut");var S3=class n{constructor(e,t,i){this.router=e;this.firestore=t;this.store=i;this.user$=this.store.select("user")}user$;ngOnInit(){}getUserByEmail(e){return C(this,null,function*(){let t=Ir(this.firestore,"users"),i=u8(t,h8("mail","==",e));try{let s=yield l8(i);return s.empty?(console.log("No se encontr\xF3 ning\xFAn usuario con ese correo."),null):s.docs.map(c=>I({id:c.id},c.data()))[0]}catch(s){throw console.error("Error al obtener el usuario:",s),new Error("No se pudo obtener el usuario")}})}userExistInDatabase(e){return C(this,null,function*(){let t=Ir(this.firestore,"users"),i=u8(t,h8("mail","==",e));try{return(yield l8(i)).empty?(console.log("No se encontr\xF3 ning\xFAn usuario con el email:",e),!0):(console.log("Usuario encontrado con el email:",e),!1)}catch(s){return console.error("Error al verificar el usuario: ",s),!1}})}createUser(e){return C(this,null,function*(){let t=Ir(this.firestore,"users"),i={name:e.user.displayName,surname:e.user.displayName,mail:e.user.email};try{let s=yield Wf(t,i);console.log("Usuario creado correctamente con ID:",s.id)}catch(s){console.error("Error al crear el usuario: ",s)}})}loginWithGoogle(){return C(this,null,function*(){let e=new H6;try{let t=yield Rs(Wn(),e);(yield this.userExistInDatabase(t.user.email))||(yield this.createUser(t));let s=yield this.getUserByEmail(t.user.email);if(!s)throw new Error("Error en el login.");return console.log("Login exitoso"),this.store.dispatch(xr({user:s})),s}catch(t){throw console.log("Error en login"),t}})}hasActiveUser(){return Wn().currentUser!=null}getActiveUser(){return this.user$}signOut(){Wn().signOut(),this.store.dispatch(Ar()),this.router.navigateByUrl("")}static \u0275fac=function(t){return new(t||n)(T(gt),T(J1),T(Z1))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var Nr=class n{constructor(e,t,i){this.userService=e;this.countryService=t;this.router=i}ngOnInit(){this.suscribeToUserStore()}suscribeToUserStore(){this.userService.getActiveUser().subscribe(e=>{e&&this.router.navigateByUrl("")},e=>{console.log(e)})}loginWithGoogle(){return C(this,null,function*(){try{yield this.userService.loginWithGoogle()}catch(e){console.log(e)}})}static \u0275fac=function(t){return new(t||n)(H(S3),H(S3),H(gt))};static \u0275cmp=Ee({type:n,selectors:[["app-login"]],standalone:!0,features:[Se],decls:16,vars:0,consts:[[1,"login","container-fluid"],[1,"main-login"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"row","text-center"],[1,"col"],[1,"iconos-redes","mt-3"],[1,"option"],["src","https://i.blogs.es/dc6737/unnamed/650_1200.png","alt","",3,"click"],[1,"option","mt-2"],["src","https://cdn-icons-png.flaticon.com/256/124/124010.png","alt",""]],template:function(t,i){t&1&&(O(0,"app-layout")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h3"),j(8,"Ingresa"),D()()(),O(9,"div",6)(10,"div",7)(11,"img",8),Y("click",function(){return i.loginWithGoogle()}),D(),j(12," Ingrese con google "),D(),O(13,"div",9),Mt(14,"img",10),j(15," Ingrese con facebook "),D()()()()()()())},dependencies:[Un],styles:[".login[_ngcontent-%COMP%]{height:80vh;width:100vw;justify-content:center;align-items:center;display:flex;background-color:var(--color-secondary)}.main-login[_ngcontent-%COMP%]{height:30vh;width:20vw;background-color:var(--color-background-alt);color:var(--color-highlight)}.iconos-redes[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:column;width:100%;height:160px}.iconos-redes[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{cursor:pointer;height:80px;width:300px}img[_ngcontent-%COMP%]{width:80px}"]})};var Rr=$t("[User] sum blue points",h2()),kr=$t("[User] sum red points",h2()),x3=$t("[User] set blue points",h2()),A3=$t("[User] set red points",h2());var L0=class n{constructor(e){this.store=e;this.points$=this.store.select(t=>t.pointsState)}points$;resetPoints(){this.store.dispatch(x3({points:0})),this.store.dispatch(A3({points:0}))}setPoints(e,t){this.store.dispatch(x3({points:e})),this.store.dispatch(A3({points:t}))}sumPoints(e,t){let i=t==="BLUE"?Rr({points:e}):kr({points:e});this.store.dispatch(i)}static \u0275fac=function(t){return new(t||n)(T(Z1))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function N3(n,e=0){return II(n)?Number(n):arguments.length===2?e:0}function II(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function M0(n){return Array.isArray(n)?n:[n]}function Be(n){return n==null?"":typeof n=="string"?n:`${n}px`}function O2(n){return n instanceof Ve?n.nativeElement:n}var z8;try{z8=typeof Intl<"u"&&Intl.v8BreakIterator}catch{z8=!1}var Ke=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?_9(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||z8)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(T(Ft))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var R3;function EI(){if(R3==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>R3=!0}))}finally{R3=R3||!1}return R3}function w0(n){return EI()?n:!!n.capture}var Wt=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Wt||{}),Pr,en;function Dr(){if(en==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return en=!1,en;if("scrollBehavior"in document.documentElement.style)en=!0;else{let n=Element.prototype.scrollTo;n?en=!/\{\s*\[native code\]\s*\}/.test(n.toString()):en=!1}}return en}function b0(){if(typeof document!="object"||!document)return Wt.NORMAL;if(Pr==null){let n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),Pr=Wt.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,Pr=n.scrollLeft===0?Wt.NEGATED:Wt.INVERTED),n.remove()}return Pr}var b8;function TI(){if(b8==null){let n=typeof document<"u"?document.head:null;b8=!!(n&&(n.createShadowRoot||n.attachShadow))}return b8}function _m(n){if(TI()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function k3(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Gt(n){return n.composedPath?n.composedPath()[0]:n.target}function P3(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var SI=new B("cdk-dir-doc",{providedIn:"root",factory:xI});function xI(){return P(ie)}var AI=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function NI(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?AI.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var tn=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new pt,t){let i=t.body?t.body.dir:null,s=t.documentElement?t.documentElement.dir:null;this.value=NI(i||s||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(T(SI,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var m1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ze({type:n})}static{this.\u0275inj=be({})}}return n})();var RI=20,E8=(()=>{class n{constructor(t,i,s){this._ngZone=t,this._platform=i,this._scrolled=new ge,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=RI){return this._platform.isBrowser?new ht(i=>{this._globalSubscription||this._addGlobalListener();let s=t>0?this._scrolled.pipe(Dc(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):X()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let s=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(We(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,t)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let s=O2(i),r=t.getElementRef().nativeElement;do if(s==r)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return Pc(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(T(re),T(Ke),T(ie,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Cm=(()=>{class n{constructor(t,i,s,r){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=s,this.dir=r,this._destroyed=new ge,this._elementScrolled=new ht(c=>this.ngZone.runOutsideAngular(()=>Pc(this.elementRef.nativeElement,"scroll").pipe(Yt(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let i=this.elementRef.nativeElement,s=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=s?t.end:t.start),t.right==null&&(t.right=s?t.start:t.end),t.bottom!=null&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),s&&b0()!=Wt.NORMAL?(t.left!=null&&(t.right=i.scrollWidth-i.clientWidth-t.left),b0()==Wt.INVERTED?t.left=t.right:b0()==Wt.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let i=this.elementRef.nativeElement;Dr()?i.scrollTo(t):(t.top!=null&&(i.scrollTop=t.top),t.left!=null&&(i.scrollLeft=t.left))}measureScrollOffset(t){let i="left",s="right",r=this.elementRef.nativeElement;if(t=="top")return r.scrollTop;if(t=="bottom")return r.scrollHeight-r.clientHeight-r.scrollTop;let c=this.dir&&this.dir.value=="rtl";return t=="start"?t=c?s:i:t=="end"&&(t=c?i:s),c&&b0()==Wt.INVERTED?t==i?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:c&&b0()==Wt.NEGATED?t==i?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:t==i?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}static{this.\u0275fac=function(i){return new(i||n)(H(Ve),H(E8),H(re),H(tn,8))}}static{this.\u0275dir=Ge({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return n})(),kI=20,T8=(()=>{class n{constructor(t,i,s){this._platform=t,this._change=new ge,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(t.isBrowser){let r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),s=t.documentElement,r=s.getBoundingClientRect(),c=-r.top||t.body.scrollTop||i.scrollY||s.scrollTop||0,a=-r.left||t.body.scrollLeft||i.scrollX||s.scrollLeft||0;return{top:c,left:a}}change(t=kI){return t>0?this._change.pipe(Dc(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(T(Ke),T(re),T(ie,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var vm=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ze({type:n})}static{this.\u0275inj=be({})}}return n})(),S8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ze({type:n})}static{this.\u0275inj=be({imports:[m1,vm,m1,vm]})}}return n})();var D3=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},z0=class extends D3{constructor(e,t,i,s,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=s,this.projectableNodes=r}},I0=class extends D3{constructor(e,t,i,s){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=s}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},x8=class extends D3{constructor(e){super(),this.element=e instanceof Ve?e.nativeElement:e}},E0=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof z0)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof I0)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof x8)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Fr=class extends E0{constructor(e,t,i,s,r){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=c=>{this._document;let a=c.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=c,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s;return e.viewContainerRef?(s=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>s.destroy())):(s=i.create(e.injector||this._defaultInjector||Fe.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=e,s}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(i);s!==-1&&t.remove(s)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var O3=(()=>{class n extends E0{constructor(t,i,s){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new pt,this.attachDomPortal=r=>{this._document;let c=r.element;c.parentNode;let a=this._document.createComment("dom-portal");r.setAttachedHost(this),c.parentNode.insertBefore(a,c),this._getRootNode().appendChild(c),this._attachedPortal=r,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(c,a)})},this._document=s}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let i=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(r,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(i){return new(i||n)(H(z4),H(Mn),H(ie))}}static{this.\u0275dir=Ge({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Xt]})}}return n})();var nn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ze({type:n})}static{this.\u0275inj=be({})}}return n})();function Vr(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Mm=Dr(),A8=class{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Be(-this._previousScrollPosition.left),e.style.top=Be(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,s=t.style,r=i.scrollBehavior||"",c=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Mm&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Mm&&(i.scrollBehavior=r,s.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};var N8=class{constructor(e,t,i,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(We(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Ur=class{enable(){}disable(){}attach(){}};function R8(n,e){return e.some(t=>{let i=n.bottom<t.top,s=n.top>t.bottom,r=n.right<t.left,c=n.left>t.right;return i||s||r||c})}function wm(n,e){return e.some(t=>{let i=n.top<t.top,s=n.bottom>t.bottom,r=n.left<t.left,c=n.right>t.right;return i||s||r||c})}var k8=class{constructor(e,t,i,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();R8(t,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},PI=(()=>{class n{constructor(t,i,s,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new Ur,this.close=c=>new N8(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new A8(this._viewportRuler,this._document),this.reposition=c=>new k8(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=r}static{this.\u0275fac=function(i){return new(i||n)(T(E8),T(T8),T(re),T(ie))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),F3=class{constructor(e){if(this.scrollStrategy=new Ur,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var P8=class{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var Sm=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(T(ie))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),DI=(()=>{class n extends Sm{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=s=>{let r=this._attachedOverlays;for(let c=r.length-1;c>-1;c--)if(r[c]._keydownEvents.observers.length>0){let a=r[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(s)):a.next(s);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(T(ie),T(re,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),OI=(()=>{class n extends Sm{constructor(t,i,s){super(t),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=Gt(r)},this._clickListener=r=>{let c=Gt(r),a=r.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let h=l.length-1;h>-1;h--){let f=l[h];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(bm(f.overlayElement,c)||bm(f.overlayElement,a))break;let p=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(r)):p.next(r)}}}add(t){if(super.add(t),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(T(ie),T(Ke),T(re,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bm(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===n)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var T0=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||P3()){let s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let r=0;r<s.length;r++)s[r].remove()}let i=this._document.createElement("div");i.classList.add(t),P3()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(T(ie),T(Ke))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),F2=class{constructor(e,t,i,s,r,c,a,l,h,f=!1,p){this._portalOutlet=e,this._host=t,this._pane=i,this._config=s,this._ngZone=r,this._keyboardDispatcher=c,this._document=a,this._location=l,this._outsideClickDispatcher=h,this._animationsDisabled=f,this._injector=p,this._backdropElement=null,this._backdropClick=new ge,this._attachments=new ge,this._detachments=new ge,this._locationChanges=I1.EMPTY,this._backdropClickHandler=_=>this._backdropClick.next(_),this._backdropTransitionendHandler=_=>{this._disposeBackdrop(_.target)},this._keydownEvents=new ge,this._outsidePointerEvents=new ge,this._renders=new ge,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy,this._afterRenderRef=Kc(()=>s9(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=J2(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=I(I({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Q(I({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Be(this._config.width),e.height=Be(this._config.height),e.minWidth=Be(this._config.minWidth),e.minHeight=Be(this._config.minHeight),e.maxWidth=Be(this._config.maxWidth),e.maxHeight=Be(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){let s=M0(t||[]).filter(r=>!!r);s.length&&(i?e.classList.add(...s):e.classList.remove(...s))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Yt(y4(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},zm="cdk-overlay-connected-position-bounding-box",FI=/([A-Za-z%]+)$/,D8=class{get positions(){return this._preferredPositions}constructor(e,t,i,s,r){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ge,this._resizeSubscription=I1.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(zm),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,s=this._containerRect,r=[],c;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,s,a),h=this._getOverlayPoint(l,t,a),f=this._getOverlayFit(h,t,i,a);if(f.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(f,h,i)){r.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!c||c.overlayFit.visibleArea<f.visibleArea)&&(c={overlayFit:f,overlayPoint:h,originPoint:l,position:a,overlayRect:t})}if(r.length){let a=null,l=-1;for(let h of r){let f=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);f>l&&(l=f,a=h)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(c.position,c.originPoint);return}this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&sn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(zm),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let s;if(i.originX=="center")s=e.left+e.width/2;else{let c=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;s=i.originX=="start"?c:a}t.left<0&&(s-=t.left);let r;return i.originY=="center"?r=e.top+e.height/2:r=i.originY=="top"?e.top:e.bottom,t.top<0&&(r-=t.top),{x:s,y:r}}_getOverlayPoint(e,t,i){let s;i.overlayX=="center"?s=-t.width/2:i.overlayX==="start"?s=this._isRtl()?-t.width:0:s=this._isRtl()?0:-t.width;let r;return i.overlayY=="center"?r=-t.height/2:r=i.overlayY=="top"?0:-t.height,{x:e.x+s,y:e.y+r}}_getOverlayFit(e,t,i,s){let r=Em(t),{x:c,y:a}=e,l=this._getOffset(s,"x"),h=this._getOffset(s,"y");l&&(c+=l),h&&(a+=h);let f=0-c,p=c+r.width-i.width,_=0-a,b=a+r.height-i.height,A=this._subtractOverflows(r.width,f,p),N=this._subtractOverflows(r.height,_,b),x=A*N;return{visibleArea:x,isCompletelyWithinViewport:r.width*r.height===x,fitsInViewportVertically:N===r.height,fitsInViewportHorizontally:A==r.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let s=i.bottom-t.y,r=i.right-t.x,c=Im(this._overlayRef.getConfig().minHeight),a=Im(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||c!=null&&c<=s,h=e.fitsInViewportHorizontally||a!=null&&a<=r;return l&&h}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let s=Em(t),r=this._viewportRect,c=Math.max(e.x+s.width-r.width,0),a=Math.max(e.y+s.height-r.height,0),l=Math.max(r.top-i.top-e.y,0),h=Math.max(r.left-i.left-e.x,0),f=0,p=0;return s.width<=r.width?f=h||-c:f=e.x<this._viewportMargin?r.left-i.left-e.x:0,s.height<=r.height?p=l||-a:p=e.y<this._viewportMargin?r.top-i.top-e.y:0,this._previousPushAmount={x:f,y:p},{x:e.x+f,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!VI(this._lastScrollVisibility,i)){let s=new P8(e,i);this._positionChanges.next(s)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,s=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,s=this._isRtl(),r,c,a;if(t.overlayY==="top")c=e.y,r=i.height-c+this._viewportMargin;else if(t.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,r=i.height-a+this._viewportMargin;else{let b=Math.min(i.bottom-e.y+i.top,e.y),A=this._lastBoundingBoxSize.height;r=b*2,c=e.y-b,r>A&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-A/2)}let l=t.overlayX==="start"&&!s||t.overlayX==="end"&&s,h=t.overlayX==="end"&&!s||t.overlayX==="start"&&s,f,p,_;if(h)_=i.width-e.x+this._viewportMargin*2,f=e.x-this._viewportMargin;else if(l)p=e.x,f=i.right-e.x;else{let b=Math.min(i.right-e.x+i.left,e.x),A=this._lastBoundingBoxSize.width;f=b*2,p=e.x-b,f>A&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-A/2)}return{top:c,left:p,bottom:a,right:_,width:f,height:r}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{let r=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;s.height=Be(i.height),s.top=Be(i.top),s.bottom=Be(i.bottom),s.width=Be(i.width),s.left=Be(i.left),s.right=Be(i.right),t.overlayX==="center"?s.alignItems="center":s.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?s.justifyContent="center":s.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",r&&(s.maxHeight=Be(r)),c&&(s.maxWidth=Be(c))}this._lastBoundingBoxSize=i,sn(this._boundingBox.style,s)}_resetBoundingBoxStyles(){sn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){sn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},s=this._hasExactPosition(),r=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(s){let f=this._viewportRuler.getViewportScrollPosition();sn(i,this._getExactOverlayY(t,e,f)),sn(i,this._getExactOverlayX(t,e,f))}else i.position="static";let a="",l=this._getOffset(t,"x"),h=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),h&&(a+=`translateY(${h}px)`),i.transform=a.trim(),c.maxHeight&&(s?i.maxHeight=Be(c.maxHeight):r&&(i.maxHeight="")),c.maxWidth&&(s?i.maxWidth=Be(c.maxWidth):r&&(i.maxWidth="")),sn(this._pane.style,i)}_getExactOverlayY(e,t,i){let s={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),e.overlayY==="bottom"){let c=this._document.documentElement.clientHeight;s.bottom=`${c-(r.y+this._overlayRect.height)}px`}else s.top=Be(r.y);return s}_getExactOverlayX(e,t,i){let s={left:"",right:""},r=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i));let c;if(this._isRtl()?c=e.overlayX==="end"?"left":"right":c=e.overlayX==="end"?"right":"left",c==="right"){let a=this._document.documentElement.clientWidth;s.right=`${a-(r.x+this._overlayRect.width)}px`}else s.left=Be(r.x);return s}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wm(e,i),isOriginOutsideView:R8(e,i),isOverlayClipped:wm(t,i),isOverlayOutsideView:R8(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,s)=>i-Math.max(s,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&M0(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Ve)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function sn(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Im(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(FI);return!t||t==="px"?parseFloat(e):null}return n||null}function Em(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function VI(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var Tm="cdk-global-overlay-wrapper",O8=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Tm),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:r,maxWidth:c,maxHeight:a}=i,l=(s==="100%"||s==="100vw")&&(!c||c==="100%"||c==="100vw"),h=(r==="100%"||r==="100vh")&&(!a||a==="100%"||a==="100vh"),f=this._xPosition,p=this._xOffset,_=this._overlayRef.getConfig().direction==="rtl",b="",A="",N="";l?N="flex-start":f==="center"?(N="center",_?A=p:b=p):_?f==="left"||f==="end"?(N="flex-end",b=p):(f==="right"||f==="start")&&(N="flex-start",A=p):f==="left"||f==="start"?(N="flex-start",b=p):(f==="right"||f==="end")&&(N="flex-end",A=p),e.position=this._cssPosition,e.marginLeft=l?"0":b,e.marginTop=h?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":A,t.justifyContent=N,t.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Tm),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},UI=(()=>{class n{constructor(t,i,s,r){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=r}global(){return new O8}flexibleConnectedTo(t){return new D8(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(T(T8),T(ie),T(Ke),T(T0))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BI=0,Kt=(()=>{class n{constructor(t,i,s,r,c,a,l,h,f,p,_,b){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=r,this._keyboardDispatcher=c,this._injector=a,this._ngZone=l,this._document=h,this._directionality=f,this._location=p,this._outsideClickDispatcher=_,this._animationsModuleType=b}create(t){let i=this._createHostElement(),s=this._createPaneElement(i),r=this._createPortalOutlet(s),c=new F3(t);return c.direction=c.direction||this._directionality.value,new F2(r,i,s,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(v2))}position(){return this._positionBuilder}_createPaneElement(t){let i=this._document.createElement("div");return i.id=`cdk-overlay-${BI++}`,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Tn)),new Fr(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(T(PI),T(T0),T(z4),T(UI),T(DI),T(Fe),T(re),T(ie),T(tn),T(L2),T(OI),T(X2,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jI=new B("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=P(Kt);return()=>n.scrollStrategies.reposition()}});function qI(n){return()=>n.scrollStrategies.reposition()}var $I={provide:jI,deps:[Kt],useFactory:qI},Br=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ze({type:n})}static{this.\u0275inj=be({providers:[Kt,$I],imports:[m1,nn,S8,S8]})}}return n})();var HI=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Am=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ze({type:n})}static{this.\u0275inj=be({providers:[HI]})}}return n})();var Nm=new Set,rn,WI=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):KI}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&GI(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||n)(T(Ke),T(si,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function GI(n,e){if(!Nm.has(n))try{rn||(rn=document.createElement("style"),e&&rn.setAttribute("nonce",e),rn.setAttribute("type","text/css"),document.head.appendChild(rn)),rn.sheet&&(rn.sheet.insertRule(`@media ${n} {body{ }}`,0),Nm.add(n))}catch(t){console.error(t)}}function KI(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var km=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new ge}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Rm(M0(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){let s=Rm(M0(t)).map(c=>this._registerQuery(c).observable),r=_n(s);return r=_4(r.pipe(Ct(1)),r.pipe(C4(1),Oc(0))),r.pipe(fe(c=>{let a={matches:!1,breakpoints:{}};return c.forEach(({matches:l,query:h})=>{a.matches=a.matches||l,a.breakpoints[h]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),r={observable:new ht(c=>{let a=l=>this._zone.run(()=>c.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(y2(i),fe(({matches:c})=>({query:t,matches:c})),Yt(this._destroySubject)),mql:i};return this._queries.set(t,r),r}static{this.\u0275fac=function(i){return new(i||n)(T(WI),T(re))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Rm(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var V3=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return QI(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let i=YI(sE(t));if(i&&(Pm(i)===-1||!this.isVisible(i)))return!1;let s=t.nodeName.toLowerCase(),r=Pm(t);return t.hasAttribute("contenteditable")?r!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!nE(t)?!1:s==="audio"?t.hasAttribute("controls")?r!==-1:!1:s==="video"?r===-1?!1:r!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,i){return iE(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static{this.\u0275fac=function(i){return new(i||n)(T(Ke))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function YI(n){try{return n.frameElement}catch{return null}}function QI(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function XI(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function JI(n){return eE(n)&&n.type=="hidden"}function ZI(n){return tE(n)&&n.hasAttribute("href")}function eE(n){return n.nodeName.toLowerCase()=="input"}function tE(n){return n.nodeName.toLowerCase()=="a"}function Fm(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function Pm(n){if(!Fm(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function nE(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function iE(n){return JI(n)?!1:XI(n)||ZI(n)||n.hasAttribute("contenteditable")||Fm(n)}function sE(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var V8=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,s,r=!1,c){this._element=e,this._checker=t,this._ngZone=i,this._document=s,this._injector=c,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let i=0;i<t.length;i++){let s=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(s)return s}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let i=t.length-1;i>=0;i--){let s=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(s)return s}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?J2(e,{injector:this._injector}):setTimeout(e)}},$r=(()=>{class n{constructor(t,i,s){this._checker=t,this._ngZone=i,this._injector=P(Fe),this._document=s}create(t,i=!1){return new V8(t,this._checker,this._ngZone,this._document,i,this._injector)}static{this.\u0275fac=function(i){return new(i||n)(T(V3),T(re),T(ie))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function U8(n){return n.buttons===0||n.detail===0}function B8(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var rE=new B("cdk-input-modality-detector-options"),cE={ignoreKeys:[18,17,224,91,16]},Vm=650,S0=w0({passive:!0,capture:!0}),oE=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,s,r){this._platform=t,this._mostRecentTarget=null,this._modality=new Ye(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(a=>a===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Gt(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<Vm||(this._modality.next(U8(c)?"keyboard":"mouse"),this._mostRecentTarget=Gt(c))},this._onTouchstart=c=>{if(B8(c)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Gt(c)},this._options=I(I({},cE),r),this.modalityDetected=this._modality.pipe(C4(1)),this.modalityChanged=this.modalityDetected.pipe(ni()),t.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,S0),s.addEventListener("mousedown",this._onMousedown,S0),s.addEventListener("touchstart",this._onTouchstart,S0)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,S0),document.removeEventListener("mousedown",this._onMousedown,S0),document.removeEventListener("touchstart",this._onTouchstart,S0))}static{this.\u0275fac=function(i){return new(i||n)(T(Ke),T(re),T(ie),T(rE,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var qr=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(qr||{}),aE=new B("cdk-focus-monitor-default-options"),jr=w0({passive:!0,capture:!0}),Hr=(()=>{class n{constructor(t,i,s,r,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ge,this._rootNodeFocusAndBlurListener=a=>{let l=Gt(a);for(let h=l;h;h=h.parentElement)a.type==="focus"?this._onFocus(a,h):this._onBlur(a,h)},this._document=r,this._detectionMode=c?.detectionMode||qr.IMMEDIATE}monitor(t,i=!1){let s=O2(t);if(!this._platform.isBrowser||s.nodeType!==1)return X();let r=_m(s)||this._getDocument(),c=this._elementInfo.get(s);if(c)return i&&(c.checkChildren=!0),c.subject;let a={checkChildren:i,subject:new ge,rootNode:r};return this._elementInfo.set(s,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let i=O2(t),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(t,i,s){let r=O2(t),c=this._getDocument().activeElement;r===c?this._getClosestElementsInfo(r).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),typeof r.focus=="function"&&r.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===qr.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===qr.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?Vm:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(t,i){let s=this._elementInfo.get(i),r=Gt(t);!s||!s.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),s)}_onBlur(t,i){let s=this._elementInfo.get(i);!s||s.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,jr),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,jr)}),this._rootNodeFocusListenerCount.set(i,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Yt(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,jr),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,jr),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,s){this._setClasses(t,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((s,r)=>{(r===t||s.checkChildren&&r.contains(t))&&i.push([r,s])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let r=t.labels;if(r){for(let c=0;c<r.length;c++)if(r[c].contains(i))return!0}return!1}static{this.\u0275fac=function(i){return new(i||n)(T(re),T(Ke),T(oE),T(ie,8),T(aE,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var cn=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(cn||{}),Dm="cdk-high-contrast-black-on-white",Om="cdk-high-contrast-white-on-black",F8="cdk-high-contrast-active",j8=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=P(km).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return cn.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(t):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return cn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return cn.BLACK_ON_WHITE}return cn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(F8,Dm,Om),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===cn.BLACK_ON_WHITE?t.add(F8,Dm):i===cn.WHITE_ON_BLACK&&t.add(F8,Om)}}static{this.\u0275fac=function(i){return new(i||n)(T(Ke),T(ie))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Um=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(T(j8))}}static{this.\u0275mod=ze({type:n})}static{this.\u0275inj=be({imports:[Am]})}}return n})();function lE(n,e){}var on=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var W8=(()=>{class n extends E0{constructor(t,i,s,r,c,a,l,h){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=r,this._interactivityChecker=c,this._ngZone=a,this._overlayRef=l,this._focusMonitor=h,this._platform=P(Ke),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=P(S1),this._injector=P(Fe),this._isDestroyed=!1,this.attachDomPortal=f=>{this._portalOutlet.hasAttached();let p=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),p},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{t.removeEventListener("blur",s),t.removeEventListener("mousedown",s),t.removeAttribute("tabindex")};t.addEventListener("blur",s),t.addEventListener("mousedown",s)})),t.focus(i)}_focusByCssSelector(t,i){let s=this._elementRef.nativeElement.querySelector(t);s&&this._forceFocus(s,i)}_trapFocus(){this._isDestroyed||J2(()=>{let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let t=this._config.restoreFocus,i=null;if(typeof t=="string"?i=this._document.querySelector(t):typeof t=="boolean"?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&typeof i.focus=="function"){let s=k3(),r=this._elementRef.nativeElement;(!s||s===this._document.body||s===r||r.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let t=this._elementRef.nativeElement,i=k3();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=k3()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||n)(H(Ve),H($r),H(ie,8),H(on),H(V3),H(re),H(F2),H(Hr))}}static{this.\u0275cmp=Ee({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,s){if(i&1&&E4(O3,7),i&2){let r;oi(r=ai())&&(s._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,s){i&2&&Jt("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[Xt,Se],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,s){i&1&&Pe(0,lE,0,0,"ng-template",0)},dependencies:[O3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})(),U3=class{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new ge,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!Vr(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(e,t){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},uE=new B("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=P(Kt);return()=>n.scrollStrategies.block()}}),hE=new B("DialogData"),dE=new B("DefaultDialogConfig");var fE=0,G8=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,s,r,c,a){this._overlay=t,this._injector=i,this._defaultOptions=s,this._parentDialog=r,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ge,this._afterOpenedAtThisLevel=new ge,this._ariaHiddenElements=new Map,this.afterAllClosed=E1(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(y2(void 0))),this._scrollStrategy=a}open(t,i){let s=this._defaultOptions||new on;i=I(I({},s),i),i.id=i.id||`cdk-dialog-${fE++}`,i.id&&this.getDialogById(i.id);let r=this._getOverlayConfig(i),c=this._overlay.create(r),a=new U3(c,i),l=this._attachContainer(c,a,i);return a.containerInstance=l,this._attachDialogContent(t,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){$8(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){$8(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),$8(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let i=new F3({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,s){let r=s.injector||s.viewContainerRef?.injector,c=[{provide:on,useValue:s},{provide:U3,useValue:i},{provide:F2,useValue:t}],a;s.container?typeof s.container=="function"?a=s.container:(a=s.container.type,c.push(...s.container.providers(s))):a=W8;let l=new z0(a,s.viewContainerRef,Fe.create({parent:r||this._injector,providers:c}),s.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,i,s,r){if(t instanceof ci){let c=this._createInjector(r,i,s,void 0),a={$implicit:r.data,dialogRef:i};r.templateContext&&(a=I(I({},a),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),s.attachTemplatePortal(new I0(t,null,a,c))}else{let c=this._createInjector(r,i,s,this._injector),a=s.attachComponentPortal(new z0(t,r.viewContainerRef,c,r.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,s,r){let c=t.injector||t.viewContainerRef?.injector,a=[{provide:hE,useValue:t.data},{provide:U3,useValue:i}];return t.providers&&(typeof t.providers=="function"?a.push(...t.providers(i,t,s)):a.push(...t.providers)),t.direction&&(!c||!c.get(tn,null,{optional:!0}))&&a.push({provide:tn,useValue:{value:t.direction,change:X()}}),Fe.create({parent:c||r,providers:a})}_removeOpenDialog(t,i){let s=this.openDialogs.indexOf(t);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,c)=>{r?c.setAttribute("aria-hidden",r):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let t=this._overlayContainer.getContainerElement();if(t.parentElement){let i=t.parentElement.children;for(let s=i.length-1;s>-1;s--){let r=i[s];r!==t&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||n)(T(Kt),T(Fe),T(dE,8),T(n,12),T(T0),T(uE))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $8(n,e){let t=n.length;for(;t--;)e(n[t])}var Bm=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ze({type:n})}static{this.\u0275inj=be({providers:[G8],imports:[Br,nn,Um,nn]})}}return n})();function mE(){return!0}var pE=new B("mat-sanity-checks",{providedIn:"root",factory:mE}),Q8=(()=>{class n{constructor(t,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return P3()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}static{this.\u0275fac=function(i){return new(i||n)(T(j8),T(pE,8),T(ie))}}static{this.\u0275mod=ze({type:n})}static{this.\u0275inj=be({imports:[m1,m1]})}}return n})();var kt=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(kt||{}),K8=class{constructor(e,t,i,s=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=s,this.state=kt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},jm=w0({passive:!0,capture:!0}),Y8=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=Gt(e);t&&this._events.get(e.type)?.forEach((i,s)=>{(s===t||s.contains(t))&&i.forEach(r=>r.handleEvent(e))})}}addHandler(e,t,i,s){let r=this._events.get(t);if(r){let c=r.get(i);c?c.add(s):r.set(i,new Set([s]))}else this._events.set(t,new Map([[i,new Set([s])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,jm)})}removeHandler(e,t,i){let s=this._events.get(e);if(!s)return;let r=s.get(t);r&&(r.delete(i),r.size===0&&s.delete(t),s.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,jm)))}},qm={enterDuration:225,exitDuration:150},gE=800,$m=w0({passive:!0,capture:!0}),Hm=["mousedown","touchstart"],Wm=["mouseup","mouseleave","touchend","touchcancel"],Gm=class n{static{this._eventManager=new Y8}constructor(e,t,i,s){this._target=e,this._ngZone=t,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=O2(i))}fadeInRipple(e,t,i={}){let s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=I(I({},qm),i.animation);i.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);let c=i.radius||_E(e,t,s),a=e-s.left,l=t-s.top,h=r.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${a-c}px`,f.style.top=`${l-c}px`,f.style.height=`${c*2}px`,f.style.width=`${c*2}px`,i.color!=null&&(f.style.backgroundColor=i.color),f.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(f);let p=window.getComputedStyle(f),_=p.transitionProperty,b=p.transitionDuration,A=_==="none"||b==="0s"||b==="0s, 0s"||s.width===0&&s.height===0,N=new K8(this,f,i,A);f.style.transform="scale3d(1, 1, 1)",N.state=kt.FADING_IN,i.persistent||(this._mostRecentTransientRipple=N);let x=null;return!A&&(h||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let $=()=>{x&&(x.fallbackTimer=null),clearTimeout(U),this._finishRippleTransition(N)},W=()=>this._destroyRipple(N),U=setTimeout(W,h+100);f.addEventListener("transitionend",$),f.addEventListener("transitioncancel",W),x={onTransitionEnd:$,onTransitionCancel:W,fallbackTimer:U}}),this._activeRipples.set(N,x),(A||!h)&&this._finishRippleTransition(N),N}fadeOutRipple(e){if(e.state===kt.FADING_OUT||e.state===kt.HIDDEN)return;let t=e.element,i=I(I({},qm),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=kt.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=O2(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Hm.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Wm.forEach(t=>{this._triggerElement.addEventListener(t,this,$m)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===kt.FADING_IN?this._startFadeOutTransition(e):e.state===kt.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=kt.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=kt.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=U8(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+gE;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!B8(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===kt.VISIBLE||e.config.terminateOnPointerUp&&e.state===kt.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Hm.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(Wm.forEach(t=>e.removeEventListener(t,this,$m)),this._pointerUpEventsRegistered=!1))}};function _E(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+s*s)}function yE(n,e){}var B3=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},X8="mdc-dialog--open",Km="mdc-dialog--opening",Ym="mdc-dialog--closing",vE=150,CE=75,LE=(()=>{class n extends W8{constructor(t,i,s,r,c,a,l,h,f){super(t,i,s,r,c,a,l,f),this._animationMode=h,this._animationStateChanged=new pt,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Xm(this._config.enterAnimationDuration)??vE:0,this._exitAnimationDuration=this._animationsEnabled?Xm(this._config.exitAnimationDuration)??CE:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Qm,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Km,X8)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(X8),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(X8),this._animationsEnabled?(this._hostElement.style.setProperty(Qm,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ym)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Km,Ym)}_waitForAnimationToComplete(t,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static{this.\u0275fac=function(i){return new(i||n)(H(Ve),H($r),H(ie,8),H(B3),H(V3),H(re),H(F2),H(X2,8),H(Hr))}}static{this.\u0275cmp=Ee({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,s){i&2&&(zn("id",s._config.id),Jt("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),bn("_mat-animation-noopable",!s._animationsEnabled)("mat-mdc-dialog-container-with-actions",s._actionSectionCount>0))},standalone:!0,features:[Xt,Se],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,s){i&1&&(O(0,"div",0)(1,"div",1),Pe(2,yE,0,0,"ng-template",2),D()())},dependencies:[O3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return n})(),Qm="--mat-dialog-transition-duration";function Xm(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?N3(n.substring(0,n.length-2)):n.endsWith("s")?N3(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var Wr=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(Wr||{}),j3=class{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new ge,this._beforeClosed=new ge,this._state=Wr.OPEN,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(We(s=>s.state==="opened"),Ct(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(We(s=>s.state==="closed"),Ct(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),y4(this.backdropClick(),this.keydownEvents().pipe(We(s=>s.keyCode===27&&!this.disableClose&&!Vr(s)))).subscribe(s=>{this.disableClose||(s.preventDefault(),Jm(this,s.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(We(t=>t.state==="closing"),Ct(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=Wr.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Wr.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Jm(n,e,t){return n._closeInteractionType=e,n.close(t)}var J8=new B("MatMdcDialogData"),ME=new B("mat-mdc-dialog-default-options"),wE=new B("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=P(Kt);return()=>n.scrollStrategies.block()}});var bE=0,V2=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,s,r,c,a,l,h){this._overlay=t,this._defaultOptions=r,this._scrollStrategy=c,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ge,this._afterOpenedAtThisLevel=new ge,this.dialogConfigClass=B3,this.afterAllClosed=E1(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(y2(void 0))),this._dialog=i.get(G8),this._dialogRefConstructor=j3,this._dialogContainerType=LE,this._dialogDataToken=J8}open(t,i){let s;i=I(I({},this._defaultOptions||new B3),i),i.id=i.id||`mat-mdc-dialog-${bE++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let r=this._dialog.open(t,Q(I({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:on,useValue:i}]},templateContext:()=>({dialogRef:s}),providers:(c,a,l)=>(s=new this._dialogRefConstructor(c,i,l),s.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=r.componentRef,s.componentInstance=r.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let c=this.openDialogs.indexOf(s);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static{this.\u0275fac=function(i){return new(i||n)(T(Kt),T(Fe),T(L2,8),T(ME,8),T(wE),T(n,12),T(T0),T(X2,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zE=0,Zm=(()=>{class n{constructor(t,i,s){this.dialogRef=t,this._elementRef=i,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=sp(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){let i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){Jm(this.dialogRef,t.screenX===0&&t.screenY===0?"keyboard":"mouse",this.dialogResult)}static{this.\u0275fac=function(i){return new(i||n)(H(j3,8),H(Ve),H(V2))}}static{this.\u0275dir=Ge({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,s){i&1&&Y("click",function(c){return s._onButtonClick(c)}),i&2&&Jt("aria-label",s.ariaLabel||null)("type",s.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[Ot]})}}return n})(),ep=(()=>{class n{constructor(t,i,s){this._dialogRef=t,this._elementRef=i,this._dialog=s}ngOnInit(){this._dialogRef||(this._dialogRef=sp(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static{this.\u0275fac=function(i){return new(i||n)(H(j3,8),H(Ve),H(V2))}}static{this.\u0275dir=Ge({type:n,standalone:!0})}}return n})(),tp=(()=>{class n extends ep{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${zE++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=Qt(n)))(s||n)}})()}static{this.\u0275dir=Ge({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,s){i&2&&zn("id",s.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[Xt]})}}return n})(),np=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ge({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[n9([Cm])]})}}return n})(),ip=(()=>{class n extends ep{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=Qt(n)))(s||n)}})()}static{this.\u0275dir=Ge({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,s){i&2&&bn("mat-mdc-dialog-actions-align-start",s.align==="start")("mat-mdc-dialog-actions-align-center",s.align==="center")("mat-mdc-dialog-actions-align-end",s.align==="end")},inputs:{align:"align"},standalone:!0,features:[Xt]})}}return n})();function sp(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}var p1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ze({type:n})}static{this.\u0275inj=be({providers:[V2],imports:[Bm,Br,nn,Q8,Q8]})}}return n})();var g1=class n{constructor(e){this.data=e;e.buttonYes="SI",e.buttonNo="NO"}runAction(){this.data.action()}static \u0275fac=function(t){return new(t||n)(H(J8))};static \u0275cmp=Ee({type:n,selectors:[["app-custom-action-dialog"]],standalone:!0,features:[Se],decls:9,vars:4,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close","",3,"click"],["mat-button","","mat-dialog-close",""]],template:function(t,i){t&1&&(O(0,"h2",0),j(1),D(),O(2,"mat-dialog-content"),j(3),D(),O(4,"mat-dialog-actions")(5,"button",1),Y("click",function(){return i.runAction()}),j(6),D(),O(7,"button",2),j(8),D()()),t&2&&(Z(),li(i.data.title),Z(2),li(i.data.message),Z(3),li(i.data.buttonYes),Z(2),li(i.data.buttonNo))},dependencies:[p1,Zm,tp,ip,np]})};function EE(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(1,"BLUE"))}),j(1,"+1"),D(),j(2,`
x `)}}function TE(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(1,"RED"))}),j(1,"+1"),D()}}function SE(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-1,"BLUE"))}),j(1,"-1"),D()}}function xE(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-1,"RED"))}),j(1,"-1"),D()}}function AE(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(1,"RED"))}),j(1,"+1"),D()}}function NE(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(1,"BLUE"))}),j(1,"+1"),D()}}function RE(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-1,"RED"))}),j(1,"-1"),D()}}function kE(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-1,"BLUE"))}),j(1,"-1"),D()}}function PE(n,e){if(n&1){let t=he();O(0,"div",19)(1,"div"),j(2),D(),O(3,"div",20),Y("click",function(){le(t);let s=te();return ue(s.showResult=!1)}),j(4,"x"),D()()}if(n&2){let t=te();ft("background-color",t.bluePoints!=t.redPoints?t.bluePoints>t.redPoints?"blue":"red":"gray"),Z(2),C2(" GANADOR : ",t.bluePoints!=t.redPoints?t.bluePoints>t.redPoints?"AZUL":"ROJO":"EMPATE"," ")}}var Gr=class n{constructor(e,t){this.pointsService=e;this.dialog=t}isInvert=!1;showResult=!1;bluePoints=0;redPoints=0;pointsCounter={color:"blue",points:0};ngOnInit(){this.suscribePoints()}suscribePoints(){this.pointsService.setPoints(0,0),this.pointsService.points$.subscribe(e=>{console.log(e),this.bluePoints=e.bluePoints,this.redPoints=e.redPoints})}sumPoints(e,t){this.showResult||this.pointsService.sumPoints(e,t)}updatePointsCounter(){this.pointsCounter.points=this.bluePoints>this.redPoints?this.bluePoints:this.redPoints,this.pointsCounter.color=this.bluePoints>this.redPoints?"blue":"red"}handleClickFinish(){this.showResult=!0}resetPoints(){this.pointsService.resetPoints(),this.showResult=!1}handleClickReset(){this.dialog.open(g1,{data:{title:"REINICIAR",message:"\xBFQuiere reiniciar el marcador?",action:()=>this.pointsService.resetPoints()}})}static \u0275fac=function(t){return new(t||n)(H(L0),H(V2))};static \u0275cmp=Ee({type:n,selectors:[["app-figth"]],standalone:!0,features:[Se],decls:33,vars:13,consts:[[1,"container-fluid"],[1,"row","points-container"],[1,"col","red-points"],[1,"col","blue-points"],[1,"row","juez"],[1,"col"],[1,"row","finish-container"],[1,"col","finish"],[1,"btn","btn-primary","mx-3",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"row","controls"],[1,"col-6","left-controls"],[1,"row"],[1,"control-item","right"],[1,"control-item","left"],[1,"col-6","right-controls"],[1,"result",3,"backgroundColor"],[1,"control-item","left",3,"click"],[1,"control-item","right",3,"click"],[1,"result"],[3,"click"]],template:function(t,i){t&1&&(O(0,"div",0)(1,"div",1)(2,"div",2),j(3),D(),O(4,"div",3),j(5),D()(),O(6,"div",4)(7,"div",5),j(8," Juez n\xFAmero 1 "),D()(),O(9,"div",6)(10,"div",7)(11,"button",8),Y("click",function(){return i.handleClickFinish()}),j(12,"Finalizar "),D(),O(13,"button",8),Y("click",function(){return i.isInvert=!i.isInvert}),j(14,"Invertir "),D(),O(15,"button",9),Y("click",function(){return i.handleClickReset()}),j(16,"Resetear "),D()()(),O(17,"div",10)(18,"div",11)(19,"div",12),Pe(20,EE,3,0)(21,TE,2,0,"div",13),D(),O(22,"div",12),Pe(23,SE,2,0,"div",14)(24,xE,2,0,"div",13),D()(),O(25,"div",15)(26,"div",12),Pe(27,AE,2,0,"div",13)(28,NE,2,0,"div",14),D(),O(29,"div",12),Pe(30,RE,2,0,"div",13)(31,kE,2,0,"div",14),D()()()(),Pe(32,PE,5,3,"div",16)),t&2&&(Z(),ft("background-color",i.pointsCounter.color),Z(),ft("background-color",i.isInvert?"red":"blue"),Z(),C2(" ",i.isInvert?i.redPoints:i.bluePoints," "),Z(),ft("background-color",i.isInvert?"blue":"red"),Z(),C2(" ",i.isInvert?i.bluePoints:i.redPoints," "),Z(15),Te(i.isInvert?21:20),Z(3),Te(i.isInvert?24:23),Z(4),Te(i.isInvert?28:27),Z(3),Te(i.isInvert?31:30),Z(2),Te(i.showResult?32:-1))},dependencies:[p1],styles:[".points-container[_ngcontent-%COMP%]{background-color:red;height:40vh;width:100vw;display:flex;justify-content:center;align-items:center;color:#000;font-size:50px;text-align:center}.red-points[_ngcontent-%COMP%]{background-color:red;height:100%;display:flex;justify-content:center;align-items:center}.blue-points[_ngcontent-%COMP%]{background-color:#00f;height:100%;display:flex;justify-content:center;align-items:center}.control-item[_ngcontent-%COMP%]{border-radius:125px;height:120px;width:120px;display:flex;justify-content:center;align-items:center;margin-top:20px;font-size:30px;font-weight:700}.control-item.left[_ngcontent-%COMP%]{background-color:#00f}.control-item.right[_ngcontent-%COMP%]{background-color:red}.juez[_ngcontent-%COMP%]{display:flex;height:10vh;justify-content:center;align-items:center;text-align:center;font-size:20px;background-color:beige}.container-fluid[_ngcontent-%COMP%]{background-color:#000!important;height:100vh}.controls[_ngcontent-%COMP%]{padding-left:2%;padding-right:2%;padding-top:4%}.right-controls[_ngcontent-%COMP%]{display:flex;align-items:end;flex-direction:column}.finish-container[_ngcontent-%COMP%]{width:100vw}.finish[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#f0f8ff;height:10vh}.result[_ngcontent-%COMP%]{width:100vw;height:80px;position:fixed;display:flex;top:20vh;background-color:red;justify-content:space-around;align-items:center;border:4px solid black;font-size:20px;font-weight:700}body[_ngcontent-%COMP%]{height:100vh;width:100vw;overflow:hidden}"]})};function DE(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-1,"BLUE"))}),j(1,"-1"),D()}}function OE(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-1,"RED"))}),j(1,"-1"),D()}}function FE(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(1,"BLUE"))}),j(1,"+1"),D()}}function VE(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(1,"RED"))}),j(1,"+1"),D()}}function UE(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-.5,"BLUE"))}),j(1,"-0,5"),D()}}function BE(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-.5,"RED"))}),j(1,"-0,5"),D()}}function jE(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(.5,"BLUE"))}),j(1,"0,5"),D()}}function qE(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(.5,"RED"))}),j(1,"0,5"),D()}}function $E(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-.2,"BLUE"))}),j(1,"-0,20"),D()}}function HE(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-.2,"RED"))}),j(1,"-0,20"),D()}}function WE(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(.2,"BLUE"))}),j(1,"0,20"),D()}}function GE(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(.2,"RED"))}),j(1,"0,20"),D()}}function KE(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(1,"RED"))}),j(1,"+1"),D()}}function YE(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(1,"BLUE"))}),j(1,"+1"),D()}}function QE(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-1,"RED"))}),j(1,"-1"),D()}}function XE(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-1,"BLUE"))}),j(1,"-1"),D()}}function JE(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(.5,"RED"))}),j(1,"+0.5"),D()}}function ZE(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(.5,"BLUE"))}),j(1,"+0.5"),D()}}function eT(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-.5,"RED"))}),j(1,"-0.5"),D()}}function tT(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-.5,"BLUE"))}),j(1,"-0.5"),D()}}function nT(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(.2,"RED"))}),j(1,"+0.2"),D()}}function iT(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(.2,"BLUE"))}),j(1,"+0.2"),D()}}function sT(n,e){if(n&1){let t=he();O(0,"div",18),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-.2,"RED"))}),j(1,"-0.2"),D()}}function rT(n,e){if(n&1){let t=he();O(0,"div",17),Y("click",function(){le(t);let s=te();return ue(s.sumPoints(-.2,"BLUE"))}),j(1,"-0.2"),D()}}function cT(n,e){if(n&1){let t=he();O(0,"div",19)(1,"div"),j(2),D(),O(3,"div",20),Y("click",function(){le(t);let s=te();return ue(s.showResult=!1)}),j(4,"x"),D()()}if(n&2){let t=te();ft("background-color",t.bluePoints!=t.redPoints?t.bluePoints>t.redPoints?"blue":"red":"gray"),Z(2),C2(" GANADOR : ",t.bluePoints!=t.redPoints?t.bluePoints>t.redPoints?"AZUL":"ROJO":"EMPATE"," ")}}var Kr=class n{constructor(e,t){this.pointsService=e;this.dialog=t}isInvert=!1;showResult=!1;bluePoints=0;redPoints=0;pointsCounter={color:"blue",points:0};ngOnInit(){this.suscribePoints()}suscribePoints(){this.pointsService.setPoints(10,10),this.pointsService.points$.subscribe(e=>{console.log(e),this.bluePoints=e.bluePoints,this.redPoints=e.redPoints})}sumPoints(e,t){let i=t=="RED"&&this.redPoints==10&&e>0?!1:!(this.bluePoints==10&&e>0);!this.showResult&&i&&this.pointsService.sumPoints(e,t)}updatePointsCounter(){this.pointsCounter.points=this.bluePoints>this.redPoints?this.bluePoints:this.redPoints,this.pointsCounter.color=this.bluePoints>this.redPoints?"blue":"red"}handleClickFinish(){this.showResult=!0}resetPoints(){this.pointsService.setPoints(10,10),this.showResult=!1}handleClickReset(){this.dialog.open(g1,{data:{title:"REINICIAR",message:"\xBFQuiere reiniciar el marcador?",action:()=>this.resetPoints()}})}static \u0275fac=function(t){return new(t||n)(H(L0),H(V2))};static \u0275cmp=Ee({type:n,selectors:[["app-patterns"]],standalone:!0,features:[Se],decls:51,vars:21,consts:[[1,"container-fluid"],[1,"row","points-container"],[1,"col","red-points"],[1,"col","blue-points"],[1,"row","juez"],[1,"col"],[1,"row","finish-container"],[1,"col","finish"],[1,"btn","btn-primary","mx-3",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"row","controls"],[1,"col-6","left-controls"],[1,"row"],[1,"control-item","col","left"],[1,"control-item","col","right"],[1,"col-6","right-controls"],[1,"result",3,"backgroundColor"],[1,"control-item","col","left",3,"click"],[1,"control-item","col","right",3,"click"],[1,"result"],[3,"click"]],template:function(t,i){t&1&&(O(0,"div",0)(1,"div",1)(2,"div",2),j(3),D(),O(4,"div",3),j(5),D()(),O(6,"div",4)(7,"div",5),j(8," Juez n\xFAmero 1 "),D()(),O(9,"div",6)(10,"div",7)(11,"button",8),Y("click",function(){return i.handleClickFinish()}),j(12,"Finalizar "),D(),O(13,"button",8),Y("click",function(){return i.isInvert=!i.isInvert}),j(14,"Invertir "),D(),O(15,"button",9),Y("click",function(){return i.handleClickReset()}),j(16,"Resetear "),D()()(),O(17,"div",10)(18,"div",11)(19,"div",12),Pe(20,DE,2,0,"div",13)(21,OE,2,0,"div",14)(22,FE,2,0,"div",13)(23,VE,2,0,"div",14),D(),O(24,"div",12),Pe(25,UE,2,0,"div",13)(26,BE,2,0,"div",14)(27,jE,2,0,"div",13)(28,qE,2,0,"div",14),D(),O(29,"div",12),Pe(30,$E,2,0,"div",13)(31,HE,2,0,"div",14)(32,WE,2,0,"div",13)(33,GE,2,0,"div",14),D()(),O(34,"div",15)(35,"div",12),Pe(36,KE,2,0,"div",14)(37,YE,2,0,"div",13)(38,QE,2,0,"div",14)(39,XE,2,0,"div",13),D(),O(40,"div",12),Pe(41,JE,2,0,"div",14)(42,ZE,2,0,"div",13)(43,eT,2,0,"div",14)(44,tT,2,0,"div",13),D(),O(45,"div",12),Pe(46,nT,2,0,"div",14)(47,iT,2,0,"div",13)(48,sT,2,0,"div",14)(49,rT,2,0,"div",13),D()()()(),Pe(50,cT,5,3,"div",16)),t&2&&(Z(),ft("background-color",i.pointsCounter.color),Z(),ft("background-color",i.isInvert?"red":"blue"),Z(),C2(" ",i.isInvert?i.redPoints:i.bluePoints," "),Z(),ft("background-color",i.isInvert?"blue":"red"),Z(),C2(" ",i.isInvert?i.bluePoints:i.redPoints," "),Z(15),Te(i.isInvert?21:20),Z(2),Te(i.isInvert?23:22),Z(3),Te(i.isInvert?26:25),Z(2),Te(i.isInvert?28:27),Z(3),Te(i.isInvert?31:30),Z(2),Te(i.isInvert?33:32),Z(4),Te(i.isInvert?37:36),Z(2),Te(i.isInvert?39:38),Z(3),Te(i.isInvert?42:41),Z(2),Te(i.isInvert?44:43),Z(3),Te(i.isInvert?47:46),Z(2),Te(i.isInvert?49:48),Z(2),Te(i.showResult?50:-1))},dependencies:[p1],styles:[".points-container[_ngcontent-%COMP%]{background-color:red;height:40vh;width:100vw;display:flex;justify-content:center;align-items:center;color:#000;font-size:50px;text-align:center}.red-points[_ngcontent-%COMP%]{background-color:red;height:100%;display:flex;justify-content:center;align-items:center}.blue-points[_ngcontent-%COMP%]{background-color:#00f;height:100%;display:flex;justify-content:center;align-items:center}.control-item[_ngcontent-%COMP%]{border-radius:125px;height:80px;width:80px;margin-left:5px;margin-right:5px;display:flex;justify-content:center;align-items:center;margin-top:20px;font-size:30px;font-weight:700}.control-item.left[_ngcontent-%COMP%]{background-color:#00f}.control-item.right[_ngcontent-%COMP%]{background-color:red}.juez[_ngcontent-%COMP%]{display:flex;height:10vh;justify-content:center;align-items:center;text-align:center;font-size:20px;background-color:beige}.container-fluid[_ngcontent-%COMP%]{background-color:#000!important;height:100vh}.controls[_ngcontent-%COMP%]{padding-left:2%;padding-right:2%;padding-top:4%}.right-controls[_ngcontent-%COMP%]{display:flex;align-items:end;flex-direction:column}.finish-container[_ngcontent-%COMP%]{width:100vw}.finish[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#f0f8ff;height:10vh}.result[_ngcontent-%COMP%]{width:100vw;height:80px;position:fixed;display:flex;top:20vh;background-color:red;justify-content:space-around;align-items:center;border:4px solid black;font-size:20px;font-weight:700}body[_ngcontent-%COMP%]{height:100vh;width:100vw;overflow:hidden}"]})};var rp={prefix:"fas",iconName:"flag",icon:[448,512,[127988,61725],"f024","M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32L0 64 0 368 0 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128 64.3-16.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30l0-247.7c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L64 48l0-16z"]};var cp=()=>{},v5={},xp={},Ap=null,Np={mark:cp,measure:cp};try{typeof window<"u"&&(v5=window),typeof document<"u"&&(xp=document),typeof MutationObserver<"u"&&(Ap=MutationObserver),typeof performance<"u"&&(Np=performance)}catch{}var{userAgent:op=""}=v5.navigator||{},v1=v5,Ne=xp,ap=Ap,Yr=Np,EF=!!v1.document,j2=!!Ne.documentElement&&!!Ne.head&&typeof Ne.addEventListener=="function"&&typeof Ne.createElement=="function",Rp=~op.indexOf("MSIE")||~op.indexOf("Trident/"),ke="classic",kp="duotone",Et="sharp",Tt="sharp-duotone",oT=[ke,kp,Et,Tt],aT={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},lp={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},lT=["kit"],uT=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,hT=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,dT={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},fT={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},mT={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},pT={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},gT={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},_T={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},Pp={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},yT=["solid","regular","light","thin","duotone","brands"],Dp=[1,2,3,4,5,6,7,8,9,10],vT=Dp.concat([11,12,13,14,15,16,17,18,19,20]),q3={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},CT=[...Object.keys(pT),...yT,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",q3.GROUP,q3.SWAP_OPACITY,q3.PRIMARY,q3.SECONDARY].concat(Dp.map(n=>"".concat(n,"x"))).concat(vT.map(n=>"w-".concat(n))),LT={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},MT={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},wT={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},up={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},U2="___FONT_AWESOME___",s5=16,Op="fa",Fp="svg-inline--fa",hn="data-fa-i2svg",r5="data-fa-pseudo-element",bT="data-fa-pseudo-element-pending",C5="data-prefix",L5="data-icon",hp="fontawesome-i2svg",zT="async",IT=["HTML","HEAD","STYLE","SCRIPT"],Vp=(()=>{try{return!0}catch{return!1}})(),Up=[ke,Et,Tt];function Y3(n){return new Proxy(n,{get(e,t){return t in e?e[t]:e[ke]}})}var Bp=I({},Pp);Bp[ke]=I(I(I({},Pp[ke]),lp.kit),lp["kit-duotone"]);var ln=Y3(Bp),c5=I({},_T);c5[ke]=I(I(I({},c5[ke]),up.kit),up["kit-duotone"]);var G3=Y3(c5),o5=I({},gT);o5[ke]=I(I({},o5[ke]),wT.kit);var un=Y3(o5),a5=I({},mT);a5[ke]=I(I({},a5[ke]),MT.kit);var ET=Y3(a5),TT=uT,jp="fa-layers-text",ST=hT,xT=I({},aT),TF=Y3(xT),AT=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Z8=q3,N0=new Set;Object.keys(G3[ke]).map(N0.add.bind(N0));Object.keys(G3[Et]).map(N0.add.bind(N0));Object.keys(G3[Tt]).map(N0.add.bind(N0));var NT=[...lT,...CT],H3=v1.FontAwesomeConfig||{};function RT(n){var e=Ne.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function kT(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}Ne&&typeof Ne.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,i]=e,s=kT(RT(t));s!=null&&(H3[i]=s)});var qp={styleDefault:"solid",familyDefault:"classic",cssPrefix:Op,replacementClass:Fp,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};H3.familyPrefix&&(H3.cssPrefix=H3.familyPrefix);var R0=I(I({},qp),H3);R0.autoReplaceSvg||(R0.observeMutations=!1);var K={};Object.keys(qp).forEach(n=>{Object.defineProperty(K,n,{enumerable:!0,set:function(e){R0[n]=e,W3.forEach(t=>t(K))},get:function(){return R0[n]}})});Object.defineProperty(K,"familyPrefix",{enumerable:!0,set:function(n){R0.cssPrefix=n,W3.forEach(e=>e(K))},get:function(){return R0.cssPrefix}});v1.FontAwesomeConfig=K;var W3=[];function PT(n){return W3.push(n),()=>{W3.splice(W3.indexOf(n),1)}}var _1=s5,d2={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function DT(n){if(!n||!j2)return;let e=Ne.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;let t=Ne.head.childNodes,i=null;for(let s=t.length-1;s>-1;s--){let r=t[s],c=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(i=r)}return Ne.head.insertBefore(e,i),n}var OT="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function K3(){let n=12,e="";for(;n-- >0;)e+=OT[Math.random()*62|0];return e}function k0(n){let e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function M5(n){return n.classList?k0(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function $p(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function FT(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat($p(n[t]),'" '),"").trim()}function ec(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function w5(n){return n.size!==d2.size||n.x!==d2.x||n.y!==d2.y||n.rotate!==d2.rotate||n.flipX||n.flipY}function VT(n){let{transform:e,containerWidth:t,iconWidth:i}=n,s={transform:"translate(".concat(t/2," 256)")},r="translate(".concat(e.x*32,", ").concat(e.y*32,") "),c="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(r," ").concat(c," ").concat(a)},h={transform:"translate(".concat(i/2*-1," -256)")};return{outer:s,inner:l,path:h}}function UT(n){let{transform:e,width:t=s5,height:i=s5,startCentered:s=!1}=n,r="";return s&&Rp?r+="translate(".concat(e.x/_1-t/2,"em, ").concat(e.y/_1-i/2,"em) "):s?r+="translate(calc(-50% + ".concat(e.x/_1,"em), calc(-50% + ").concat(e.y/_1,"em)) "):r+="translate(".concat(e.x/_1,"em, ").concat(e.y/_1,"em) "),r+="scale(".concat(e.size/_1*(e.flipX?-1:1),", ").concat(e.size/_1*(e.flipY?-1:1),") "),r+="rotate(".concat(e.rotate,"deg) "),r}var BT=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function Hp(){let n=Op,e=Fp,t=K.cssPrefix,i=K.replacementClass,s=BT;if(t!==n||i!==e){let r=new RegExp("\\.".concat(n,"\\-"),"g"),c=new RegExp("\\--".concat(n,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");s=s.replace(r,".".concat(t,"-")).replace(c,"--".concat(t,"-")).replace(a,".".concat(i))}return s}var dp=!1;function e5(){K.autoAddCss&&!dp&&(DT(Hp()),dp=!0)}var jT={mixout(){return{dom:{css:Hp,insertCss:e5}}},hooks(){return{beforeDOMElementCreation(){e5()},beforeI2svg(){e5()}}}},B2=v1||{};B2[U2]||(B2[U2]={});B2[U2].styles||(B2[U2].styles={});B2[U2].hooks||(B2[U2].hooks={});B2[U2].shims||(B2[U2].shims=[]);var f2=B2[U2],Wp=[],Gp=function(){Ne.removeEventListener("DOMContentLoaded",Gp),Jr=1,Wp.map(n=>n())},Jr=!1;j2&&(Jr=(Ne.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ne.readyState),Jr||Ne.addEventListener("DOMContentLoaded",Gp));function qT(n){j2&&(Jr?setTimeout(n,0):Wp.push(n))}function Q3(n){let{tag:e,attributes:t={},children:i=[]}=n;return typeof n=="string"?$p(n):"<".concat(e," ").concat(FT(t),">").concat(i.map(Q3).join(""),"</").concat(e,">")}function fp(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var $T=function(e,t){return function(i,s,r,c){return e.call(t,i,s,r,c)}},t5=function(e,t,i,s){var r=Object.keys(e),c=r.length,a=s!==void 0?$T(t,s):t,l,h,f;for(i===void 0?(l=1,f=e[r[0]]):(l=0,f=i);l<c;l++)h=r[l],f=a(f,e[h],h,e);return f};function HT(n){let e=[],t=0,i=n.length;for(;t<i;){let s=n.charCodeAt(t++);if(s>=55296&&s<=56319&&t<i){let r=n.charCodeAt(t++);(r&64512)==56320?e.push(((s&1023)<<10)+(r&1023)+65536):(e.push(s),t--)}else e.push(s)}return e}function l5(n){let e=HT(n);return e.length===1?e[0].toString(16):null}function WT(n,e){let t=n.length,i=n.charCodeAt(e),s;return i>=55296&&i<=56319&&t>e+1&&(s=n.charCodeAt(e+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}function mp(n){return Object.keys(n).reduce((e,t)=>{let i=n[t];return!!i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function u5(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:i=!1}=t,s=mp(e);typeof f2.hooks.addPack=="function"&&!i?f2.hooks.addPack(n,mp(e)):f2.styles[n]=I(I({},f2.styles[n]||{}),s),n==="fas"&&u5("fa",e)}var{styles:an,shims:GT}=f2,KT={[ke]:Object.values(un[ke]),[Et]:Object.values(un[Et]),[Tt]:Object.values(un[Tt])},b5=null,Kp={},Yp={},Qp={},Xp={},Jp={},YT={[ke]:Object.keys(ln[ke]),[Et]:Object.keys(ln[Et]),[Tt]:Object.keys(ln[Tt])};function QT(n){return~NT.indexOf(n)}function XT(n,e){let t=e.split("-"),i=t[0],s=t.slice(1).join("-");return i===n&&s!==""&&!QT(s)?s:null}var Zp=()=>{let n=i=>t5(an,(s,r,c)=>(s[c]=t5(r,i,{}),s),{});Kp=n((i,s,r)=>(s[3]&&(i[s[3]]=r),s[2]&&s[2].filter(a=>typeof a=="number").forEach(a=>{i[a.toString(16)]=r}),i)),Yp=n((i,s,r)=>(i[r]=r,s[2]&&s[2].filter(a=>typeof a=="string").forEach(a=>{i[a]=r}),i)),Jp=n((i,s,r)=>{let c=s[2];return i[r]=r,c.forEach(a=>{i[a]=r}),i});let e="far"in an||K.autoFetchSvg,t=t5(GT,(i,s)=>{let r=s[0],c=s[1],a=s[2];return c==="far"&&!e&&(c="fas"),typeof r=="string"&&(i.names[r]={prefix:c,iconName:a}),typeof r=="number"&&(i.unicodes[r.toString(16)]={prefix:c,iconName:a}),i},{names:{},unicodes:{}});Qp=t.names,Xp=t.unicodes,b5=tc(K.styleDefault,{family:K.familyDefault})};PT(n=>{b5=tc(n.styleDefault,{family:K.familyDefault})});Zp();function z5(n,e){return(Kp[n]||{})[e]}function JT(n,e){return(Yp[n]||{})[e]}function y1(n,e){return(Jp[n]||{})[e]}function eg(n){return Qp[n]||{prefix:null,iconName:null}}function ZT(n){let e=Xp[n],t=z5("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function C1(){return b5}var I5=()=>({prefix:null,iconName:null,rest:[]});function tc(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:t=ke}=e,i=ln[t][n],s=G3[t][n]||G3[t][i],r=n in f2.styles?n:null;return s||r||null}var eS={[ke]:Object.keys(un[ke]),[Et]:Object.keys(un[Et]),[Tt]:Object.keys(un[Tt])};function nc(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:t=!1}=e,i={[ke]:"".concat(K.cssPrefix,"-").concat(ke),[Et]:"".concat(K.cssPrefix,"-").concat(Et),[Tt]:"".concat(K.cssPrefix,"-").concat(Tt)},s=null,r=ke,c=oT.filter(l=>l!==kp);c.forEach(l=>{(n.includes(i[l])||n.some(h=>eS[l].includes(h)))&&(r=l)});let a=n.reduce((l,h)=>{let f=XT(K.cssPrefix,h);if(an[h]?(h=KT[r].includes(h)?ET[r][h]:h,s=h,l.prefix=h):YT[r].indexOf(h)>-1?(s=h,l.prefix=tc(h,{family:r})):f?l.iconName=f:h!==K.replacementClass&&!c.some(p=>h===i[p])&&l.rest.push(h),!t&&l.prefix&&l.iconName){let p=s==="fa"?eg(l.iconName):{},_=y1(l.prefix,l.iconName);p.prefix&&(s=null),l.iconName=p.iconName||_||l.iconName,l.prefix=p.prefix||l.prefix,l.prefix==="far"&&!an.far&&an.fas&&!K.autoFetchSvg&&(l.prefix="fas")}return l},I5());return(n.includes("fa-brands")||n.includes("fab"))&&(a.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(a.prefix="fad"),!a.prefix&&r===Et&&(an.fass||K.autoFetchSvg)&&(a.prefix="fass",a.iconName=y1(a.prefix,a.iconName)||a.iconName),!a.prefix&&r===Tt&&(an.fasds||K.autoFetchSvg)&&(a.prefix="fasds",a.iconName=y1(a.prefix,a.iconName)||a.iconName),(a.prefix==="fa"||s==="fa")&&(a.prefix=C1()||"fas"),a}var h5=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];let s=t.reduce(this._pullDefinitions,{});Object.keys(s).forEach(r=>{this.definitions[r]=I(I({},this.definitions[r]||{}),s[r]),u5(r,s[r]);let c=un[ke][r];c&&u5(c,s[r]),Zp()})}reset(){this.definitions={}}_pullDefinitions(e,t){let i=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(i).map(s=>{let{prefix:r,iconName:c,icon:a}=i[s],l=a[2];e[r]||(e[r]={}),l.length>0&&l.forEach(h=>{typeof h=="string"&&(e[r][h]=a)}),e[r][c]=a}),e}},pp=[],x0={},A0={},tS=Object.keys(A0);function nS(n,e){let{mixoutsTo:t}=e;return pp=n,x0={},Object.keys(A0).forEach(i=>{tS.indexOf(i)===-1&&delete A0[i]}),pp.forEach(i=>{let s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(r=>{typeof s[r]=="function"&&(t[r]=s[r]),typeof s[r]=="object"&&Object.keys(s[r]).forEach(c=>{t[r]||(t[r]={}),t[r][c]=s[r][c]})}),i.hooks){let r=i.hooks();Object.keys(r).forEach(c=>{x0[c]||(x0[c]=[]),x0[c].push(r[c])})}i.provides&&i.provides(A0)}),t}function d5(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];return(x0[n]||[]).forEach(c=>{e=c.apply(null,[e,...i])}),e}function dn(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(x0[n]||[]).forEach(r=>{r.apply(null,t)})}function L1(){let n=arguments[0],e=Array.prototype.slice.call(arguments,1);return A0[n]?A0[n].apply(null,e):void 0}function f5(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n,t=n.prefix||C1();if(e)return e=y1(t,e)||e,fp(tg.definitions,t,e)||fp(f2.styles,t,e)}var tg=new h5,iS=()=>{K.autoReplaceSvg=!1,K.observeMutations=!1,dn("noAuto")},sS={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return j2?(dn("beforeI2svg",n),L1("pseudoElements2svg",n),L1("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e}=n;K.autoReplaceSvg===!1&&(K.autoReplaceSvg=!0),K.observeMutations=!0,qT(()=>{cS({autoReplaceSvgRoot:e}),dn("watch",n)})}},rS={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:y1(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){let e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],t=tc(n[0]);return{prefix:t,iconName:y1(t,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(K.cssPrefix,"-"))>-1||n.match(TT))){let e=nc(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||C1(),iconName:y1(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){let e=C1();return{prefix:e,iconName:y1(e,n)||n}}}},St={noAuto:iS,config:K,dom:sS,parse:rS,library:tg,findIconDefinition:f5,toHtml:Q3},cS=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e=Ne}=n;(Object.keys(f2.styles).length>0||K.autoFetchSvg)&&j2&&K.autoReplaceSvg&&St.dom.i2svg({node:e})};function ic(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>Q3(t))}}),Object.defineProperty(n,"node",{get:function(){if(!j2)return;let t=Ne.createElement("div");return t.innerHTML=n.html,t.children}}),n}function oS(n){let{children:e,main:t,mask:i,attributes:s,styles:r,transform:c}=n;if(w5(c)&&t.found&&!i.found){let{width:a,height:l}=t,h={x:a/l/2,y:.5};s.style=ec(Q(I({},r),{"transform-origin":"".concat(h.x+c.x/16,"em ").concat(h.y+c.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function aS(n){let{prefix:e,iconName:t,children:i,attributes:s,symbol:r}=n,c=r===!0?"".concat(e,"-").concat(K.cssPrefix,"-").concat(t):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Q(I({},s),{id:c}),children:i}]}]}function E5(n){let{icons:{main:e,mask:t},prefix:i,iconName:s,transform:r,symbol:c,title:a,maskId:l,titleId:h,extra:f,watchable:p=!1}=n,{width:_,height:b}=t.found?t:e,A=i==="fak",N=[K.replacementClass,s?"".concat(K.cssPrefix,"-").concat(s):""].filter(Ce=>f.classes.indexOf(Ce)===-1).filter(Ce=>Ce!==""||!!Ce).concat(f.classes).join(" "),x={children:[],attributes:Q(I({},f.attributes),{"data-prefix":i,"data-icon":s,class:N,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(_," ").concat(b)})},$=A&&!~f.classes.indexOf("fa-fw")?{width:"".concat(_/b*16*.0625,"em")}:{};p&&(x.attributes[hn]=""),a&&(x.children.push({tag:"title",attributes:{id:x.attributes["aria-labelledby"]||"title-".concat(h||K3())},children:[a]}),delete x.attributes.title);let W=Q(I({},x),{prefix:i,iconName:s,main:e,mask:t,maskId:l,transform:r,symbol:c,styles:I(I({},$),f.styles)}),{children:U,attributes:ae}=t.found&&e.found?L1("generateAbstractMask",W)||{children:[],attributes:{}}:L1("generateAbstractIcon",W)||{children:[],attributes:{}};return W.children=U,W.attributes=ae,c?aS(W):oS(W)}function gp(n){let{content:e,width:t,height:i,transform:s,title:r,extra:c,watchable:a=!1}=n,l=Q(I(I({},c.attributes),r?{title:r}:{}),{class:c.classes.join(" ")});a&&(l[hn]="");let h=I({},c.styles);w5(s)&&(h.transform=UT({transform:s,startCentered:!0,width:t,height:i}),h["-webkit-transform"]=h.transform);let f=ec(h);f.length>0&&(l.style=f);let p=[];return p.push({tag:"span",attributes:l,children:[e]}),r&&p.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),p}function lS(n){let{content:e,title:t,extra:i}=n,s=Q(I(I({},i.attributes),t?{title:t}:{}),{class:i.classes.join(" ")}),r=ec(i.styles);r.length>0&&(s.style=r);let c=[];return c.push({tag:"span",attributes:s,children:[e]}),t&&c.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),c}var{styles:n5}=f2;function m5(n){let e=n[0],t=n[1],[i]=n.slice(4),s=null;return Array.isArray(i)?s={tag:"g",attributes:{class:"".concat(K.cssPrefix,"-").concat(Z8.GROUP)},children:[{tag:"path",attributes:{class:"".concat(K.cssPrefix,"-").concat(Z8.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(K.cssPrefix,"-").concat(Z8.PRIMARY),fill:"currentColor",d:i[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:t,icon:s}}var uS={found:!1,width:512,height:512};function hS(n,e){!Vp&&!K.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function p5(n,e){let t=e;return e==="fa"&&K.styleDefault!==null&&(e=C1()),new Promise((i,s)=>{if(t==="fa"){let r=eg(n)||{};n=r.iconName||n,e=r.prefix||e}if(n&&e&&n5[e]&&n5[e][n]){let r=n5[e][n];return i(m5(r))}hS(n,e),i(Q(I({},uS),{icon:K.showMissingIcons&&n?L1("missingIconAbstract")||{}:{}}))})}var _p=()=>{},g5=K.measurePerformance&&Yr&&Yr.mark&&Yr.measure?Yr:{mark:_p,measure:_p},$3='FA "6.6.0"',dS=n=>(g5.mark("".concat($3," ").concat(n," begins")),()=>ng(n)),ng=n=>{g5.mark("".concat($3," ").concat(n," ends")),g5.measure("".concat($3," ").concat(n),"".concat($3," ").concat(n," begins"),"".concat($3," ").concat(n," ends"))},T5={begin:dS,end:ng},Qr=()=>{};function yp(n){return typeof(n.getAttribute?n.getAttribute(hn):null)=="string"}function fS(n){let e=n.getAttribute?n.getAttribute(C5):null,t=n.getAttribute?n.getAttribute(L5):null;return e&&t}function mS(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(K.replacementClass)}function pS(){return K.autoReplaceSvg===!0?Xr.replace:Xr[K.autoReplaceSvg]||Xr.replace}function gS(n){return Ne.createElementNS("http://www.w3.org/2000/svg",n)}function _S(n){return Ne.createElement(n)}function ig(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:t=n.tag==="svg"?gS:_S}=e;if(typeof n=="string")return Ne.createTextNode(n);let i=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(r){i.setAttribute(r,n.attributes[r])}),(n.children||[]).forEach(function(r){i.appendChild(ig(r,{ceFn:t}))}),i}function yS(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var Xr={replace:function(n){let e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(ig(t),e)}),e.getAttribute(hn)===null&&K.keepOriginalSource){let t=Ne.createComment(yS(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){let e=n[0],t=n[1];if(~M5(e).indexOf(K.replacementClass))return Xr.replace(n);let i=new RegExp("".concat(K.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){let r=t[0].attributes.class.split(" ").reduce((c,a)=>(a===K.replacementClass||a.match(i)?c.toSvg.push(a):c.toNode.push(a),c),{toNode:[],toSvg:[]});t[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",r.toNode.join(" "))}let s=t.map(r=>Q3(r)).join(`
`);e.setAttribute(hn,""),e.innerHTML=s}};function vp(n){n()}function sg(n,e){let t=typeof e=="function"?e:Qr;if(n.length===0)t();else{let i=vp;K.mutateApproach===zT&&(i=v1.requestAnimationFrame||vp),i(()=>{let s=pS(),r=T5.begin("mutate");n.map(s),r(),t()})}}var S5=!1;function rg(){S5=!0}function _5(){S5=!1}var Zr=null;function Cp(n){if(!ap||!K.observeMutations)return;let{treeCallback:e=Qr,nodeCallback:t=Qr,pseudoElementsCallback:i=Qr,observeMutationsRoot:s=Ne}=n;Zr=new ap(r=>{if(S5)return;let c=C1();k0(r).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!yp(a.addedNodes[0])&&(K.searchPseudoElements&&i(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&K.searchPseudoElements&&i(a.target.parentNode),a.type==="attributes"&&yp(a.target)&&~AT.indexOf(a.attributeName))if(a.attributeName==="class"&&fS(a.target)){let{prefix:l,iconName:h}=nc(M5(a.target));a.target.setAttribute(C5,l||c),h&&a.target.setAttribute(L5,h)}else mS(a.target)&&t(a.target)})}),j2&&Zr.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function vS(){Zr&&Zr.disconnect()}function CS(n){let e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce((i,s)=>{let r=s.split(":"),c=r[0],a=r.slice(1);return c&&a.length>0&&(i[c]=a.join(":").trim()),i},{})),t}function LS(n){let e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"",s=nc(M5(n));return s.prefix||(s.prefix=C1()),e&&t&&(s.prefix=e,s.iconName=t),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=JT(s.prefix,n.innerText)||z5(s.prefix,l5(n.innerText))),!s.iconName&&K.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=n.firstChild.data)),s}function MS(n){let e=k0(n.attributes).reduce((s,r)=>(s.name!=="class"&&s.name!=="style"&&(s[r.name]=r.value),s),{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return K.autoA11y&&(t?e["aria-labelledby"]="".concat(K.replacementClass,"-title-").concat(i||K3()):(e["aria-hidden"]="true",e.focusable="false")),e}function wS(){return{iconName:null,title:null,titleId:null,prefix:null,transform:d2,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Lp(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:t,prefix:i,rest:s}=LS(n),r=MS(n),c=d5("parseNodeAttributes",{},n),a=e.styleParser?CS(n):[];return I({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:d2,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:a,attributes:r}},c)}var{styles:bS}=f2;function cg(n){let e=K.autoReplaceSvg==="nest"?Lp(n,{styleParser:!1}):Lp(n);return~e.extra.classes.indexOf(jp)?L1("generateLayersText",n,e):L1("generateSvgReplacementMutation",n,e)}var m2=new Set;Up.map(n=>{m2.add("fa-".concat(n))});Object.keys(ln[ke]).map(m2.add.bind(m2));Object.keys(ln[Et]).map(m2.add.bind(m2));Object.keys(ln[Tt]).map(m2.add.bind(m2));m2=[...m2];function Mp(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!j2)return Promise.resolve();let t=Ne.documentElement.classList,i=f=>t.add("".concat(hp,"-").concat(f)),s=f=>t.remove("".concat(hp,"-").concat(f)),r=K.autoFetchSvg?m2:Up.map(f=>"fa-".concat(f)).concat(Object.keys(bS));r.includes("fa")||r.push("fa");let c=[".".concat(jp,":not([").concat(hn,"])")].concat(r.map(f=>".".concat(f,":not([").concat(hn,"])"))).join(", ");if(c.length===0)return Promise.resolve();let a=[];try{a=k0(n.querySelectorAll(c))}catch{}if(a.length>0)i("pending"),s("complete");else return Promise.resolve();let l=T5.begin("onTree"),h=a.reduce((f,p)=>{try{let _=cg(p);_&&f.push(_)}catch(_){Vp||_.name==="MissingIcon"&&console.error(_)}return f},[]);return new Promise((f,p)=>{Promise.all(h).then(_=>{sg(_,()=>{i("active"),i("complete"),s("pending"),typeof e=="function"&&e(),l(),f()})}).catch(_=>{l(),p(_)})})}function zS(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;cg(n).then(t=>{t&&sg([t],e)})}function IS(n){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(e||{}).icon?e:f5(e||{}),{mask:s}=t;return s&&(s=(s||{}).icon?s:f5(s||{})),n(i,Q(I({},t),{mask:s}))}}var ES=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:t=d2,symbol:i=!1,mask:s=null,maskId:r=null,title:c=null,titleId:a=null,classes:l=[],attributes:h={},styles:f={}}=e;if(!n)return;let{prefix:p,iconName:_,icon:b}=n;return ic(I({type:"icon"},n),()=>(dn("beforeDOMElementCreation",{iconDefinition:n,params:e}),K.autoA11y&&(c?h["aria-labelledby"]="".concat(K.replacementClass,"-title-").concat(a||K3()):(h["aria-hidden"]="true",h.focusable="false")),E5({icons:{main:m5(b),mask:s?m5(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:p,iconName:_,transform:I(I({},d2),t),symbol:i,title:c,maskId:r,titleId:a,extra:{attributes:h,styles:f,classes:l}})))},TS={mixout(){return{icon:IS(ES)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=Mp,n.nodeCallback=zS,n}}},provides(n){n.i2svg=function(e){let{node:t=Ne,callback:i=()=>{}}=e;return Mp(t,i)},n.generateSvgReplacementMutation=function(e,t){let{iconName:i,title:s,titleId:r,prefix:c,transform:a,symbol:l,mask:h,maskId:f,extra:p}=t;return new Promise((_,b)=>{Promise.all([p5(i,c),h.iconName?p5(h.iconName,h.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(A=>{let[N,x]=A;_([e,E5({icons:{main:N,mask:x},prefix:c,iconName:i,transform:a,symbol:l,maskId:f,title:s,titleId:r,extra:p,watchable:!0})])}).catch(b)})},n.generateAbstractIcon=function(e){let{children:t,attributes:i,main:s,transform:r,styles:c}=e,a=ec(c);a.length>0&&(i.style=a);let l;return w5(r)&&(l=L1("generateAbstractTransformGrouping",{main:s,transform:r,containerWidth:s.width,iconWidth:s.width})),t.push(l||s.icon),{children:t,attributes:i}}}},SS={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:t=[]}=e;return ic({type:"layer"},()=>{dn("beforeDOMElementCreation",{assembler:n,params:e});let i=[];return n(s=>{Array.isArray(s)?s.map(r=>{i=i.concat(r.abstract)}):i=i.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(K.cssPrefix,"-layers"),...t].join(" ")},children:i}]})}}}},xS={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:t=null,classes:i=[],attributes:s={},styles:r={}}=e;return ic({type:"counter",content:n},()=>(dn("beforeDOMElementCreation",{content:n,params:e}),lS({content:n.toString(),title:t,extra:{attributes:s,styles:r,classes:["".concat(K.cssPrefix,"-layers-counter"),...i]}})))}}}},AS={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:t=d2,title:i=null,classes:s=[],attributes:r={},styles:c={}}=e;return ic({type:"text",content:n},()=>(dn("beforeDOMElementCreation",{content:n,params:e}),gp({content:n,transform:I(I({},d2),t),title:i,extra:{attributes:r,styles:c,classes:["".concat(K.cssPrefix,"-layers-text"),...s]}})))}}},provides(n){n.generateLayersText=function(e,t){let{title:i,transform:s,extra:r}=t,c=null,a=null;if(Rp){let l=parseInt(getComputedStyle(e).fontSize,10),h=e.getBoundingClientRect();c=h.width/l,a=h.height/l}return K.autoA11y&&!i&&(r.attributes["aria-hidden"]="true"),Promise.resolve([e,gp({content:e.innerHTML,width:c,height:a,transform:s,title:i,extra:r,watchable:!0})])}}},NS=new RegExp('"',"ug"),wp=[1105920,1112319],bp=I(I(I({FontAwesome:{normal:"fas",400:"fas"}},fT),dT),LT),y5=Object.keys(bp).reduce((n,e)=>(n[e.toLowerCase()]=bp[e],n),{}),RS=Object.keys(y5).reduce((n,e)=>{let t=y5[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function kS(n){let e=n.replace(NS,""),t=WT(e,0),i=t>=wp[0]&&t<=wp[1],s=e.length===2?e[0]===e[1]:!1;return{value:l5(s?e[0]:e),isSecondary:i||s}}function PS(n,e){let t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),s=isNaN(i)?"normal":i;return(y5[t]||{})[s]||RS[t]}function zp(n,e){let t="".concat(bT).concat(e.replace(":","-"));return new Promise((i,s)=>{if(n.getAttribute(t)!==null)return i();let c=k0(n.children).filter(_=>_.getAttribute(r5)===e)[0],a=v1.getComputedStyle(n,e),l=a.getPropertyValue("font-family"),h=l.match(ST),f=a.getPropertyValue("font-weight"),p=a.getPropertyValue("content");if(c&&!h)return n.removeChild(c),i();if(h&&p!=="none"&&p!==""){let _=a.getPropertyValue("content"),b=PS(l,f),{value:A,isSecondary:N}=kS(_),x=h[0].startsWith("FontAwesome"),$=z5(b,A),W=$;if(x){let U=ZT(A);U.iconName&&U.prefix&&($=U.iconName,b=U.prefix)}if($&&!N&&(!c||c.getAttribute(C5)!==b||c.getAttribute(L5)!==W)){n.setAttribute(t,W),c&&n.removeChild(c);let U=wS(),{extra:ae}=U;ae.attributes[r5]=e,p5($,b).then(Ce=>{let de=E5(Q(I({},U),{icons:{main:Ce,mask:I5()},prefix:b,iconName:W,extra:ae,watchable:!0})),M=Ne.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(M,n.firstChild):n.appendChild(M),M.outerHTML=de.map(g=>Q3(g)).join(`
`),n.removeAttribute(t),i()}).catch(s)}else i()}else i()})}function DS(n){return Promise.all([zp(n,"::before"),zp(n,"::after")])}function OS(n){return n.parentNode!==document.head&&!~IT.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(r5)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function Ip(n){if(j2)return new Promise((e,t)=>{let i=k0(n.querySelectorAll("*")).filter(OS).map(DS),s=T5.begin("searchPseudoElements");rg(),Promise.all(i).then(()=>{s(),_5(),e()}).catch(()=>{s(),_5(),t()})})}var FS={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=Ip,n}}},provides(n){n.pseudoElements2svg=function(e){let{node:t=Ne}=e;K.searchPseudoElements&&Ip(t)}}},Ep=!1,VS={mixout(){return{dom:{unwatch(){rg(),Ep=!0}}}},hooks(){return{bootstrap(){Cp(d5("mutationObserverCallbacks",{}))},noAuto(){vS()},watch(n){let{observeMutationsRoot:e}=n;Ep?_5():Cp(d5("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},Tp=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((t,i)=>{let s=i.toLowerCase().split("-"),r=s[0],c=s.slice(1).join("-");if(r&&c==="h")return t.flipX=!0,t;if(r&&c==="v")return t.flipY=!0,t;if(c=parseFloat(c),isNaN(c))return t;switch(r){case"grow":t.size=t.size+c;break;case"shrink":t.size=t.size-c;break;case"left":t.x=t.x-c;break;case"right":t.x=t.x+c;break;case"up":t.y=t.y-c;break;case"down":t.y=t.y+c;break;case"rotate":t.rotate=t.rotate+c;break}return t},e)},US={mixout(){return{parse:{transform:n=>Tp(n)}}},hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-transform");return t&&(n.transform=Tp(t)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:i,containerWidth:s,iconWidth:r}=e,c={transform:"translate(".concat(s/2," 256)")},a="translate(".concat(i.x*32,", ").concat(i.y*32,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),h="rotate(".concat(i.rotate," 0 0)"),f={transform:"".concat(a," ").concat(l," ").concat(h)},p={transform:"translate(".concat(r/2*-1," -256)")},_={outer:c,inner:f,path:p};return{tag:"g",attributes:I({},_.outer),children:[{tag:"g",attributes:I({},_.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:I(I({},t.icon.attributes),_.path)}]}]}}}},i5={x:0,y:0,width:"100%",height:"100%"};function Sp(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function BS(n){return n.tag==="g"?n.children:[n]}var jS={hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-mask"),i=t?nc(t.split(" ").map(s=>s.trim())):I5();return i.prefix||(i.prefix=C1()),n.mask=i,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:i,main:s,mask:r,maskId:c,transform:a}=e,{width:l,icon:h}=s,{width:f,icon:p}=r,_=VT({transform:a,containerWidth:f,iconWidth:l}),b={tag:"rect",attributes:Q(I({},i5),{fill:"white"})},A=h.children?{children:h.children.map(Sp)}:{},N={tag:"g",attributes:I({},_.inner),children:[Sp(I({tag:h.tag,attributes:I(I({},h.attributes),_.path)},A))]},x={tag:"g",attributes:I({},_.outer),children:[N]},$="mask-".concat(c||K3()),W="clip-".concat(c||K3()),U={tag:"mask",attributes:Q(I({},i5),{id:$,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[b,x]},ae={tag:"defs",children:[{tag:"clipPath",attributes:{id:W},children:BS(p)},U]};return t.push(ae,{tag:"rect",attributes:I({fill:"currentColor","clip-path":"url(#".concat(W,")"),mask:"url(#".concat($,")")},i5)}),{children:t,attributes:i}}}},qS={provides(n){let e=!1;v1.matchMedia&&(e=v1.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){let t=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:Q(I({},i),{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let r=Q(I({},s),{attributeName:"opacity"}),c={tag:"circle",attributes:Q(I({},i),{cx:"256",cy:"364",r:"28"}),children:[]};return e||c.children.push({tag:"animate",attributes:Q(I({},s),{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Q(I({},r),{values:"1;0;1;1;0;1;"})}),t.push(c),t.push({tag:"path",attributes:Q(I({},i),{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Q(I({},r),{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:Q(I({},i),{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Q(I({},r),{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},$S={hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-symbol"),i=t===null?!1:t===""?!0:t;return n.symbol=i,n}}}},HS=[jT,TS,SS,xS,AS,FS,VS,US,jS,qS,$S];nS(HS,{mixoutsTo:St});var SF=St.noAuto,og=St.config,xF=St.library,ag=St.dom,lg=St.parse,AF=St.findIconDefinition,NF=St.toHtml,ug=St.icon,RF=St.layer,WS=St.text,GS=St.counter;var KS=["*"],YS=n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)},QS=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},XS=n=>{let e={[`fa-${n.animation}`]:n.animation!=null&&!n.animation.startsWith("spin"),"fa-spin":n.animation==="spin"||n.animation==="spin-reverse","fa-spin-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-spin-reverse":n.animation==="spin-reverse"||n.animation==="spin-pulse-reverse","fa-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":n.flip==="horizontal"||n.flip==="both","fa-flip-vertical":n.flip==="vertical"||n.flip==="both",[`fa-${n.size}`]:n.size!==null,[`fa-rotate-${n.rotate}`]:n.rotate!==null,[`fa-pull-${n.pull}`]:n.pull!==null,[`fa-stack-${n.stackItemSize}`]:n.stackItemSize!=null};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)},x5=new WeakSet,hg="fa-auto-css";function JS(n,e){if(!e.autoAddCss||x5.has(n))return;if(n.getElementById(hg)!=null){e.autoAddCss=!1,x5.add(n);return}let t=n.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("id",hg),t.innerHTML=ag.css();let i=n.head.childNodes,s=null;for(let r=i.length-1;r>-1;r--){let c=i[r],a=c.nodeName.toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(s=c)}n.head.insertBefore(t,s),e.autoAddCss=!1,x5.add(n)}var ZS=n=>n.prefix!==void 0&&n.iconName!==void 0,ex=(n,e)=>ZS(n)?n:Array.isArray(n)&&n.length===2?{prefix:n[0],iconName:n[1]}:{prefix:e,iconName:n},tx=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(t){og.autoAddCss=t,this._autoAddCss=t}get autoAddCss(){return this._autoAddCss}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nx=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(let i of t){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(let s of i.icon[2])typeof s=="string"&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...t){for(let i of t){let s=Object.keys(i).map(r=>i[r]);this.addIcons(...s)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ix=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ge({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},standalone:!0,features:[Ot]})}}return n})(),sx=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(t.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),t.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}static{this.\u0275fac=function(i){return new(i||n)(H(qc),H(Ve))}}static{this.\u0275cmp=Ee({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},standalone:!0,features:[Ot,Se],ngContentSelectors:KS,decls:1,vars:0,template:function(i,s){i&1&&(In(),En(0))},encapsulation:2})}}return n})(),dg=(()=>{class n{constructor(t,i,s,r,c){this.sanitizer=t,this.config=i,this.iconLibrary=s,this.stackItem=r,this.document=P(ie),c!=null&&r==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(this.icon==null&&this.config.fallbackIcon==null){QS();return}if(t){let i=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(i!=null){let s=this.buildParams();JS(this.document,this.config);let r=ug(i,s);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(t){let i=ex(t,this.config.defaultPrefix);if("icon"in i)return i;let s=this.iconLibrary.getIconDefinition(i.prefix,i.iconName);return s??(YS(i),null)}buildParams(){let t={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},i=typeof this.transform=="string"?lg.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:XS(t),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole}}}static{this.\u0275fac=function(i){return new(i||n)(H(lo),H(tx),H(nx),H(ix,8),H(sx,8))}}static{this.\u0275cmp=Ee({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,s){i&2&&(zn("innerHTML",s.renderedIconHTML,e9),Jt("title",s.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},standalone:!0,features:[Ot,Se],decls:0,vars:0,template:function(i,s){},encapsulation:2})}}return n})();var fg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ze({type:n})}static{this.\u0275inj=be({})}}return n})();function cx(n,e){if(n&1&&Mt(0,"fa-icon",3),n&2){let t=te();wn("icon",t.faFlag)}}function ox(n,e){if(n&1&&Mt(0,"fa-icon",3),n&2){let t=te();wn("icon",t.faFlag)}}function ax(n,e){if(n&1&&Mt(0,"fa-icon",3),n&2){let t=te();wn("icon",t.faFlag)}}function lx(n,e){if(n&1&&Mt(0,"fa-icon",3),n&2){let t=te();wn("icon",t.faFlag)}}function ux(n,e){if(n&1){let t=he();O(0,"div",8)(1,"div"),j(2," asdadasas "),D(),O(3,"div",9),Y("click",function(){le(t);let s=te();return ue(s.showResult=!1)}),j(4,"x"),D()()}if(n&2){let t=te();ft("background-color",t.showBlueFlag==!0&&t.showRedFlag==!0||t.showBlueFlag==!1&&t.showRedFlag==!1?"gray":t.showBlueFlag==!0&&t.showRedFlag==!1?"blue":"red")}}var sc=class n{constructor(e){this.dialog=e}showResult=!1;isInvert=!1;faFlag=rp;showRedFlag=!1;showBlueFlag=!1;reset(){this.showBlueFlag=!1,this.showRedFlag=!1}handleClickReset(){this.dialog.open(g1,{data:{title:"REINICIAR",message:"\xBFQuiere reiniciar el marcador?",action:()=>this.reset()}})}static \u0275fac=function(t){return new(t||n)(H(V2))};static \u0275cmp=Ee({type:n,selectors:[["app-blue-or-red"]],standalone:!0,features:[Se],decls:16,vars:9,consts:[[1,"container-fluid"],[1,"row","main"],[1,"col-12","section",3,"click"],[3,"icon"],[1,"buttons"],[1,"btn","btn-primary","mx-3",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"result",3,"backgroundColor"],[1,"result"],[3,"click"]],template:function(t,i){t&1&&(O(0,"div",0)(1,"div",1)(2,"div",2),Y("click",function(){return i.showResult?"":i.isInvert?i.showRedFlag=!i.showRedFlag:i.showBlueFlag=!i.showBlueFlag}),Pe(3,cx,1,1,"fa-icon",3)(4,ox,1,1,"fa-icon",3),D(),O(5,"div",2),Y("click",function(){return i.showResult?"":i.isInvert?i.showBlueFlag=!i.showBlueFlag:i.showRedFlag=!i.showRedFlag}),Pe(6,ax,1,1,"fa-icon",3)(7,lx,1,1,"fa-icon",3),D()()(),O(8,"div",4)(9,"button",5),Y("click",function(){return i.showResult=!0}),j(10,"Finalizar "),D(),O(11,"button",5),Y("click",function(){return i.isInvert=!i.isInvert}),j(12,"Invertir "),D(),O(13,"button",6),Y("click",function(){return i.handleClickReset()}),j(14,"Resetear "),D()(),Pe(15,ux,5,2,"div",7)),t&2&&(Z(2),ft("background-color",i.isInvert?"red":"blue"),Z(),Te(i.showBlueFlag&&!i.isInvert?3:-1),Z(),Te(i.showRedFlag&&i.isInvert?4:-1),Z(),ft("background-color",i.isInvert?"blue":"red"),Z(),Te(i.showRedFlag&&!i.isInvert?6:-1),Z(),Te(i.showBlueFlag&&i.isInvert?7:-1),Z(8),Te(i.showResult?15:-1))},dependencies:[fg,dg,p1],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.section[_ngcontent-%COMP%]{height:50vh;display:flex;justify-content:center;align-items:center;font-size:15vh;color:#fff}.buttons[_ngcontent-%COMP%]{height:10vh;position:fixed;display:flex;justify-content:space-around;align-items:center;top:45vh;width:100vw}.result[_ngcontent-%COMP%]{width:100vw;height:80px;position:fixed;display:flex;top:20vh;background-color:red;justify-content:space-around;align-items:center;border:4px solid black;font-size:20px;font-weight:700}"]})};var mg=[{path:"",component:os},{path:"flags",component:sc},{path:"patterns",component:Kr},{path:"combat",component:Gr},{path:"login",component:Nr}];var pg={production:!1,firebaseConfig:{apiKey:"AIzaSyDZpMgKii9vNaXelZTPHS0EH40wRvyR9Dg",authDomain:"tkdtorneos-app.firebaseapp.com",projectId:"tkdtorneos-app",storageBucket:"tkdtorneos-app.appspot.com",messagingSenderId:"775553529912",appId:"1:775553529912:web:ad1e3a16b4958580704ecd"}};var hx=null,gg=C0(hx,Ht(xr,(n,{user:e})=>I({},e)),Ht(Ar,()=>null));var _g=$t("[Country] Set Countries",h2()),yg=$t("[Country] Set Active Country",h2());var dx={countries:[],activeCountry:null},vg=C0(dx,Ht(_g,(n,{countries:e})=>Q(I({},n),{countries:[...e]})),Ht(yg,(n,{country:e})=>Q(I({},n),{activeCountry:e})));var fx={bluePoints:0,redPoints:0},Cg=C0(fx,Ht(Rr,(n,{points:e})=>{let t=n.bluePoints+e<=0?0:n.bluePoints+e;return Q(I({},n),{bluePoints:t})}),Ht(kr,(n,{points:e})=>{let t=n.redPoints+e<=0?0:n.redPoints+e;return Q(I({},n),{redPoints:t})}),Ht(x3,(n,{points:e})=>Q(I({},n),{bluePoints:e})),Ht(A3,(n,{points:e})=>Q(I({},n),{redPoints:e})));var mx="@",px=(()=>{class n{constructor(t,i,s,r,c){this.doc=t,this.delegate=i,this.zone=s,this.animationType=r,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=P(t9,{optional:!0}),this.loadingSchedulerFn=P(gx,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-KHFCGNYO.js").then(s=>s),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(t):i=t(),i.catch(s=>{throw new we(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:r})=>{this._engine=s(this.animationType,this.doc);let c=new r(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(t,i){let s=this.delegate.createRenderer(t,i);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let r=new A5(s);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let a=c.createRenderer(t,i);r.use(a),this.scheduler?.notify(10)}).catch(c=>{r.use(s)}),r}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){b4()}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),A5=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,i,s){this.delegate.insertBefore(e,t,i,s)}removeChild(e,t,i){this.delegate.removeChild(e,t,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,s){this.delegate.setAttribute(e,t,i,s)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,s){this.delegate.setStyle(e,t,i,s)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){this.shouldReplay(t)&&this.replay.push(s=>s.setProperty(e,t,i)),this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.shouldReplay(t)&&this.replay.push(s=>s.listen(e,t,i)),this.delegate.listen(e,t,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(mx)}},gx=new B("");function Lg(n="animations"){return $c("NgAsyncAnimations"),Lt([{provide:I4,useFactory:(e,t,i)=>new px(e,t,i,n),deps:[ie,U4,re]},{provide:X2,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Mg={providers:[o9({eventCoalescing:!0}),Tu(mg),Yh(()=>ds(pg.firebaseConfig)),Hf(()=>Gf()),x9(),pm({user:gg,countriesState:vg,pointsState:Cg}),Lg()]};var rc=class n{title="globalClick";ngOnInit(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ee({type:n,selectors:[["app-root"]],standalone:!0,features:[Se],decls:1,vars:0,template:function(t,i){t&1&&Mt(0,"router-outlet")},dependencies:[qo]})};O9(rc,Mg).catch(n=>console.error(n));
