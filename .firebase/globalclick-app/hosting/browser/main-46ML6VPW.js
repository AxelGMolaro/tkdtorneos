var wM=Object.defineProperty,EM=Object.defineProperties;var DM=Object.getOwnPropertyDescriptors;var Sw=Object.getOwnPropertySymbols,bM=Object.getPrototypeOf,CM=Object.prototype.hasOwnProperty,TM=Object.prototype.propertyIsEnumerable,SM=Reflect.get;var Aw=(t,e,n)=>e in t?wM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e)=>{for(var n in e||={})CM.call(e,n)&&Aw(t,n,e[n]);if(Sw)for(var n of Sw(e))TM.call(e,n)&&Aw(t,n,e[n]);return t},te=(t,e)=>EM(t,DM(e));var or=(t,e,n)=>SM(bM(t),n,e);var I=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function Rw(t,e){return Object.is(t,e)}var He=null,Xc=!1,eu=1,Sn=Symbol("SIGNAL");function he(t){let e=He;return He=t,e}function Mw(){return He}var zs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cf(t){if(Xc)throw new Error("");if(He===null)return;He.consumerOnSignalRead(t);let e=He.nextProducerIndex++;if(iu(He),e<He.producerNode.length&&He.producerNode[e]!==t&&Hs(He)){let n=He.producerNode[e];ru(n,He.producerIndexOfThis[e])}He.producerNode[e]!==t&&(He.producerNode[e]=t,He.producerIndexOfThis[e]=Hs(He)?Ow(t,He,e):0),He.producerLastReadVersion[e]=t.version}function AM(){eu++}function Nw(t){if(!(Hs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===eu)){if(!t.producerMustRecompute(t)&&!Sf(t)){t.dirty=!1,t.lastCleanEpoch=eu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=eu}}function xw(t){if(t.liveConsumerNode===void 0)return;let e=Xc;Xc=!0;try{for(let n of t.liveConsumerNode)n.dirty||RM(n)}finally{Xc=e}}function Pw(){return He?.consumerAllowSignalWrites!==!1}function RM(t){t.dirty=!0,xw(t),t.consumerMarkedDirty?.(t)}function nu(t){return t&&(t.nextProducerIndex=0),he(t)}function Tf(t,e){if(he(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Hs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ru(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Sf(t){iu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Nw(n),r!==n.version))return!0}return!1}function Af(t){if(iu(t),Hs(t))for(let e=0;e<t.producerNode.length;e++)ru(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ow(t,e,n){if(kw(t),t.liveConsumerNode.length===0&&Fw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Ow(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ru(t,e){if(kw(t),t.liveConsumerNode.length===1&&Fw(t))for(let r=0;r<t.producerNode.length;r++)ru(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];iu(i),i.producerIndexOfThis[r]=e}}function Hs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function iu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function kw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Fw(t){return t.producerNode!==void 0}function Lw(t){let e=Object.create(MM);e.computation=t;let n=()=>{if(Nw(e),Cf(e),e.value===tu)throw e.error;return e.value};return n[Sn]=e,n}var Df=Symbol("UNSET"),bf=Symbol("COMPUTING"),tu=Symbol("ERRORED"),MM=te(P({},zs),{value:Df,dirty:!0,error:null,equal:Rw,producerMustRecompute(t){return t.value===Df||t.value===bf},producerRecomputeValue(t){if(t.value===bf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=bf;let n=nu(t),r;try{r=t.computation()}catch(i){r=tu,t.error=i}finally{Tf(t,n)}if(e!==Df&&e!==tu&&r!==tu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function NM(){throw new Error}var Vw=NM;function jw(){Vw()}function Uw(t){Vw=t}var xM=null;function Bw(t){let e=Object.create(Hw);e.value=t;let n=()=>(Cf(e),e.value);return n[Sn]=e,n}function Rf(t,e){Pw()||jw(),t.equal(t.value,e)||(t.value=e,PM(t))}function $w(t,e){Pw()||jw(),Rf(t,e(t.value))}var Hw=te(P({},zs),{equal:Rw,value:void 0});function PM(t){t.version++,AM(),xw(t),xM?.()}function ee(t){return typeof t=="function"}function Ki(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ou=Ki(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Wr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var xe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof ou?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zw(o)}catch(s){e=e??[],s instanceof ou?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ou(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wr(n,e)}remove(e){let{_finalizers:n}=this;n&&Wr(n,e),e instanceof t&&e._removeParent(this)}};xe.EMPTY=(()=>{let t=new xe;return t.closed=!0,t})();var Mf=xe.EMPTY;function su(t){return t instanceof xe||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function zw(t){ee(t)?t():t.unsubscribe()}var qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qi={setTimeout(t,e,...n){let{delegate:r}=Qi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Qi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function au(t){Qi.setTimeout(()=>{let{onUnhandledError:e}=qt;if(e)e(t);else throw t})}function Kr(){}var qw=Nf("C",void 0,void 0);function Gw(t){return Nf("E",void 0,t)}function Ww(t){return Nf("N",t,void 0)}function Nf(t,e,n){return{kind:t,value:e,error:n}}var Qr=null;function Yi(t){if(qt.useDeprecatedSynchronousErrorHandling){let e=!Qr;if(e&&(Qr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Qr;if(Qr=null,n)throw r}}else t()}function Kw(t){qt.useDeprecatedSynchronousErrorHandling&&Qr&&(Qr.errorThrown=!0,Qr.error=t)}var Yr=class extends xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,su(e)&&e.add(this)):this.destination=FM}static create(e,n,r){return new Zi(e,n,r)}next(e){this.isStopped?Pf(Ww(e),this):this._next(e)}error(e){this.isStopped?Pf(Gw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pf(qw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},OM=Function.prototype.bind;function xf(t,e){return OM.call(t,e)}var Of=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cu(r)}else cu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cu(n)}}},Zi=class extends Yr{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&qt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xf(e.next,o),error:e.error&&xf(e.error,o),complete:e.complete&&xf(e.complete,o)}):i=e}this.destination=new Of(i)}};function cu(t){qt.useDeprecatedSynchronousErrorHandling?Kw(t):au(t)}function kM(t){throw t}function Pf(t,e){let{onStoppedNotification:n}=qt;n&&Qi.setTimeout(()=>n(t,e))}var FM={closed:!0,next:Kr,error:kM,complete:Kr};var Ji=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xe(t){return t}function kf(...t){return Ff(t)}function Ff(t){return t.length===0?Xe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=VM(n)?n:new Zi(n,r,i);return Yi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Qw(r),new r((i,o)=>{let s=new Zi({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ji](){return this}pipe(...n){return Ff(n)(this)}toPromise(n){return n=Qw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Qw(t){var e;return(e=t??qt.Promise)!==null&&e!==void 0?e:Promise}function LM(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function VM(t){return t&&t instanceof Yr||LM(t)&&su(t)}function Lf(t){return ee(t?.lift)}function ce(t){return e=>{if(Lf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(t,e,n,r,i){return new Vf(t,e,n,r,i)}var Vf=class extends Yr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Xi(){return ce((t,e)=>{let n=null;t._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var eo=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Lf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xe;let n=this.getSubject();e.add(this.source.subscribe(ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xe.EMPTY)}return e}refCount(){return Xi()(this)}};var Yw=Ki(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new uu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Yw}next(n){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Mf:(this.currentObservers=null,o.push(n),new xe(()=>{this.currentObservers=null,Wr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new uu(e,n),t})(),uu=class extends ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Mf}};var Le=class extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var jf={now(){return(jf.delegate||Date).now()},delegate:void 0};var lu=class extends xe{constructor(e,n){super()}schedule(e,n=0){return this}};var qs={setInterval(t,e,...n){let{delegate:r}=qs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=qs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var to=class extends lu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return qs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&qs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var no=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};no.now=jf.now;var ro=class extends no{constructor(e,n=no.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Uf=new ro(to);var du=class extends to{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var hu=class extends ro{};var Gs=new hu(du);var Dt=new re(t=>t.complete());function Zw(t){return t&&ee(t.schedule)}function Jw(t){return t[t.length-1]}function io(t){return ee(Jw(t))?t.pop():void 0}function sr(t){return Zw(Jw(t))?t.pop():void 0}function fu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function eE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Xw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zr(t){return this instanceof Zr?(this.v=t,this):new Zr(t)}function tE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(M){return new Promise(function(A,k){o.push([y,M,A,k])>1||u(y,M)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof Zr?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function nE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Xw=="function"?Xw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var pu=t=>t&&typeof t.length=="number"&&typeof t!="function";function gu(t){return ee(t?.then)}function mu(t){return ee(t[Ji])}function yu(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function vu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _u=jM();function Iu(t){return ee(t?.[_u])}function wu(t){return tE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Zr(n.read());if(i)return yield Zr(void 0);yield yield Zr(r)}}finally{n.releaseLock()}})}function Eu(t){return ee(t?.getReader)}function Pe(t){if(t instanceof re)return t;if(t!=null){if(mu(t))return UM(t);if(pu(t))return BM(t);if(gu(t))return $M(t);if(yu(t))return rE(t);if(Iu(t))return HM(t);if(Eu(t))return zM(t)}throw vu(t)}function UM(t){return new re(e=>{let n=t[Ji]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BM(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function $M(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,au)})}function HM(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function rE(t){return new re(e=>{qM(t,e).catch(n=>e.error(n))})}function zM(t){return rE(wu(t))}function qM(t,e){var n,r,i,o;return eE(this,void 0,void 0,function*(){try{for(n=nE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function mt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function nn(t,e=0){return ce((n,r)=>{n.subscribe(ie(r,i=>mt(r,t,()=>r.next(i),e),()=>mt(r,t,()=>r.complete(),e),i=>mt(r,t,()=>r.error(i),e)))})}function ar(t,e=0){return ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function iE(t,e){return Pe(t).pipe(ar(e),nn(e))}function oE(t,e){return Pe(t).pipe(ar(e),nn(e))}function sE(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function aE(t,e){return new re(n=>{let r;return mt(n,e,()=>{r=t[_u](),mt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Du(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{mt(n,e,()=>{let r=t[Symbol.asyncIterator]();mt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function cE(t,e){return Du(wu(t),e)}function uE(t,e){if(t!=null){if(mu(t))return iE(t,e);if(pu(t))return sE(t,e);if(gu(t))return oE(t,e);if(yu(t))return Du(t,e);if(Iu(t))return aE(t,e);if(Eu(t))return cE(t,e)}throw vu(t)}function Ae(t,e){return e?uE(t,e):Pe(t)}function Y(...t){let e=sr(t);return Ae(t,e)}function oo(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function Bf(t){return!!t&&(t instanceof re||ee(t.lift)&&ee(t.subscribe))}var An=Ki(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function W(t,e){return ce((n,r)=>{let i=0;n.subscribe(ie(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:GM}=Array;function WM(t,e){return GM(e)?t(...e):t(e)}function bu(t){return W(e=>WM(t,e))}var{isArray:KM}=Array,{getPrototypeOf:QM,prototype:YM,keys:ZM}=Object;function Cu(t){if(t.length===1){let e=t[0];if(KM(e))return{args:e,keys:null};if(JM(e)){let n=ZM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function JM(t){return t&&typeof t=="object"&&QM(t)===YM}function Tu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Su(...t){let e=sr(t),n=io(t),{args:r,keys:i}=Cu(t);if(r.length===0)return Ae([],e);let o=new re(XM(r,e,i?s=>Tu(i,s):Xe));return n?o.pipe(bu(n)):o}function XM(t,e,n=Xe){return r=>{lE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)lE(e,()=>{let l=Ae(t[u],e),h=!1;l.subscribe(ie(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function lE(t,e,n){t?mt(n,t,e):e()}function dE(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?C(M):u.push(M),C=M=>{o&&e.next(M),l++;let A=!1;Pe(n(M,h++)).subscribe(ie(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let k=u.shift();s?mt(e,s,()=>C(k)):C(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(ie(e,y,()=>{p=!0,m()})),()=>{a?.()}}function qe(t,e,n=1/0){return ee(e)?qe((r,i)=>W((o,s)=>e(r,o,i,s))(Pe(t(r,i))),n):(typeof e=="number"&&(n=e),ce((r,i)=>dE(r,i,t,n)))}function $f(t=1/0){return qe(Xe,t)}function hE(){return $f(1)}function so(...t){return hE()(Ae(t,sr(t)))}function Au(t){return new re(e=>{Pe(t()).subscribe(e)})}function Hf(...t){let e=io(t),{args:n,keys:r}=Cu(t),i=new re(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Pe(n[h]).subscribe(ie(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Tu(r,a):a),o.complete())}))}});return e?i.pipe(bu(e)):i}function st(t,e){return ce((n,r)=>{let i=0;n.subscribe(ie(r,o=>t.call(e,o,i++)&&r.next(o)))})}function cr(t){return ce((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ie(n,void 0,void 0,s=>{o=Pe(t(s,cr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function fE(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ie(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ur(t,e){return ee(e)?qe(t,e,1):qe(t,1)}function lr(t){return ce((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Rn(t){return t<=0?()=>Dt:ce((e,n)=>{let r=0;e.subscribe(ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function zf(t){return W(()=>t)}function qf(t,e=Xe){return t=t??eN,ce((n,r)=>{let i,o=!0;n.subscribe(ie(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function eN(t,e){return t===e}function Ru(t=tN){return ce((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tN(){return new An}function Jr(t){return ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function rn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?st((i,o)=>t(i,o,r)):Xe,Rn(1),n?lr(e):Ru(()=>new An))}function ao(t){return t<=0?()=>Dt:ce((e,n)=>{let r=[];e.subscribe(ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Gf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?st((i,o)=>t(i,o,r)):Xe,ao(1),n?lr(e):Ru(()=>new An))}function Wf(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return W(n=>{let r=n;for(let i=0;i<e;i++){let o=r?.[t[i]];if(typeof o<"u")r=o;else return}return r})}function Ws(t,e){return ce(fE(t,e,arguments.length>=2,!0))}function Kf(...t){let e=sr(t);return ce((n,r)=>{(e?so(t,n,e):so(t,n)).subscribe(r)})}function bt(t,e){return ce((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ie(r,u=>{i?.unsubscribe();let l=0,h=o++;Pe(t(u,h)).subscribe(i=ie(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qf(t){return ce((e,n)=>{Pe(t).subscribe(ie(n,()=>n.complete(),Kr)),!n.closed&&e.subscribe(n)})}function Ve(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ie(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Xe}function Yf(...t){let e=io(t);return ce((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let u=0;u<i;u++)Pe(t[u]).subscribe(ie(r,l=>{o[u]=l,!a&&!s[u]&&(s[u]=!0,(a=s.every(Xe))&&(s=null))},Kr));n.subscribe(ie(r,u=>{if(a){let l=[u,...o];r.next(e?e(...l):l)}}))})}var nN="https://g.co/ng/security#xss",z=class extends Error{constructor(e,n){super(sl(e,n)),this.code=e}};function sl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ca(t){return{toString:t}.toString()}var Mu="__parameters__";function rN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function XE(t,e,n){return ca(()=>{let r=rN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Mu)?u[Mu]:Object.defineProperty(u,Mu,{value:[]})[Mu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function iN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function yt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function pE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var oN=be({__forward_ref__:be});function ai(t){return t.__forward_ref__=ai,t.toString=function(){return yt(this())},t}function ft(t){return eD(t)?t():t}function eD(t){return typeof t=="function"&&t.hasOwnProperty(oN)&&t.__forward_ref__===ai}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vr(t){return{providers:t.providers||[],imports:t.imports||[]}}function al(t){return gE(t,nD)||gE(t,rD)}function tD(t){return al(t)!==null}function gE(t,e){return t.hasOwnProperty(e)?t[e]:null}function sN(t){let e=t&&(t[nD]||t[rD]);return e||null}function mE(t){return t&&(t.hasOwnProperty(yE)||t.hasOwnProperty(aN))?t[yE]:null}var nD=be({\u0275prov:be}),yE=be({\u0275inj:be}),rD=be({ngInjectableDef:be}),aN=be({ngInjectorDef:be}),F=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function iD(t){return t&&!!t.\u0275providers}var cN=be({\u0275cmp:be}),uN=be({\u0275dir:be}),lN=be({\u0275pipe:be}),dN=be({\u0275mod:be}),ju=be({\u0275fac:be}),Ys=be({__NG_ELEMENT_ID__:be}),vE=be({__NG_ENV_ID__:be});function oD(t){return typeof t=="string"?t:t==null?"":String(t)}function hN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():oD(t)}function fN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new z(-200,t)}function tg(t,e){throw new z(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),dp;function sD(){return dp}function Ft(t){let e=dp;return dp=t,e}function aD(t,e,n){let r=al(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;tg(t,"Injector")}var pN={},Zs=pN,hp="__NG_DI_FLAG__",Uu="ngTempTokenPath",gN="ngTokenPath",mN=/\n/gm,yN="\u0275",_E="__source",ho;function vN(){return ho}function dr(t){let e=ho;return ho=t,e}function _N(t,e=se.Default){if(ho===void 0)throw new z(-203,!1);return ho===null?aD(t,void 0,e):ho.get(t,e&se.Optional?null:void 0,e)}function V(t,e=se.Default){return(sD()||_N)(ft(t),e)}function x(t,e=se.Default){return V(t,cl(e))}function cl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fp(t){let e=[];for(let n=0;n<t.length;n++){let r=ft(t[n]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=se.Default;for(let s=0;s<r.length;s++){let a=r[s],u=IN(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(V(i,o))}else e.push(V(r))}return e}function cD(t,e){return t[hp]=e,t.prototype[hp]=e,t}function IN(t){return t[hp]}function wN(t,e,n,r){let i=t[Uu];throw e[_E]&&i.unshift(e[_E]),t.message=EN(`
`+t.message,i,n,r),t[gN]=i,t[Uu]=null,t}function EN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yN?t.slice(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):yt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mN,`
  `)}`}var uD=cD(XE("Inject",t=>({token:t})),-1),un=cD(XE("Optional"),8);function po(t,e){let n=t.hasOwnProperty(ju);return n?t[ju]:null}function ng(t,e){t.forEach(n=>Array.isArray(n)?ng(n,e):e(n))}function lD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function DN(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function bN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function CN(t,e,n){let r=ua(t,e);return r>=0?t[r|1]=n:(r=~r,bN(t,r,e,n)),r}function Zf(t,e){let n=ua(t,e);if(n>=0)return t[n|1]}function ua(t,e){return TN(t,e,1)}function TN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var go={},Lt=[],pr=new F(""),dD=new F("",-1),hD=new F(""),$u=class{get(e,n=Zs){if(n===Zs){let r=new Error(`NullInjectorError: No provider for ${yt(e)}!`);throw r.name="NullInjectorError",r}return n}},fD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(fD||{}),an=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(an||{}),gr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(gr||{});function SN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function pp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];RN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function AN(t){return t===3||t===4||t===6}function RN(t){return t.charCodeAt(0)===64}function Js(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?IE(t,n,i,null,e[++r]):IE(t,n,i,null,null))}}return t}function IE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var pD="ng-template";function MN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&SN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(rg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function rg(t){return t.type===4&&t.value!==pD}function NN(t,e,n){let r=t.type===4&&!n?pD:t.value;return e===r}function xN(t,e,n){let r=4,i=t.attrs,o=i!==null?kN(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Gt(r)&&!Gt(u))return!1;if(s&&Gt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!NN(t,u,n)||u===""&&e.length===1){if(Gt(r))return!1;s=!0}}else if(r&8){if(i===null||!MN(t,i,u,n)){if(Gt(r))return!1;s=!0}}else{let l=e[++a],h=PN(u,i,rg(t),n);if(h===-1){if(Gt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Gt(r))return!1;s=!0}}}}return Gt(r)||s}function Gt(t){return(t&1)===0}function PN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return FN(e,t)}function gD(t,e,n=!1){for(let r=0;r<e.length;r++)if(xN(t,e[r],n))return!0;return!1}function ON(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function kN(t){for(let e=0;e<t.length;e++){let n=t[e];if(AN(n))return e}return t.length}function FN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function LN(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function wE(t,e){return t?":not("+e.trim()+")":e}function VN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Gt(s)&&(e+=wE(o,i),i=""),r=s,o=o||!Gt(r);n++}return i!==""&&(e+=wE(o,i)),e}function jN(t){return t.map(VN).join(",")}function UN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Gt(i))break;i=o}r++}return{attrs:e,classes:n}}function Oe(t){return ca(()=>{let e=ID(t),n=te(P({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===fD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||an.Emulated,styles:t.styles||Lt,_:null,schemas:t.schemas||null,tView:null,id:""});wD(n);let r=t.dependencies;return n.directiveDefs=DE(r,!1),n.pipeDefs=DE(r,!0),n.id=HN(n),n})}function BN(t){return ei(t)||mD(t)}function $N(t){return t!==null}function _r(t){return ca(()=>({type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function EE(t,e){if(t==null)return go;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=gr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==gr.None?[r,a]:r,e[o]=s):n[o]=r}return n}function At(t){return ca(()=>{let e=ID(t);return wD(e),e})}function ei(t){return t[cN]||null}function mD(t){return t[uN]||null}function yD(t){return t[lN]||null}function vD(t){let e=ei(t)||mD(t)||yD(t);return e!==null?e.standalone:!1}function _D(t,e){let n=t[dN]||null;if(!n&&e===!0)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function ID(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||go,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:EE(t.inputs,e),outputs:EE(t.outputs),debugInfo:null}}function wD(t){t.features?.forEach(e=>e(t))}function DE(t,e){if(!t)return null;let n=e?yD:BN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter($N)}function HN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function jt(t){return{\u0275providers:t}}function zN(...t){return{\u0275providers:ED(!0,t),\u0275fromNgModule:!0}}function ED(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return ng(e,s=>{let a=s;gp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&DD(i,o),n}function DD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ig(i,o=>{e(o,r)})}}function gp(t,e,n,r){if(t=ft(t),!t)return!1;let i=null,o=mE(t),s=!o&&ei(t);if(!o&&!s){let u=t.ngModule;if(o=mE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)gp(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ng(o.imports,h=>{gp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&DD(l,e)}if(!a){let l=po(i)||(()=>new i);e({provide:i,useFactory:l,deps:Lt},i),e({provide:hD,useValue:i,multi:!0},i),e({provide:pr,useValue:()=>V(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;ig(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ig(t,e){for(let n of t)iD(n)&&(n=n.\u0275providers),Array.isArray(n)?ig(n,e):e(n)}var qN=be({provide:String,useValue:be});function bD(t){return t!==null&&typeof t=="object"&&qN in t}function GN(t){return!!(t&&t.useExisting)}function WN(t){return!!(t&&t.useFactory)}function mo(t){return typeof t=="function"}function KN(t){return!!t.useClass}var ul=new F(""),Ou={},QN={},Jf;function og(){return Jf===void 0&&(Jf=new $u),Jf}var vt=class{},Xs=class extends vt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yp(e,s=>this.processProvider(s)),this.records.set(dD,co(void 0,this)),i.has("environment")&&this.records.set(vt,co(void 0,this));let o=this.records.get(ul);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hD,Lt,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=dr(this),r=Ft(void 0),i;try{return e()}finally{dr(n),Ft(r)}}get(e,n=Zs,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vE))return e[vE](this);r=cl(r);let i,o=dr(this),s=Ft(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=ex(e)&&al(e);l&&this.injectableDefInScope(l)?u=co(mp(e),Ou):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?og():this.parent;return n=r&se.Optional&&n===Zs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Uu]=a[Uu]||[]).unshift(yt(e)),o)throw a;return wN(a,e,"R3InjectorError",this.source)}else throw a}finally{Ft(s),dr(o)}}resolveInjectorInitializers(){let e=he(null),n=dr(this),r=Ft(void 0),i;try{let o=this.get(pr,Lt,se.Self);for(let s of o)s()}finally{dr(n),Ft(r),he(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(yt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=ft(e);let n=mo(e)?e:ft(e&&e.provide),r=ZN(e);if(!mo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=co(void 0,Ou,!0),i.factory=()=>fp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=he(null);try{return n.value===Ou&&(n.value=QN,n.value=n.factory()),typeof n.value=="object"&&n.value&&XN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{he(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ft(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function mp(t){let e=al(t),n=e!==null?e.factory:po(t);if(n!==null)return n;if(t instanceof F)throw new z(204,!1);if(t instanceof Function)return YN(t);throw new z(204,!1)}function YN(t){if(t.length>0)throw new z(204,!1);let n=sN(t);return n!==null?()=>n.factory(t):()=>new t}function ZN(t){if(bD(t))return co(void 0,t.useValue);{let e=CD(t);return co(e,Ou)}}function CD(t,e,n){let r;if(mo(t)){let i=ft(t);return po(i)||mp(i)}else if(bD(t))r=()=>ft(t.useValue);else if(WN(t))r=()=>t.useFactory(...fp(t.deps||[]));else if(GN(t))r=()=>V(ft(t.useExisting));else{let i=ft(t&&(t.useClass||t.provide));if(JN(t))r=()=>new i(...fp(t.deps));else return po(i)||mp(i)}return r}function co(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function JN(t){return!!t.deps}function XN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ex(t){return typeof t=="function"||typeof t=="object"&&t instanceof F}function yp(t,e){for(let n of t)Array.isArray(n)?yp(n,e):n&&iD(n)?yp(n.\u0275providers,e):e(n)}function Qt(t,e){t instanceof Xs&&t.assertNotDestroyed();let n,r=dr(t),i=Ft(void 0);try{return e()}finally{dr(r),Ft(i)}}function TD(){return sD()!==void 0||vN()!=null}function SD(t){if(!TD())throw new z(-203,!1)}function tx(t){return typeof t=="function"}var On=0,ae=1,Z=2,gt=3,Wt=4,_t=5,yo=6,Hu=7,Ct=8,vo=9,Mn=10,We=11,ea=12,bE=13,la=14,Tt=15,_o=16,uo=17,Io=18,ll=19,AD=20,hr=21,Xf=22,Vt=23,Kt=25,RD=1;var ti=7,zu=8,qu=9,pt=10,Gu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Gu||{});function fr(t){return Array.isArray(t)&&typeof t[RD]=="object"}function kn(t){return Array.isArray(t)&&t[RD]===!0}function MD(t){return(t.flags&4)!==0}function dl(t){return t.componentOffset>-1}function sg(t){return(t.flags&1)===1}function mr(t){return!!t.template}function vp(t){return(t[Z]&512)!==0}var _p=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ND(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function So(){return xD}function xD(t){return t.type.prototype.ngOnChanges&&(t.setInput=rx),nx}So.ngInherit=!0;function nx(){let t=OD(this),e=t?.current;if(e){let n=t.previous;if(n===go)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function rx(t,e,n,r,i){let o=this.declaredInputs[r],s=OD(t)||ix(t,{previous:go,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new _p(l&&l.currentValue,n,u===go),ND(t,e,i,n)}var PD="__ngSimpleChanges__";function OD(t){return t[PD]||null}function ix(t,e){return t[PD]=e}var CE=null;var on=function(t,e,n){CE?.(t,e,n)},ox="svg",sx="math";function cn(t){for(;Array.isArray(t);)t=t[On];return t}function kD(t,e){return cn(e[t])}function Yt(t,e){return cn(e[t.index])}function ag(t,e){return t.data[e]}function Ir(t,e){let n=e[t];return fr(n)?n:n[On]}function cg(t){return(t[Z]&128)===128}function ax(t){return kn(t[gt])}function ta(t,e){return e==null?null:t[e]}function FD(t){t[uo]=0}function LD(t){t[Z]&1024||(t[Z]|=1024,cg(t)&&fl(t))}function hl(t){return!!(t[Z]&9216||t[Vt]?.dirty)}function Ip(t){t[Mn].changeDetectionScheduler?.notify(8),t[Z]&64&&(t[Z]|=1024),hl(t)&&fl(t)}function fl(t){t[Mn].changeDetectionScheduler?.notify(0);let e=ni(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!cg(e)));)e=ni(e)}function VD(t,e){if((t[Z]&256)===256)throw new z(911,!1);t[hr]===null&&(t[hr]=[]),t[hr].push(e)}function cx(t,e){if(t[hr]===null)return;let n=t[hr].indexOf(e);n!==-1&&t[hr].splice(n,1)}function ni(t){let e=t[gt];return kn(e)?e[gt]:e}var ge={lFrame:QD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var jD=!1;function ux(){return ge.lFrame.elementDepthCount}function lx(){ge.lFrame.elementDepthCount++}function dx(){ge.lFrame.elementDepthCount--}function UD(){return ge.bindingsEnabled}function BD(){return ge.skipHydrationRootTNode!==null}function hx(t){return ge.skipHydrationRootTNode===t}function fx(){ge.skipHydrationRootTNode=null}function Te(){return ge.lFrame.lView}function Rt(){return ge.lFrame.tView}function Mt(){let t=$D();for(;t!==null&&t.type===64;)t=t.parent;return t}function $D(){return ge.lFrame.currentTNode}function px(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function da(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function HD(){return ge.lFrame.isParent}function zD(){ge.lFrame.isParent=!1}function qD(){return jD}function TE(t){jD=t}function gx(t){return ge.lFrame.bindingIndex=t}function ug(){return ge.lFrame.bindingIndex++}function mx(t){let e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function yx(){return ge.lFrame.inI18n}function vx(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,wp(e)}function _x(){return ge.lFrame.currentDirectiveIndex}function wp(t){ge.lFrame.currentDirectiveIndex=t}function Ix(t){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function GD(t){ge.lFrame.currentQueryIndex=t}function wx(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[_t]:null}function WD(t,e,n){if(n&se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=wx(o),i===null||(o=o[la],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ge.lFrame=KD();return r.currentTNode=e,r.lView=t,!0}function lg(t){let e=KD(),n=t[ae];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function KD(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?QD(t):e}function QD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function YD(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ZD=YD;function dg(){let t=YD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ci(){return ge.lFrame.selectedIndex}function ri(t){ge.lFrame.selectedIndex=t}function JD(){let t=ge.lFrame;return ag(t.tView,t.selectedIndex)}function Ex(){return ge.lFrame.currentNamespace}var XD=!0;function hg(){return XD}function fg(t){XD=t}function Dx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=xD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function pg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function ku(t,e,n){eb(t,e,3,n)}function Fu(t,e,n,r){(t[Z]&3)===n&&eb(t,e,n,r)}function ep(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function eb(t,e,n,r){let i=r!==void 0?t[uo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[uo]+=65536),(a<o||o==-1)&&(bx(t,n,e,u),t[uo]=(t[uo]&4294901760)+u+2),u++}function SE(t,e){on(4,t,e);let n=he(null);try{e.call(t)}finally{he(n),on(5,t,e)}}function bx(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Z]>>14<t[uo]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,SE(a,o)):SE(a,o)}var fo=-1,ii=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Cx(t){return t instanceof ii}function Tx(t){return(t.flags&8)!==0}function Sx(t){return(t.flags&16)!==0}var tp={},Ep=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=cl(r);let i=this.injector.get(e,tp,r);return i!==tp||n===tp?i:this.parentInjector.get(e,n,r)}};function tb(t){return t!==fo}function Wu(t){return t&32767}function Ax(t){return t>>16}function Ku(t,e){let n=Ax(t),r=e;for(;n>0;)r=r[la],n--;return r}var Dp=!0;function AE(t){let e=Dp;return Dp=t,e}var Rx=256,nb=Rx-1,rb=5,Mx=0,sn={};function Nx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ys)&&(r=n[Ys]),r==null&&(r=n[Ys]=Mx++);let i=r&nb,o=1<<i;e.data[t+(i>>rb)]|=o}function Qu(t,e){let n=ib(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,np(r.data,t),np(e,null),np(r.blueprint,null));let i=gg(t,e),o=t.injectorIndex;if(tb(i)){let s=Wu(i),a=Ku(i,e),u=a[ae].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function np(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ib(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function gg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ub(i),r===null)return fo;if(n++,i=i[la],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return fo}function bp(t,e,n){Nx(t,e,n)}function ob(t,e,n){if(n&se.Optional||t!==void 0)return t;tg(e,"NodeInjector")}function sb(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[vo],o=Ft(void 0);try{return i?i.get(e,r,n&se.Optional):aD(e,r,n&se.Optional)}finally{Ft(o)}}return ob(r,e,n)}function ab(t,e,n,r=se.Default,i){if(t!==null){if(e[Z]&2048&&!(r&se.Self)){let s=Fx(t,e,n,r,sn);if(s!==sn)return s}let o=cb(t,e,n,r,sn);if(o!==sn)return o}return sb(e,n,r,i)}function cb(t,e,n,r,i){let o=Ox(n);if(typeof o=="function"){if(!WD(e,t,r))return r&se.Host?ob(i,n,r):sb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&se.Optional))tg(n);else return s}finally{ZD()}}else if(typeof o=="number"){let s=null,a=ib(t,e),u=fo,l=r&se.Host?e[Tt][_t]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?gg(t,e):e[a+8],u===fo||!ME(r,!1)?a=-1:(s=e[ae],a=Wu(u),e=Ku(u,e)));a!==-1;){let h=e[ae];if(RE(o,a,h.data)){let p=xx(a,e,n,s,r,l);if(p!==sn)return p}u=e[a+8],u!==fo&&ME(r,e[ae].data[a+8]===l)&&RE(o,a,e)?(s=h,a=Wu(u),e=Ku(u,e)):a=-1}}return i}function xx(t,e,n,r,i,o){let s=e[ae],a=s.data[t+8],u=r==null?dl(a)&&Dp:r!=s&&(a.type&3)!==0,l=i&se.Host&&o===a,h=Px(a,s,n,u,l);return h!==null?wo(e,s,h,a):sn}function Px(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=s[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=s[u];if(y&&mr(y)&&y.type===n)return u}return null}function wo(t,e,n,r){let i=t[n],o=e.data;if(Cx(i)){let s=i;s.resolving&&fN(hN(o[n]));let a=AE(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Ft(s.injectImpl):null,h=WD(t,r,se.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&Dx(n,o[n],e)}finally{l!==null&&Ft(l),AE(a),s.resolving=!1,ZD()}}return i}function Ox(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ys)?t[Ys]:void 0;return typeof e=="number"?e>=0?e&nb:kx:e}function RE(t,e,n){let r=1<<t;return!!(n[e+(t>>rb)]&r)}function ME(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var Xr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ab(this._tNode,this._lView,e,cl(r),n)}};function kx(){return new Xr(Mt(),Te())}function Fn(t){return ca(()=>{let e=t.prototype.constructor,n=e[ju]||Cp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ju]||Cp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Cp(t){return eD(t)?()=>{let e=Cp(ft(t));return e&&e()}:po(t)}function Fx(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!(s[Z]&512);){let a=cb(o,s,n,r|se.Self,sn);if(a!==sn)return a;let u=o.parent;if(!u){let l=s[AD];if(l){let h=l.get(n,sn,r);if(h!==sn)return h}u=ub(s),s=s[la]}o=u}return i}function ub(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[_t]:null}function NE(t,e=null,n=null,r){let i=lb(t,e,n,r);return i.resolveInjectorInitializers(),i}function lb(t,e=null,n=null,r,i=new Set){let o=[n||Lt,zN(t)];return r=r||(typeof t=="object"?void 0:yt(t)),new Xs(o,e||og(),r||null,i)}var St=class t{static{this.THROW_IF_NOT_FOUND=Zs}static{this.NULL=new $u}static create(e,n){if(Array.isArray(e))return NE({name:""},n,e,"");{let r=e.name??"";return NE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=B({token:t,providedIn:"any",factory:()=>V(dD)})}static{this.__NG_ELEMENT_ID__=-1}};var Lx=new F("");Lx.__NG_ELEMENT_ID__=t=>{let e=Mt();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(t&se.Optional)return null;throw new z(204,!1)};var Vx="ngOriginalError";function rp(t){return t[Vx]}var db=!0,ha=(()=>{class t{static{this.__NG_ELEMENT_ID__=jx}static{this.__NG_ENV_ID__=n=>n}}return t})(),Tp=class extends ha{constructor(e){super(),this._lView=e}onDestroy(e){return VD(this._lView,e),()=>cx(this._lView,e)}};function jx(){return new Tp(Te())}var wr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Le(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Sp=class extends ze{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,TD()&&(this.destroyRef=x(ha,{optional:!0})??void 0,this.pendingTasks=x(wr,{optional:!0})??void 0)}emit(e){let n=he(null);try{super.next(e)}finally{he(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof xe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ge=Sp;function Yu(...t){}function hb(t){let e,n;function r(){t=Yu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function xE(t){return queueMicrotask(()=>t()),()=>{t=Yu}}var mg="isAngularZone",Zu=mg+"_ID",Ux=0,_e=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=db}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Hx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(mg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Bx,Yu,Yu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Bx={};function yg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $x(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){hb(()=>{t.callbackScheduled=!1,Ap(t),t.isCheckStableRunning=!0,yg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ap(t)}function Hx(t){let e=()=>{$x(t)},n=Ux++;t._inner=t._inner.fork({name:"angular",properties:{[mg]:!0,[Zu]:n,[Zu+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(zx(u))return r.invokeTask(o,s,a,u);try{return PE(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),OE(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return PE(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!qx(u)&&e(),OE(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ap(t),yg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ap(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function PE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function OE(t){t._nesting--,yg(t)}var Rp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function zx(t){return fb(t,"__ignore_ng_zone__")}function qx(t){return fb(t,"__scheduler_tick__")}function fb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Nn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&rp(e);for(;n&&rp(n);)n=rp(n);return n||null}},Gx=new F("",{providedIn:"root",factory:()=>{let t=x(_e),e=x(Nn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Wx(){return vg(Mt(),Te())}function vg(t,e){return new Ln(Yt(t,e))}var Ln=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Wx}}return t})();function pb(t){return(t.flags&128)===128}var gb=new Map,Kx=0;function Qx(){return Kx++}function Yx(t){gb.set(t[ll],t)}function Mp(t){gb.delete(t[ll])}var kE="__ngContext__";function oi(t,e){fr(e)?(t[kE]=e[ll],Yx(e)):t[kE]=e}function mb(t){return vb(t[ea])}function yb(t){return vb(t[Wt])}function vb(t){for(;t!==null&&!kn(t);)t=t[Wt];return t}var Np;function _b(t){Np=t}function Zx(){if(Np!==void 0)return Np;if(typeof document<"u")return document;throw new z(210,!1)}var _g=new F("",{providedIn:"root",factory:()=>Jx}),Jx="ng",Ig=new F(""),ln=new F("",{providedIn:"platform",factory:()=>"unknown"});var wg=new F("",{providedIn:"root",factory:()=>Zx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Xx="h",eP="b";var tP=()=>null;function Eg(t,e,n=!1){return tP(t,e,n)}var Ib=!1,nP=new F("",{providedIn:"root",factory:()=>Ib});var xp=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nN})`}};function Dg(t){return t instanceof xp?t.changingThisBreaksApplicationSecurity:t}function wb(t){return t instanceof Function?t():t}var xn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(xn||{}),rP;function bg(t,e){return rP(t,e)}function lo(t,e,n,r,i){if(r!=null){let o,s=!1;kn(r)?o=r:fr(r)&&(s=!0,r=r[On]);let a=cn(r);t===0&&n!==null?i==null?Tb(e,n,a):Ju(e,n,a,i||null,!0):t===1&&n!==null?Ju(e,n,a,i||null,!0):t===2?mP(e,a,s):t===3&&e.destroyNode(a),o!=null&&vP(e,t,o,n,i)}}function iP(t,e){return t.createText(e)}function oP(t,e,n){t.setValue(e,n)}function Eb(t,e,n){return t.createElement(e,n)}function sP(t,e){Db(t,e),e[On]=null,e[_t]=null}function aP(t,e,n,r,i,o){r[On]=i,r[_t]=e,gl(t,r,n,1,i,o)}function Db(t,e){e[Mn].changeDetectionScheduler?.notify(9),gl(t,e,e[We],2,null,null)}function cP(t){let e=t[ea];if(!e)return ip(t[ae],t);for(;e;){let n=null;if(fr(e))n=e[ea];else{let r=e[pt];r&&(n=r)}if(!n){for(;e&&!e[Wt]&&e!==t;)fr(e)&&ip(e[ae],e),e=e[gt];e===null&&(e=t),fr(e)&&ip(e[ae],e),n=e&&e[Wt]}e=n}}function uP(t,e,n,r){let i=pt+r,o=n.length;r>0&&(n[i-1][Wt]=e),r<o-pt?(e[Wt]=n[i],lD(n,pt+r,e)):(n.push(e),e[Wt]=null),e[gt]=n;let s=e[_o];s!==null&&n!==s&&bb(s,e);let a=e[Io];a!==null&&a.insertView(t),Ip(e),e[Z]|=128}function bb(t,e){let n=t[qu],r=e[gt];if(fr(r))t[Z]|=Gu.HasTransplantedViews;else{let i=r[gt][Tt];e[Tt]!==i&&(t[Z]|=Gu.HasTransplantedViews)}n===null?t[qu]=[e]:n.push(e)}function Cg(t,e){let n=t[qu],r=n.indexOf(e);n.splice(r,1)}function na(t,e){if(t.length<=pt)return;let n=pt+e,r=t[n];if(r){let i=r[_o];i!==null&&i!==t&&Cg(i,r),e>0&&(t[n-1][Wt]=r[Wt]);let o=Bu(t,pt+e);sP(r[ae],r);let s=o[Io];s!==null&&s.detachView(o[ae]),r[gt]=null,r[Wt]=null,r[Z]&=-129}return r}function pl(t,e){if(!(e[Z]&256)){let n=e[We];n.destroyNode&&gl(t,e,n,3,null,null),cP(e)}}function ip(t,e){if(e[Z]&256)return;let n=he(null);try{e[Z]&=-129,e[Z]|=256,e[Vt]&&Af(e[Vt]),dP(t,e),lP(t,e),e[ae].type===1&&e[We].destroy();let r=e[_o];if(r!==null&&kn(e[gt])){r!==e[gt]&&Cg(r,e);let i=e[Io];i!==null&&i.detachView(t)}Mp(e)}finally{he(n)}}function lP(t,e){let n=t.cleanup,r=e[Hu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Hu]=null);let i=e[hr];if(i!==null){e[hr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function dP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ii)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];on(4,a,u);try{u.call(a)}finally{on(5,a,u)}}else{on(4,i,o);try{o.call(i)}finally{on(5,i,o)}}}}}function Cb(t,e,n){return hP(t,e.parent,n)}function hP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[On];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===an.None||o===an.Emulated)return null}return Yt(r,n)}}function Ju(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Tb(t,e,n){t.appendChild(e,n)}function FE(t,e,n,r,i){r!==null?Ju(t,e,n,r,i):Tb(t,e,n)}function Sb(t,e){return t.parentNode(e)}function fP(t,e){return t.nextSibling(e)}function Ab(t,e,n){return gP(t,e,n)}function pP(t,e,n){return t.type&40?Yt(t,n):null}var gP=pP,LE;function Tg(t,e,n,r){let i=Cb(t,r,e),o=e[We],s=r.parent||e[_t],a=Ab(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)FE(o,i,n[u],a,!1);else FE(o,i,n,a,!1);LE!==void 0&&LE(o,r,e,n,i)}function Ks(t,e){if(e!==null){let n=e.type;if(n&3)return Yt(e,t);if(n&4)return Pp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ks(t,r);{let i=t[e.index];return kn(i)?Pp(-1,i):cn(i)}}else{if(n&128)return Ks(t,e.next);if(n&32)return bg(e,t)()||cn(t[e.index]);{let r=Rb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ni(t[Tt]);return Ks(i,r)}else return Ks(t,e.next)}}}return null}function Rb(t,e){if(e!==null){let r=t[Tt][_t],i=e.projection;return r.projection[i]}return null}function Pp(t,e){let n=pt+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return Ks(r,i)}return e[ti]}function mP(t,e,n){t.removeChild(null,e,n)}function Sg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&oi(cn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Sg(t,e,n.child,r,i,o,!1),lo(e,t,i,a,o);else if(u&32){let l=bg(n,r),h;for(;h=l();)lo(e,t,i,h,o);lo(e,t,i,a,o)}else u&16?Mb(t,e,r,n,i,o):lo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function gl(t,e,n,r,i,o){Sg(n,r,t.firstChild,e,i,o,!1)}function yP(t,e,n){let r=e[We],i=Cb(t,n,e),o=n.parent||e[_t],s=Ab(o,n,e);Mb(r,0,e,n,i,s)}function Mb(t,e,n,r,i,o){let s=n[Tt],u=s[_t].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];lo(e,t,i,h,o)}else{let l=u,h=s[gt];pb(r)&&(l.flags|=128),Sg(t,e,l,h,i,o,!0)}}function vP(t,e,n,r,i){let o=n[ti],s=cn(n);o!==s&&lo(e,t,r,o,i);for(let a=pt;a<n.length;a++){let u=n[a];gl(u[ae],u,t,e,r,o)}}function _P(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:xn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=xn.Important),t.setStyle(n,r,i,o))}}function IP(t,e,n){t.setAttribute(e,"style",n)}function Nb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function xb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&pp(t,e,r),i!==null&&Nb(t,e,i),o!==null&&IP(t,e,o)}var ui={};function Er(t=1){Pb(Rt(),Te(),ci()+t,!1)}function Pb(t,e,n,r){if(!r)if((e[Z]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ku(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Fu(e,o,0,n)}ri(n)}function ue(t,e=se.Default){let n=Te();if(n===null)return V(t,e);let r=Mt();return ab(r,n,ft(t),e)}function Ob(t,e,n,r,i,o){let s=he(null);try{let a=null;i&gr.SignalBased&&(a=e[r][Sn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&gr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):ND(e,a,r,o)}finally{he(s)}}function wP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ri(~i);else{let o=i,s=n[++r],a=n[++r];vx(s,o);let u=e[o];a(2,u)}}}finally{ri(-1)}}function ml(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[On]=i,p[Z]=r|4|128|8|64,(l!==null||t&&t[Z]&2048)&&(p[Z]|=2048),FD(p),p[gt]=p[la]=t,p[Ct]=n,p[Mn]=s||t&&t[Mn],p[We]=a||t&&t[We],p[vo]=u||t&&t[vo]||null,p[_t]=o,p[ll]=Qx(),p[yo]=h,p[AD]=l,p[Tt]=e.type==2?t[Tt]:p,p}function fa(t,e,n,r,i){let o=t.data[e];if(o===null)o=EP(t,e,n,r,i),yx()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=px();o.injectorIndex=s===null?-1:s.injectorIndex}return da(o,!0),o}function EP(t,e,n,r,i){let o=$D(),s=HD(),a=s?o:o&&o.parent,u=t.data[e]=SP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function kb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Fb(t,e,n,r,i){let o=ci(),s=r&2;try{ri(-1),s&&e.length>Kt&&Pb(t,e,Kt,!1),on(s?2:0,i),n(r,i)}finally{ri(o),on(s?3:1,i)}}function Lb(t,e,n){if(MD(e)){let r=he(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{he(r)}}}function Vb(t,e,n){UD()&&(PP(t,e,n,Yt(n,e)),(n.flags&64)===64&&zb(t,e,n))}function jb(t,e,n=Yt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Ub(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ag(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ag(t,e,n,r,i,o,s,a,u,l,h){let p=Kt+r,m=p+i,y=DP(p,m),C=typeof l=="function"?l():l;return y[ae]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function DP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ui);return n}function bP(t,e,n,r){let o=r.get(nP,Ib)||n===an.ShadowDom,s=t.selectRootElement(e,o);return CP(s),s}function CP(t){TP(t)}var TP=()=>null;function SP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return BD()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function VE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=gr.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?jE(r,n,l,a,u):jE(r,n,l,a)}return r}function jE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function AP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,C=m?m.outputs:null;u=VE(0,p.inputs,h,u,y),l=VE(1,p.outputs,h,l,C);let M=u!==null&&s!==null&&!rg(e)?$P(u,h,s):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function RP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Bb(t,e,n,r,i,o,s,a){let u=Yt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Rg(t,n,h,r,i),dl(e)&&MP(n,e.index)):e.type&3?(r=RP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function MP(t,e){let n=Ir(e,t);n[Z]&16||(n[Z]|=64)}function $b(t,e,n,r){if(UD()){let i=r===null?null:{"":-1},o=kP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Hb(t,e,n,s,i,a),i&&FP(n,r,i)}n.mergedAttrs=Js(n.mergedAttrs,n.attrs)}function Hb(t,e,n,r,i,o){for(let l=0;l<r.length;l++)bp(Qu(n,e),t,r[l].type);VP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=kb(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Js(n.mergedAttrs,h.hostAttrs),jP(t,n,e,u,h),LP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}AP(t,n,o)}function NP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;xP(s)!=a&&s.push(a),s.push(n,r,o)}}function xP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function PP(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;dl(n)&&UP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Qu(n,e),oi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=wo(e,t,a,n);if(oi(l,e),s!==null&&BP(e,a-i,l,u,n,s),mr(u)){let h=Ir(n.index,e);h[Ct]=wo(e,t,a,n)}}}function zb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=_x();try{ri(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];wp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&OP(u,l)}}finally{ri(-1),wp(s)}}function OP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function kP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(gD(e,s.selectors,!1))if(r||(r=[]),mr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Op(t,e,u)}else r.unshift(s),Op(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Op(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function FP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}}function LP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mr(e)&&(n[""]=t)}}function VP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function jP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=po(i.type,!0)),s=new ii(o,mr(i),ue);t.blueprint[r]=s,n[r]=s,NP(t,e,r,kb(t,n,i.hostVars,ui),i)}function UP(t,e,n){let r=Yt(e,t),i=Ub(n),o=t[Mn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=yl(t,ml(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function BP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];Ob(r,n,u,l,h,p)}}function $P(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function qb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Gb(t,e){let n=t.contentQueries;if(n!==null){let r=he(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];GD(o),a.contentQueries(2,e[s],s)}}}finally{he(r)}}}function yl(t,e){return t[ea]?t[bE][Wt]=e:t[ea]=e,t[bE]=e,e}function kp(t,e,n){GD(0);let r=he(null);try{e(t,n)}finally{he(r)}}function HP(t){return t[Hu]??=[]}function zP(t){return t.cleanup??=[]}function Wb(t,e){let n=t[vo],r=n?n.get(Nn,null):null;r&&r.handleError(e)}function Rg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];Ob(h,l,r,a,u,i)}}function qP(t,e,n){let r=kD(e,t);oP(t[We],r,n)}function GP(t,e){let n=Ir(e,t),r=n[ae];WP(r,n);let i=n[On];i!==null&&n[yo]===null&&(n[yo]=Eg(i,n[vo])),Mg(r,n,n[Ct])}function WP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Mg(t,e,n){lg(e);try{let r=t.viewQuery;r!==null&&kp(1,r,n);let i=t.template;i!==null&&Fb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Io]?.finishViewCreation(t),t.staticContentQueries&&Gb(t,e),t.staticViewQueries&&kp(2,t.viewQuery,n);let o=t.components;o!==null&&KP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Z]&=-5,dg()}}function KP(t,e){for(let n=0;n<e.length;n++)GP(t,e[n])}function Ng(t,e,n,r){let i=he(null);try{let o=e.tView,a=t[Z]&4096?4096:16,u=ml(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[_o]=l;let h=t[Io];return h!==null&&(u[Io]=h.createEmbeddedView(o)),Mg(o,u,n),u}finally{he(i)}}function QP(t,e){let n=pt+e;if(n<t.length)return t[n]}function ra(t,e){return!e||e.firstChild===null||pb(t)}function vl(t,e,n,r=!0){let i=e[ae];if(uP(i,e,t,n),r){let s=Pp(n,t),a=e[We],u=Sb(a,t[ti]);u!==null&&aP(i,t[_t],a,e,u,s)}let o=e[yo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function YP(t,e){let n=na(t,e);return n!==void 0&&pl(n[ae],n),n}function Xu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(cn(o)),kn(o)&&ZP(o,r);let s=n.type;if(s&8)Xu(t,e,n.child,r);else if(s&32){let a=bg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Rb(e,n);if(Array.isArray(a))r.push(...a);else{let u=ni(e[Tt]);Xu(u[ae],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ZP(t,e){for(let n=pt;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&Xu(r[ae],r,i,e)}t[ti]!==t[On]&&e.push(t[ti])}var Kb=[];function JP(t){return t[Vt]??XP(t)}function XP(t){let e=Kb.pop()??Object.create(tO);return e.lView=t,e}function eO(t){t.lView[Vt]!==t&&(t.lView=null,Kb.push(t))}var tO=te(P({},zs),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{fl(t.lView)},consumerOnSignalRead(){this.lView[Vt]=this}});function nO(t){let e=t[Vt]??Object.create(rO);return e.lView=t,e}var rO=te(P({},zs),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ni(t.lView);for(;e&&!Qb(e[ae]);)e=ni(e);e&&LD(e)},consumerOnSignalRead(){this.lView[Vt]=this}});function Qb(t){return t.type!==2}var iO=100;function Yb(t,e=!0,n=0){let r=t[Mn],i=r.rendererFactory,o=!1;o||i.begin?.();try{oO(t,n)}catch(s){throw e&&Wb(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function oO(t,e){let n=qD();try{TE(!0),Fp(t,e);let r=0;for(;hl(t);){if(r===iO)throw new z(103,!1);r++,Fp(t,1)}}finally{TE(n)}}function sO(t,e,n,r){let i=e[Z];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Mn].inlineEffectRunner?.flush(),lg(e);let a=!0,u=null,l=null;o||(Qb(t)?(l=JP(e),u=nu(l)):Mw()===null?(a=!1,l=nO(e),u=nu(l)):e[Vt]&&(Af(e[Vt]),e[Vt]=null));try{FD(e),gx(t.bindingStartIndex),n!==null&&Fb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&ku(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Fu(e,y,0,null),ep(e,0)}if(s||aO(e),Zb(e,0),t.contentQueries!==null&&Gb(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&ku(e,y)}else{let y=t.contentHooks;y!==null&&Fu(e,y,1),ep(e,1)}wP(t,e);let p=t.components;p!==null&&Xb(e,p,0);let m=t.viewQuery;if(m!==null&&kp(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&ku(e,y)}else{let y=t.viewHooks;y!==null&&Fu(e,y,2),ep(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Xf]){for(let y of e[Xf])y();e[Xf]=null}o||(e[Z]&=-73)}catch(h){throw o||fl(e),h}finally{l!==null&&(Tf(l,u),a&&eO(l)),dg()}}function Zb(t,e){for(let n=mb(t);n!==null;n=yb(n))for(let r=pt;r<n.length;r++){let i=n[r];Jb(i,e)}}function aO(t){for(let e=mb(t);e!==null;e=yb(e)){if(!(e[Z]&Gu.HasTransplantedViews))continue;let n=e[qu];for(let r=0;r<n.length;r++){let i=n[r];LD(i)}}}function cO(t,e,n){let r=Ir(e,t);Jb(r,n)}function Jb(t,e){cg(t)&&Fp(t,e)}function Fp(t,e){let r=t[ae],i=t[Z],o=t[Vt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Sf(o)),s||=!1,o&&(o.dirty=!1),t[Z]&=-9217,s)sO(r,t,r.template,t[Ct]);else if(i&8192){Zb(t,1);let a=r.components;a!==null&&Xb(t,a,1)}}function Xb(t,e,n){for(let r=0;r<e.length;r++)cO(t,e[r],n)}function xg(t,e){let n=qD()?64:1088;for(t[Mn].changeDetectionScheduler?.notify(e);t;){t[Z]|=n;let r=ni(t);if(vp(t)&&!r)return t;t=r}return null}var Eo=class{get rootNodes(){let e=this._lView,n=e[ae];return Xu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ct]}set context(e){this._lView[Ct]=e}get destroyed(){return(this._lView[Z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gt];if(kn(e)){let n=e[zu],r=n?n.indexOf(this):-1;r>-1&&(na(e,r),Bu(n,r))}this._attachedToViewContainer=!1}pl(this._lView[ae],this._lView)}onDestroy(e){VD(this._lView,e)}markForCheck(){xg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){Ip(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,Yb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=vp(this._lView),n=this._lView[_o];n!==null&&!e&&Cg(n,this._lView),Db(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let n=vp(this._lView),r=this._lView[_o];r!==null&&!n&&bb(r,this._lView),Ip(this._lView)}};var b9=new RegExp(`^(\\d+)*(${eP}|${Xx})*(.*)`);var uO=()=>null;function ia(t,e){return uO(t,e)}var Do=class{},_l=new F("",{providedIn:"root",factory:()=>!1});var eC=new F(""),tC=new F(""),Lp=class{},el=class{};function lO(t){let e=Error(`No component factory found for ${yt(t)}.`);return e[dO]=t,e}var dO="ngComponent";var Vp=class{resolveComponentFactory(e){throw lO(e)}},bo=class{static{this.NULL=new Vp}},Co=class{},Dr=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>hO()}}return t})();function hO(){let t=Te(),e=Mt(),n=Ir(e.index,t);return(fr(n)?n:t)[We]}var fO=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>null})}}return t})();function jp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=pE(i,a);else if(o==2){let u=a,l=e[++s];r=pE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var tl=class extends bo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ei(e);return new oa(n,this.ngModule)}};function UE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:gr.None;e?n.push({propName:s,templateName:r,isSignal:(a&gr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function pO(t){let e=t.toLowerCase();return e==="svg"?ox:e==="math"?sx:null}var oa=class extends el{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=UE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return UE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=jN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=he(null);try{i=i||this.ngModule;let s=i instanceof vt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ep(e,s):e,u=a.get(Co,null);if(u===null)throw new z(407,!1);let l=a.get(fO,null),h=a.get(Do,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?bP(m,r,this.componentDef.encapsulation,a):Eb(m,y,pO(y)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let A=null;C!==null&&(A=Eg(C,a,!0));let k=Ag(0,null,null,1,0,null,null,null,null,null,null),$=ml(null,k,null,M,null,null,p,m,a,null,A);lg($);let j,X,ve=null;try{let G=this.componentDef,E,v=null;G.findHostDirectiveDefs?(E=[],v=new Map,G.findHostDirectiveDefs(G,E,v),E.push(G)):E=[G];let _=gO($,C);ve=mO(_,C,G,E,$,p,m),X=ag(k,Kt),C&&_O(m,G,C,r),n!==void 0&&IO(X,this.ngContentSelectors,n),j=vO(ve,G,E,v,$,[wO]),Mg(k,$,null)}catch(G){throw ve!==null&&Mp(ve),Mp($),G}finally{dg()}return new Up(this.componentType,j,vg(X,$),$,X)}finally{he(o)}}},Up=class extends Lp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Eo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Rg(o[ae],o,i,e,n),this.previousInputValues.set(e,n);let s=Ir(this._tNode.index,o);xg(s,1)}}get injector(){return new Xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function gO(t,e){let n=t[ae],r=Kt;return t[r]=e,fa(n,r,2,"#host",null)}function mO(t,e,n,r,i,o,s){let a=i[ae];yO(r,t,e,s);let u=null;e!==null&&(u=Eg(e,i[vo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=ml(i,Ub(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Op(a,t,r.length-1),yl(i,p),i[t.index]=p}function yO(t,e,n,r){for(let i of t)e.mergedAttrs=Js(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(jp(e,e.mergedAttrs,!0),n!==null&&xb(r,n,e))}function vO(t,e,n,r,i,o){let s=Mt(),a=i[ae],u=Yt(s,i);Hb(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=wo(i,a,p,s);oi(m,i)}zb(a,i,s),u&&oi(u,i);let l=wo(i,a,s.directiveStart+s.componentOffset,s);if(t[Ct]=i[Ct]=l,o!==null)for(let h of o)h(l,e);return Lb(a,s,i),l}function _O(t,e,n,r){if(r)pp(t,n,["ng-version","18.2.8"]);else{let{attrs:i,classes:o}=UN(e.selectors[0]);i&&pp(t,n,i),o&&o.length>0&&Nb(t,n,o.join(" "))}}function IO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function wO(){let t=Mt();pg(Te()[ae],t)}var Il=(()=>{class t{static{this.__NG_ELEMENT_ID__=EO}}return t})();function EO(){let t=Mt();return bO(t,Te())}var DO=Il,nC=class extends DO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return vg(this._hostTNode,this._hostLView)}get injector(){return new Xr(this._hostTNode,this._hostLView)}get parentInjector(){let e=gg(this._hostTNode,this._hostLView);if(tb(e)){let n=Ku(e,this._hostLView),r=Wu(e),i=n[ae].data[r+8];return new Xr(i,n)}else return new Xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=BE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ia(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ra(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!tx(e),a;if(s)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new oa(ei(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(vt,null);M&&(o=M)}let h=ei(u.componentType??{}),p=ia(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,ra(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ax(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[gt],l=new nC(u,u[_t],u[gt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return vl(s,i,o,r),e.attachToViewContainerRef(),lD(op(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=BE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=na(this._lContainer,n);r&&(Bu(op(this._lContainer),n),pl(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=na(this._lContainer,n);return r&&Bu(op(this._lContainer),n)!=null?new Eo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function BE(t){return t[zu]}function op(t){return t[zu]||(t[zu]=[])}function bO(t,e){let n,r=e[t.index];return kn(r)?n=r:(n=qb(r,e,null,t),e[t.index]=n,yl(e,n)),TO(n,e,t,r),new nC(n,t,e)}function CO(t,e){let n=t[We],r=n.createComment(""),i=Yt(e,t),o=Sb(n,i);return Ju(n,o,r,fP(n,i),!1),r}var TO=RO,SO=()=>!1;function AO(t,e,n){return SO(t,e,n)}function RO(t,e,n,r){if(t[ti])return;let i;n.type&8?i=cn(r):i=CO(e,n),t[ti]=i}var $E=new Set;function li(t){$E.has(t)||($E.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function MO(t){return typeof t=="function"&&t[Sn]!==void 0}function di(t,e){li("NgSignals");let n=Bw(t),r=n[Sn];return e?.equal&&(r.equal=e.equal),n.set=i=>Rf(r,i),n.update=i=>$w(r,i),n.asReadonly=NO.bind(n),n}function NO(){let t=this[Sn];if(t.readonlyFn===void 0){let e=()=>this();e[Sn]=t,t.readonlyFn=e}return t.readonlyFn}function rC(t){return MO(t)&&typeof t.set=="function"}function xO(t){return Object.getPrototypeOf(t.prototype).constructor}function br(t){let e=xO(t.type),n=!0,r=[t];for(;e;){let i;if(mr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Nu(t.inputs),s.inputTransforms=Nu(t.inputTransforms),s.declaredInputs=Nu(t.declaredInputs),s.outputs=Nu(t.outputs);let a=i.hostBindings;a&&LO(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&kO(t,u),l&&FO(t,l),PO(t,i),iN(t.outputs,i.outputs),mr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===br&&(n=!1)}}e=Object.getPrototypeOf(e)}OO(r)}function PO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function OO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Js(i.hostAttrs,n=Js(n,i.hostAttrs))}}function Nu(t){return t===go?{}:t===Lt?[]:t}function kO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function FO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function LO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var yr=class{},sa=class{};var Bp=class extends yr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tl(this);let o=_D(e);this._bootstrapComponents=wb(o.bootstrap),this._r3Injector=lb(e,n,[{provide:yr,useValue:this},{provide:bo,useValue:this.componentFactoryResolver},...r],yt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},$p=class extends sa{constructor(e){super(),this.moduleType=e}create(e){return new Bp(this.moduleType,e,[])}};var nl=class extends yr{constructor(e){super(),this.componentFactoryResolver=new tl(this),this.instance=null;let n=new Xs([...e.providers,{provide:yr,useValue:this},{provide:bo,useValue:this.componentFactoryResolver}],e.parent||og(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Pg(t,e,n=null){return new nl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function wl(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function VO(t){return(t.flags&32)===32}function jO(t,e,n,r,i,o,s,a,u){let l=e.consts,h=fa(e,t,4,s||null,a||null);$b(e,n,h,ta(l,u)),pg(e,h);let p=h.tView=Ag(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Hp(t,e,n,r,i,o,s,a,u,l){let h=n+Kt,p=e.firstCreatePass?jO(h,e,t,r,i,o,s,a,u):e.data[h];da(p,!1);let m=UO(e,t,p,n);hg()&&Tg(e,t,m,p),oi(m,t);let y=qb(m,t,m,p);return t[h]=y,yl(t,y),AO(y,p,t),sg(p)&&Vb(e,t,p),u!=null&&jb(t,p,l),p}var UO=BO;function BO(t,e,n,r){return fg(!0),e[We].createComment("")}var Qs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Qs||{}),$O=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})(),HE=class t{constructor(){this.ngZone=x(_e),this.scheduler=x(Do),this.errorHandler=x(Nn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Qs.EarlyRead,Qs.Write,Qs.MixedReadWrite,Qs.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}};function iC(t,e,n,r){return wl(t,ug(),n)?e+oD(n)+r:ui}function xu(t,e){return t<<17|e<<2}function si(t){return t>>17&32767}function HO(t){return(t&2)==2}function zO(t,e){return t&131071|e<<17}function zp(t){return t|2}function To(t){return(t&131068)>>2}function sp(t,e){return t&-131069|e<<2}function qO(t){return(t&1)===1}function qp(t){return t|1}function GO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=si(s),u=To(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ua(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=si(t[a+1]);t[r+1]=xu(m,a),m!==0&&(t[m+1]=sp(t[m+1],r)),t[a+1]=zO(t[a+1],r)}else t[r+1]=xu(a,0),a!==0&&(t[a+1]=sp(t[a+1],r)),a=r;else t[r+1]=xu(u,0),a===0?a=r:t[u+1]=sp(t[u+1],r),u=r;l&&(t[r+1]=zp(t[r+1])),zE(t,h,r,!0),zE(t,h,r,!1),WO(e,h,t,r,o),s=xu(a,u),o?e.classBindings=s:e.styleBindings=s}function WO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ua(o,e)>=0&&(n[r+1]=qp(n[r+1]))}function zE(t,e,n,r){let i=t[n+1],o=e===null,s=r?si(i):To(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];KO(u,e)&&(a=!0,t[s+1]=r?qp(l):zp(l)),s=r?si(l):To(l)}a&&(t[n+1]=r?zp(i):qp(i))}function KO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ua(t,e)>=0:!1}function qE(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Rg(t,n,o[s],s,r)}function Og(t,e){return QO(t,e,null,!0),Og}function QO(t,e,n,r){let i=Te(),o=Rt(),s=mx(2);if(o.firstUpdatePass&&ZO(o,t,s,r),e!==ui&&wl(i,s,e)){let a=o.data[ci()];nk(o,a,i,i[We],t,i[s+1]=rk(e,n),r,s)}}function YO(t,e){return e>=t.expandoStartIndex}function ZO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ci()],s=YO(t,n);ik(o,r)&&e===null&&!s&&(e=!1),e=JO(i,o,e,r),GO(i,o,e,n,s,r)}}function JO(t,e,n,r){let i=Ix(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ap(null,t,e,n,r),n=aa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ap(i,t,e,n,r),o===null){let u=XO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=ap(null,t,e,u[1],r),u=aa(u,e.attrs,r),ek(t,e,r,u))}else o=tk(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function XO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(To(r)!==0)return t[si(r)]}function ek(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[si(i)]=r}function tk(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=aa(r,s,n)}return aa(r,e.attrs,n)}function ap(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=aa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function aa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),CN(t,s,n?!0:e[++o]))}return t===void 0?null:t}function nk(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=qO(l)?GE(u,e,n,i,To(l),s):void 0;if(!rl(h)){rl(o)||HO(l)&&(o=GE(u,null,n,i,a,s));let p=kD(ci(),n);_P(r,s,p,i,o)}}function GE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===ui&&(m=p?Lt:void 0);let y=p?Zf(m,r):h===r?m:void 0;if(l&&!rl(y)&&(y=Zf(u,r)),rl(y)&&(a=y,s))return a;let C=t[i+1];i=s?si(C):To(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Zf(u,r))}return a}function rl(t){return t!==void 0}function rk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=yt(Dg(t)))),t}function ik(t,e){return(t.flags&(e?8:16))!==0}var Gp=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function cp(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function ok(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=cp(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let m=t.at(s),y=e[u],C=cp(s,m,u,y,n);if(C!==0){C<0&&t.updateValue(s,y),s--,u--;continue}let M=n(o,l),A=n(s,m),k=n(o,h);if(Object.is(k,A)){let $=n(u,y);Object.is($,M)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new il,i??=KE(t,o,s,n),Wp(t,r,o,k))t.updateValue(o,h),o++,s++;else if(i.has(k))r.set(M,t.detach(o)),s--;else{let $=t.create(o,e[o]);t.attach(o,$),o++,s++}}for(;o<=u;)WE(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,m=cp(o,h,o,p,n);if(m!==0)m<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new il,i??=KE(t,o,s,n);let y=n(o,p);if(Wp(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let C=n(o,h);r.set(C,t.detach(o)),s--}}}for(;!l.done;)WE(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function Wp(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function WE(t,e,n,r,i){if(Wp(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function KE(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var il=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};var Kp=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-pt}};var Qp=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function El(t,e,n,r,i,o,s,a,u,l,h,p,m){li("NgControlFlow");let y=Te(),C=Rt(),M=u!==void 0,A=Te(),k=a?s.bind(A[Tt][Ct]):s,$=new Qp(M,k);A[Kt+t]=$,Hp(y,C,t+1,e,n,r,i,ta(C.consts,o)),M&&Hp(y,C,t+2,u,l,h,p,ta(C.consts,m))}var Yp=class extends Gp{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-pt}at(e){return this.getLView(e)[Ct].$implicit}attach(e,n){let r=n[yo];this.needsIndexUpdate||=e!==this.length,vl(this.lContainer,n,e,ra(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,sk(this.lContainer,e)}create(e,n){let r=ia(this.lContainer,this.templateTNode.tView.ssrId),i=Ng(this.hostLView,this.templateTNode,new Kp(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){pl(e[ae],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ct].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ct].$index=e}getLView(e){return ak(this.lContainer,e)}};function Dl(t){let e=he(null),n=ci();try{let r=Te(),i=r[ae],o=r[n],s=n+1,a=QE(r,s);if(o.liveCollection===void 0){let l=YE(i,s);o.liveCollection=new Yp(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(ok(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=ug(),h=u.length===0;if(wl(r,l,h)){let p=n+2,m=QE(r,p);if(h){let y=YE(i,p),C=ia(m,y.tView.ssrId),M=Ng(r,y,void 0,{dehydratedView:C});vl(m,M,0,ra(y,C))}else YP(m,0)}}}finally{he(e)}}function QE(t,e){return t[e]}function sk(t,e){return na(t,e)}function ak(t,e){return QP(t,e)}function YE(t,e){return ag(t,e)}function ck(t,e,n,r,i,o){let s=e.consts,a=ta(s,i),u=fa(e,t,2,r,a);return $b(e,n,u,ta(s,o)),u.attrs!==null&&jp(u,u.attrs,!1),u.mergedAttrs!==null&&jp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Ee(t,e,n,r){let i=Te(),o=Rt(),s=Kt+t,a=i[We],u=o.firstCreatePass?ck(s,o,i,e,n,r):o.data[s],l=uk(o,i,u,a,e,t);i[s]=l;let h=sg(u);return da(u,!0),xb(a,l,u),!VO(u)&&hg()&&Tg(o,i,l,u),ux()===0&&oi(l,i),lx(),h&&(Vb(o,i,u),Lb(o,u,i)),r!==null&&jb(i,u),Ee}function ye(){let t=Mt();HD()?zD():(t=t.parent,da(t,!1));let e=t;hx(e)&&fx(),dx();let n=Rt();return n.firstCreatePass&&(pg(n,t),MD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Tx(e)&&qE(n,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Sx(e)&&qE(n,e,Te(),e.stylesWithoutHost,!1),ye}function at(t,e,n,r){return Ee(t,e,n,r),ye(),at}var uk=(t,e,n,r,i,o)=>(fg(!0),Eb(r,i,Ex()));var ol="en-US";var lk=ol;function dk(t){typeof t=="string"&&(lk=t.toLowerCase().replace(/_/g,"-"))}var hk=(t,e,n)=>{};function Ut(t,e,n,r){let i=Te(),o=Rt(),s=Mt();return oC(o,i,i[We],s,t,e,r),Ut}function fk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Hu],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function oC(t,e,n,r,i,o,s){let a=sg(r),l=t.firstCreatePass&&zP(t),h=e[Ct],p=HP(e),m=!0;if(r.type&3||s){let M=Yt(r,e),A=s?s(M):M,k=p.length,$=s?X=>s(cn(X[r.index])):r.index,j=null;if(!s&&a&&(j=fk(t,e,i,r.index)),j!==null){let X=j.__ngLastListenerFn__||j;X.__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,m=!1}else{o=JE(r,e,h,o),hk(M,i,o);let X=n.listen(A,i,o);p.push(o,X),l&&l.push(i,$,k,k+1)}}else o=JE(r,e,h,o);let y=r.outputs,C;if(m&&y!==null&&(C=y[i])){let M=C.length;if(M)for(let A=0;A<M;A+=2){let k=C[A],$=C[A+1],ve=e[k][$].subscribe(o),G=p.length;p.push(o,ve),l&&l.push(i,r.index,G,-(G+1))}}}function ZE(t,e,n,r){let i=he(null);try{return on(6,e,n),n(r)!==!1}catch(o){return Wb(t,o),!1}finally{on(7,e,n),he(i)}}function JE(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Ir(t.index,e):e;xg(s,5);let a=ZE(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=ZE(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function pk(t,e){let n=null,r=ON(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?gD(t,o,!0):LN(r,o))return i}return n}function sC(t){let e=Te()[Tt][_t];if(!e.projection){let n=t?t.length:1,r=e.projection=DN(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?pk(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function aC(t,e=0,n,r,i,o){let s=Te(),a=Rt(),u=r?t+1:null;u!==null&&Hp(s,a,u,r,i,o,null,n);let l=fa(a,Kt+t,16,null,n||null);l.projection===null&&(l.projection=e),zD();let p=!s[yo]||BD();s[Tt][_t].projection[l.projection]===null&&u!==null?gk(s,a,u):p&&(l.flags&32)!==32&&yP(a,s,l)}function gk(t,e,n){let r=Kt+n,i=e.data[r],o=t[r],s=ia(o,i.tView.ssrId),a=Ng(t,i,void 0,{dehydratedView:s});vl(o,a,0,ra(i,s))}function kg(t,e,n){return cC(t,"",e,"",n),kg}function cC(t,e,n,r,i){let o=Te(),s=iC(o,e,n,r);if(s!==ui){let a=Rt(),u=JD();Bb(a,u,o,t,s,o[We],i,!1)}return cC}function Re(t,e=""){let n=Te(),r=Rt(),i=t+Kt,o=r.firstCreatePass?fa(r,i,1,e,null):r.data[i],s=mk(r,n,o,e,t);n[i]=s,hg()&&Tg(r,n,s,o),da(o,!1)}var mk=(t,e,n,r,i)=>(fg(!0),iP(e[We],r));function hi(t){return uC("",t,""),hi}function uC(t,e,n){let r=Te(),i=iC(r,t,e,n);return i!==ui&&qP(r,ci(),i),uC}function Fg(t,e,n){rC(e)&&(e=e());let r=Te(),i=ug();if(wl(r,i,e)){let o=Rt(),s=JD();Bb(o,s,r,t,e,r[We],n,!1)}return Fg}function lC(t,e){let n=rC(t);return n&&t.set(e),n}function Lg(t,e){let n=Te(),r=Rt(),i=Mt();return oC(r,n,n[We],i,t,e),Lg}function yk(t,e,n){let r=Rt();if(r.firstCreatePass){let i=mr(t);Zp(n,r.data,r.blueprint,i,!0),Zp(e,r.data,r.blueprint,i,!1)}}function Zp(t,e,n,r,i){if(t=ft(t),Array.isArray(t))for(let o=0;o<t.length;o++)Zp(t[o],e,n,r,i);else{let o=Rt(),s=Te(),a=Mt(),u=mo(t)?t:ft(t.provide),l=CD(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(mo(t)||!t.multi){let y=new ii(l,i,ue),C=lp(u,e,i?h:h+m,p);C===-1?(bp(Qu(a,s),o,u),up(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[C]=y,s[C]=y)}else{let y=lp(u,e,h+m,p),C=lp(u,e,h,h+m),M=y>=0&&n[y],A=C>=0&&n[C];if(i&&!A||!i&&!M){bp(Qu(a,s),o,u);let k=Ik(i?_k:vk,n.length,i,r,l);!i&&A&&(n[C].providerFactory=k),up(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=dC(n[i?C:y],l,!i&&r);up(o,t,y>-1?y:C,k)}!i&&r&&A&&n[C].componentProviders++}}}function up(t,e,n,r){let i=mo(e),o=KN(e);if(i||o){let u=(o?ft(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function dC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function lp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function vk(t,e,n,r){return Jp(this.multi,[])}function _k(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=wo(n,n[ae],this.providerFactory.index,r);o=a.slice(0,s),Jp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Jp(i,o);return o}function Jp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Ik(t,e,n,r,i){let o=new ii(t,n,ue);return o.multi=[],o.index=e,o.componentProviders=0,dC(o,i,r&&!n),o}function pa(t,e=[]){return n=>{n.providersResolver=(r,i)=>yk(r,i?i(t):t,e)}}var wk=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=ED(!1,n.type),i=r.length>0?Pg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(V(vt))})}}return t})();function ke(t){li("NgStandalone"),t.getStandaloneInjector=e=>e.get(wk).getOrCreateStandaloneInjector(t)}var Pn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},hC=new Pn("18.2.8");var bl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var fC=new F("");function fi(t){return!!t&&typeof t.then=="function"}function pC(t){return!!t&&typeof t.subscribe=="function"}var gC=new F(""),mC=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=x(gC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(fi(o))n.push(o);else if(pC(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Cl=new F("");function Ek(){Uw(()=>{throw new z(600,!1)})}function Dk(t){return t.isBoundToModule}var bk=10;function Ck(t,e,n){try{let r=n();return fi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Cr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(Gx),this.afterRenderManager=x($O),this.zonelessEnabled=x(_l),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ze,this.afterTick=new ze,this.componentTypes=[],this.components=[],this.isStable=x(wr).hasPendingTasks.pipe(W(n=>!n)),this._injector=x(vt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof el;if(!this._injector.get(mC).done){let m=!i&&vD(n),y=!1;throw new z(405,y)}let s;i?s=n:s=this._injector.get(bo).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Dk(s)?void 0:this._injector.get(yr),u=r||s.selector,l=s.create(St.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(fC,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Lu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new z(101,!1);let n=he(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,he(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Co,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<bk;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)Tk(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>hl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Lu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Cl,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Lu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Lu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Tk(t,e,n,r){if(!n&&!hl(t))return;Yb(t,e,n&&!r?0:1)}var Xp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Vg=(()=>{class t{compileModuleSync(n){return new $p(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=_D(n),o=wb(i.declarations).reduce((s,a)=>{let u=ei(a);return u&&s.push(new oa(u)),s},[]);return new Xp(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Sk=(()=>{class t{constructor(){this.zone=x(_e),this.changeDetectionScheduler=x(Do),this.applicationRef=x(Cr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ak=new F("",{factory:()=>!1});function yC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new _e(te(P({},_C()),{scheduleInRootZone:n})),[{provide:_e,useFactory:t},{provide:pr,multi:!0,useFactory:()=>{let r=x(Sk,{optional:!0});return()=>r.initialize()}},{provide:pr,multi:!0,useFactory:()=>{let r=x(Rk);return()=>{r.initialize()}}},e===!0?{provide:eC,useValue:!0}:[],{provide:tC,useValue:n??db}]}function vC(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=yC({ngZoneFactory:()=>{let i=_C(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&li("NgZone_CoalesceEvent"),new _e(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return jt([{provide:Ak,useValue:!0},{provide:_l,useValue:!1},r])}function _C(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Rk=(()=>{class t{constructor(){this.subscription=new xe,this.initialized=!1,this.zone=x(_e),this.pendingTasks=x(wr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Mk=(()=>{class t{constructor(){this.appRef=x(Cr),this.taskService=x(wr),this.ngZone=x(_e),this.zonelessEnabled=x(_l),this.disableScheduling=x(eC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new xe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(tC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?xE:hb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Nk(){return typeof $localize<"u"&&$localize.locale||ol}var jg=new F("",{providedIn:"root",factory:()=>x(jg,se.Optional|se.SkipSelf)||Nk()});var eg=new F("");function Pu(t){return!t.moduleRef}function xk(t){let e=Pu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(_e);return n.run(()=>{Pu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Nn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Pu(t)){let o=()=>e.destroy(),s=t.platformInjector.get(eg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(eg);s.add(o),t.moduleRef.onDestroy(()=>{Lu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Ck(r,n,()=>{let o=e.get(mC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(jg,ol);if(dk(s||ol),Pu(t)){let a=e.get(Cr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return Pk(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Pk(t,e){let n=t.injector.get(Cr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new z(-403,!1);e.push(t)}var Vu=null;function Ok(t=[],e){return St.create({name:e,providers:[{provide:ul,useValue:"platform"},{provide:eg,useValue:new Set([()=>Vu=null])},...t]})}function kk(t=[]){if(Vu)return Vu;let e=Ok(t);return Vu=e,Ek(),Fk(e),e}function Fk(t){t.get(Ig,null)?.forEach(n=>n())}function IC(){return!1}var pi=(()=>{class t{static{this.__NG_ELEMENT_ID__=Lk}}return t})();function Lk(t){return Vk(Mt(),Te(),(t&16)===16)}function Vk(t,e,n){if(dl(t)&&!n){let r=Ir(t.index,e);return new Eo(r,r)}else if(t.type&175){let r=e[Tt];return new Eo(r,e)}return null}function wC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=kk(r),o=[yC({}),{provide:Do,useExisting:Mk},...n||[]],s=new nl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return xk({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Tl(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Tr(t,e){li("NgSignals");let n=Lw(t);return e?.equal&&(n[Sn].equal=e.equal),n}function Vn(t){let e=he(null);try{return t()}finally{he(e)}}var bC=null;function jn(){return bC}function CC(t){bC??=t}var Sl=class{};var It=new F(""),TC=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x($k),providedIn:"platform"})}}return t})();var $k=(()=>{class t extends TC{constructor(){super(),this._doc=x(It),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jn().getBaseHref(this._doc)}onPopState(n){let r=jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function SC(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function EC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function gi(t){return t&&t[0]!=="?"?"?"+t:t}var Al=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(AC),providedIn:"root"})}}return t})(),Hk=new F(""),AC=(()=>{class t extends Al{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(It).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return SC(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+gi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+gi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+gi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(V(TC),V(Hk,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ga=(()=>{class t{constructor(n){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Gk(EC(DC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+gi(r))}normalize(n){return t.stripTrailingSlash(qk(this._basePath,DC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=gi}static{this.joinWithSlash=SC}static{this.stripTrailingSlash=EC}static{this.\u0275fac=function(r){return new(r||t)(V(Al))}}static{this.\u0275prov=B({token:t,factory:()=>zk(),providedIn:"root"})}}return t})();function zk(){return new ga(V(Al))}function qk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function DC(t){return t.replace(/\/index.html$/,"")}function Gk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Rl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var RC="browser",Wk="server";function Ml(t){return t===Wk}var Ao=class{};var ya=class{},xl=class{},Un=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Bg=class{encodeKey(e){return MC(e)}encodeValue(e){return MC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Qk(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var Yk=/%(\d[a-f0-9])/gi,Zk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MC(t){return encodeURIComponent(t).replace(Yk,(e,n)=>Zk[n]??e)}function Nl(t){return`${t}`}var Ar=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Bg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Qk(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Nl):[Nl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Nl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Nl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var $g=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Jk(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function NC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function xC(t){return typeof Blob<"u"&&t instanceof Blob}function PC(t){return typeof FormData<"u"&&t instanceof FormData}function Xk(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ma=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Jk(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Un,this.context??=new $g,!this.params)this.params=new Ar,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||NC(this.body)||xC(this.body)||PC(this.body)||Xk(this.body)?this.body:this.body instanceof Ar?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||PC(this.body)?null:xC(this.body)?this.body.type||null:NC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ar?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Rr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Rr||{}),va=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Un,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Pl=class t extends va{constructor(e={}){super(e),this.type=Rr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_a=class t extends va{constructor(e={}){super(e),this.type=Rr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Sr=class extends va{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},LC=200,e1=204;function Ug(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var qg=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof ma)o=n;else{let u;i.headers instanceof Un?u=i.headers:u=new Un(i.headers);let l;i.params&&(i.params instanceof Ar?l=i.params:l=new Ar({fromObject:i.params})),o=new ma(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Y(o).pipe(ur(u=>this.handler.handle(u)));if(n instanceof ma||i.observe==="events")return s;let a=s.pipe(st(u=>u instanceof _a));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(W(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(W(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(W(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(W(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Ar().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Ug(i,r))}post(n,r,i={}){return this.request("POST",n,Ug(i,r))}put(n,r,i={}){return this.request("PUT",n,Ug(i,r))}static{this.\u0275fac=function(r){return new(r||t)(V(ya))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),t1=/^\)\]\}',?\n/,n1="X-Request-URL";function OC(t){if(t.url)return t.url;let e=n1.toLocaleLowerCase();return t.headers.get(e)}var r1=(()=>{class t{constructor(){this.fetchImpl=x(Hg,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=x(_e)}handle(n){return new re(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(zg,o=>r.error(new Sr({error:o}))),()=>i.abort()})}doRequest(n,r,i){return I(this,null,function*(){let o=this.createRequestInit(n),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,P({signal:r},o)));i1(y),i.next({type:Rr.Sent}),s=yield y}catch(y){i.error(new Sr({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let a=new Un(s.headers),u=s.statusText,l=OC(s)??n.urlWithParams,h=s.status,p=null;if(n.reportProgress&&i.next(new Pl({headers:a,status:h,statusText:u,url:l})),s.body){let y=s.headers.get("content-length"),C=[],M=s.body.getReader(),A=0,k,$,j=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>I(this,null,function*(){for(;;){let{done:ve,value:G}=yield M.read();if(ve)break;if(C.push(G),A+=G.length,n.reportProgress){$=n.responseType==="text"?($??"")+(k??=new TextDecoder).decode(G,{stream:!0}):void 0;let E=()=>i.next({type:Rr.DownloadProgress,total:y?+y:void 0,loaded:A,partialText:$});j?j.run(E):E()}}}));let X=this.concatChunks(C,A);try{let ve=s.headers.get("Content-Type")??"";p=this.parseBody(n,X,ve)}catch(ve){i.error(new Sr({error:ve,headers:new Un(s.headers),status:s.status,statusText:s.statusText,url:OC(s)??n.urlWithParams}));return}}h===0&&(h=p?LC:0),h>=200&&h<300?(i.next(new _a({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Sr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(t1,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Hg=class{};function zg(){}function i1(t){t.then(zg,zg)}function o1(t,e){return e(t)}function s1(t,e,n){return(r,i)=>Qt(n,()=>e(r,o=>t(o,i)))}var VC=new F(""),a1=new F(""),c1=new F("",{providedIn:"root",factory:()=>!0});var kC=(()=>{class t extends ya{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=x(wr),this.contributeToStability=x(c1)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(VC),...this.injector.get(a1,[])]));this.chain=r.reduceRight((i,o)=>s1(i,o,this.injector),o1)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Jr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(V(xl),V(vt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();var u1=/^\)\]\}',?\n/;function l1(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var FC=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new z(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ae(r.\u0275loadImpl()):Y(null)).pipe(bt(()=>new re(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((M,A)=>s.setRequestHeader(M,A.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let M=n.detectContentTypeHeader();M!==null&&s.setRequestHeader("Content-Type",M)}if(n.responseType){let M=n.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let M=s.statusText||"OK",A=new Un(s.getAllResponseHeaders()),k=l1(s)||n.url;return u=new Pl({headers:A,status:s.status,statusText:M,url:k}),u},h=()=>{let{headers:M,status:A,statusText:k,url:$}=l(),j=null;A!==e1&&(j=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=j?LC:0);let X=A>=200&&A<300;if(n.responseType==="json"&&typeof j=="string"){let ve=j;j=j.replace(u1,"");try{j=j!==""?JSON.parse(j):null}catch(G){j=ve,X&&(X=!1,j={error:G,text:j})}}X?(o.next(new _a({body:j,headers:M,status:A,statusText:k,url:$||void 0})),o.complete()):o.error(new Sr({error:j,headers:M,status:A,statusText:k,url:$||void 0}))},p=M=>{let{url:A}=l(),k=new Sr({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(k)},m=!1,y=M=>{m||(o.next(l()),m=!0);let A={type:Rr.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(A.total=M.total),n.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},C=M=>{let A={type:Rr.UploadProgress,loaded:M.loaded};M.lengthComputable&&(A.total=M.total),o.next(A)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:Rr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(V(Ao))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),jC=new F(""),d1="XSRF-TOKEN",h1=new F("",{providedIn:"root",factory:()=>d1}),f1="X-XSRF-TOKEN",p1=new F("",{providedIn:"root",factory:()=>f1}),Ol=class{},g1=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Rl(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(V(It),V(ln),V(h1))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function m1(t,e){let n=t.url.toLowerCase();if(!x(jC)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=x(Ol).getToken(),i=x(p1);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function UC(...t){let e=[qg,FC,kC,{provide:ya,useExisting:kC},{provide:xl,useFactory:()=>x(r1,{optional:!0})??x(FC)},{provide:VC,useValue:m1,multi:!0},{provide:jC,useValue:!0},{provide:Ol,useClass:g1}];for(let n of t)e.push(...n.\u0275providers);return jt(e)}var Kg=class extends Sl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Qg=class t extends Kg{static makeCurrent(){CC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=v1();return n==null?null:_1(n)}resetBaseElement(){Ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Rl(document.cookie,e)}},Ia=null;function v1(){return Ia=Ia||document.querySelector("base"),Ia?Ia.getAttribute("href"):null}function _1(t){return new URL(t,document.baseURI).pathname}var I1=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Yg=new F(""),zC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(V(Yg),V(_e))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),kl=class{constructor(e){this._doc=e}},Gg="ng-app-id",qC=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ml(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Gg}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Gg),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Gg,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(V(It),V(_g),V(wg,8),V(ln))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Wg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Jg=/%COMP%/g,GC="%COMP%",w1=`_nghost-${GC}`,E1=`_ngcontent-${GC}`,D1=!0,b1=new F("",{providedIn:"root",factory:()=>D1});function C1(t){return E1.replace(Jg,t)}function T1(t){return w1.replace(Jg,t)}function WC(t,e){return e.map(n=>n.replace(Jg,t))}var BC=(()=>{class t{constructor(n,r,i,o,s,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ml(a),this.defaultRenderer=new wa(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===an.ShadowDom&&(r=te(P({},r),{encapsulation:an.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Fl?i.applyToHost(n):i instanceof Ea&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case an.Emulated:o=new Fl(u,l,r,this.appId,h,s,a,p);break;case an.ShadowDom:return new Zg(u,l,n,r,s,a,this.nonce,p);default:o=new Ea(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(V(zC),V(qC),V(_g),V(b1),V(It),V(ln),V(_e),V(wg))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),wa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Wg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){($C(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&($C(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Wg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Wg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(xn.DashCase|xn.Important)?e.style.setProperty(n,r,i&xn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&xn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=jn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function $C(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Zg=class extends wa{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=WC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ea=class extends wa{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?WC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Fl=class extends Ea{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=C1(l),this.hostAttr=T1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},S1=(()=>{class t extends kl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(V(It))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),HC=["alt","control","meta","shift"],A1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},M1=(()=>{class t extends kl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jn().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),HC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=A1[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),HC.forEach(s=>{if(s!==i){let a=R1[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(V(It))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function KC(t,e){return wC(P({rootComponent:t},N1(e)))}function N1(t){return{appProviders:[...F1,...t?.providers??[]],platformProviders:k1}}function x1(){Qg.makeCurrent()}function P1(){return new Nn}function O1(){return _b(document),document}var k1=[{provide:ln,useValue:RC},{provide:Ig,useValue:x1,multi:!0},{provide:It,useFactory:O1,deps:[]}];var F1=[{provide:ul,useValue:"root"},{provide:Nn,useFactory:P1,deps:[]},{provide:Yg,useClass:S1,multi:!0,deps:[It,_e,ln]},{provide:Yg,useClass:M1,multi:!0,deps:[It]},BC,qC,zC,{provide:Co,useExisting:BC},{provide:Ao,useClass:I1,deps:[]},[]];var QC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(V(It))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var oe="primary",ja=Symbol("RouteTitle"),rm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Oo(t){return new rm(t)}function j1(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function U1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dn(t[n],e[n]))return!1;return!0}function dn(t,e){let n=t?im(t):void 0,r=e?im(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!rT(t[i],e[i]))return!1;return!0}function im(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function rT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function iT(t){return t.length>0?t[t.length-1]:null}function Mr(t){return Bf(t)?t:fi(t)?Ae(Promise.resolve(t)):Y(t)}var B1={exact:sT,subset:aT},oT={exact:$1,subset:H1,ignored:()=>!0};function YC(t,e,n){return B1[n.paths](t.root,e.root,n.matrixParams)&&oT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function $1(t,e){return dn(t,e)}function sT(t,e,n){if(!yi(t.segments,e.segments)||!jl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!sT(t.children[r],e.children[r],n))return!1;return!0}function H1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>rT(t[n],e[n]))}function aT(t,e,n){return cT(t,e,e.segments,n)}function cT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!yi(i,n)||e.hasChildren()||!jl(i,n,r))}else if(t.segments.length===n.length){if(!yi(t.segments,n)||!jl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!aT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!yi(t.segments,i)||!jl(t.segments,i,r)||!t.children[oe]?!1:cT(t.children[oe],e,o,r)}}function jl(t,e,n){return e.every((r,i)=>oT[n](t[i].parameters,r.parameters))}var $n=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Oo(this.queryParams),this._queryParamMap}toString(){return G1.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ul(this)}},mi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Oo(this.parameters),this._parameterMap}toString(){return lT(this)}};function z1(t,e){return yi(t,e)&&t.every((n,r)=>dn(n.parameters,e[r].parameters))}function yi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function q1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===oe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==oe&&(n=n.concat(e(i,r)))}),n}var Mm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new Ra,providedIn:"root"})}}return t})(),Ra=class{parse(e){let n=new sm(e);return new $n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Da(e.root,!0)}`,r=Q1(e.queryParams),i=typeof e.fragment=="string"?`#${W1(e.fragment)}`:"";return`${n}${r}${i}`}},G1=new Ra;function Ul(t){return t.segments.map(e=>lT(e)).join("/")}function Da(t,e){if(!t.hasChildren())return Ul(t);if(e){let n=t.children[oe]?Da(t.children[oe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${Da(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=q1(t,(r,i)=>i===oe?[Da(t.children[oe],!1)]:[`${i}:${Da(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[oe]!=null?`${Ul(t)}/${n[0]}`:`${Ul(t)}/(${n.join("//")})`}}function uT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ll(t){return uT(t).replace(/%3B/gi,";")}function W1(t){return encodeURI(t)}function om(t){return uT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bl(t){return decodeURIComponent(t)}function ZC(t){return Bl(t.replace(/\+/g,"%20"))}function lT(t){return`${om(t.path)}${K1(t.parameters)}`}function K1(t){return Object.entries(t).map(([e,n])=>`;${om(e)}=${om(n)}`).join("")}function Q1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ll(n)}=${Ll(i)}`).join("&"):`${Ll(n)}=${Ll(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Y1=/^[^\/()?;#]+/;function Xg(t){let e=t.match(Y1);return e?e[0]:""}var Z1=/^[^\/()?;=#]+/;function J1(t){let e=t.match(Z1);return e?e[0]:""}var X1=/^[^=?&#]+/;function eF(t){let e=t.match(X1);return e?e[0]:""}var tF=/^[^&#]+/;function nF(t){let e=t.match(tF);return e?e[0]:""}var sm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new Ie(e,n)),r}parseSegment(){let e=Xg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new mi(Bl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=J1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Xg(this.remaining);i&&(r=i,this.capture(r))}e[Bl(n)]=Bl(r)}parseQueryParam(e){let n=eF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=nF(this.remaining);s&&(r=s,this.capture(r))}let i=ZC(n),o=ZC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Xg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[oe]:new Ie([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function dT(t){return t.segments.length>0?new Ie([],{[oe]:t}):t}function hT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=hT(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ie(t.segments,e);return rF(n)}function rF(t){if(t.numberOfChildren===1&&t.children[oe]){let e=t.children[oe];return new Ie(t.segments.concat(e.segments),e.children)}return t}function Ma(t){return t instanceof $n}function iF(t,e,n=null,r=null){let i=fT(t);return pT(i,e,n,r)}function fT(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ie(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=dT(r);return e??i}function pT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return em(i,i,i,n,r);let o=oF(e);if(o.toRoot())return em(i,i,new Ie([],{}),n,r);let s=sF(o,i,t),a=s.processChildren?Ta(s.segmentGroup,s.index,o.commands):mT(s.segmentGroup,s.index,o.commands);return em(i,s.segmentGroup,a,n,r)}function $l(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Na(t){return typeof t=="object"&&t!=null&&t.outlets}function em(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=gT(t,e,n);let a=dT(hT(s));return new $n(a,o,i)}function gT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=gT(o,e,n)}),new Ie(t.segments,r)}var Hl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&$l(r[0]))throw new z(4003,!1);let i=r.find(Na);if(i&&i!==iT(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Hl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Hl(n,e,r)}var No=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function sF(t,e,n){if(t.isAbsolute)return new No(e,!0,0);if(!n)return new No(e,!1,NaN);if(n.parent===null)return new No(n,!0,0);let r=$l(t.commands[0])?0:1,i=n.segments.length-1+r;return aF(n,i,t.numberOfDoubleDots)}function aF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new No(r,!1,i-o)}function cF(t){return Na(t[0])?t[0].outlets:{[oe]:t}}function mT(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return Ta(t,e,n);let r=uF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ie(t.segments.slice(0,r.pathIndex),{});return o.children[oe]=new Ie(t.segments.slice(r.pathIndex),t.children),Ta(o,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?am(t,e,n):r.match?Ta(t,0,i):am(t,e,n)}function Ta(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=cF(n),i={};if(Object.keys(r).some(o=>o!==oe)&&t.children[oe]&&t.numberOfChildren===1&&t.children[oe].segments.length===0){let o=Ta(t.children[oe],e,n);return new Ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=mT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(t.segments,i)}}function uF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Na(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!XC(u,l,s))return o;r+=2}else{if(!XC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function am(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Na(o)){let u=lF(o.outlets);return new Ie(r,u)}if(i===0&&$l(n[0])){let u=t.segments[e];r.push(new mi(u.path,JC(n[0]))),i++;continue}let s=Na(o)?o.outlets[oe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&$l(a)?(r.push(new mi(s,JC(a))),i+=2):(r.push(new mi(s,{})),i++)}return new Ie(r,{})}function lF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=am(new Ie([],{}),0,r))}),e}function JC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function XC(t,e,n){return t==n.path&&dn(e,n.parameters)}var Sa="imperative",et=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(et||{}),Bt=class{constructor(e,n){this.id=e,this.url=n}},xa=class extends Bt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=et.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vi=class extends Bt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(xt||{}),cm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(cm||{}),Bn=class extends Bt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_i=class extends Bt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=et.NavigationSkipped}},Pa=class extends Bt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},zl=class extends Bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},um=class extends Bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lm=class extends Bt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dm=class extends Bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hm=class extends Bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fm=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pm=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gm=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mm=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ym=class{constructor(e){this.snapshot=e,this.type=et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vm=class{constructor(e){this.snapshot=e,this.type=et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Oa=class{},ko=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function dF(t,e){return t.providers&&!t._injector&&(t._injector=Pg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Zt(t){return t.outlet||oe}function hF(t,e){let n=t.filter(r=>Zt(r)===e);return n.push(...t.filter(r=>Zt(r)!==e)),n}function Ua(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var _m=class{get injector(){return Ua(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Zl(this.rootInjector),this.attachRef=null}},Zl=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new _m(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(V(vt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ql=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Im(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Im(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=wm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wm(e,this._root).map(n=>n.value)}};function Im(t,e){if(t===e.value)return e;for(let n of e.children){let r=Im(t,n);if(r)return r}return null}function wm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=wm(t,n);if(r.length)return r.unshift(e),r}return[]}var Nt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Mo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Gl=class extends ql{constructor(e,n){super(e),this.snapshot=n,Nm(this,e)}toString(){return this.snapshot.toString()}};function yT(t){let e=fF(t),n=new Le([new mi("",{})]),r=new Le({}),i=new Le({}),o=new Le({}),s=new Le(""),a=new Fo(n,r,o,s,i,oe,t,e.root);return a.snapshot=e.root,new Gl(new Nt(a,[]),e)}function fF(t){let e={},n={},r={},i="",o=new xo([],e,r,i,n,oe,t,null,{});return new Kl("",new Nt(o,[]))}var Fo=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(W(l=>l[ja]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(e=>Oo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(e=>Oo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:P(P({},e.params),t.params),data:P(P({},e.data),t.data),resolve:P(P(P(P({},t.data),e.data),i?.data),t._resolvedData)}:r={params:P({},t.params),data:P({},t.data),resolve:P(P({},t.data),t._resolvedData??{})},i&&_T(i)&&(r.resolve[ja]=i.title),r}var xo=class{get title(){return this.data?.[ja]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Kl=class extends ql{constructor(e,n){super(n),this.url=e,Nm(this,n)}toString(){return vT(this._root)}};function Nm(t,e){e.value._routerState=t,e.children.forEach(n=>Nm(t,n))}function vT(t){let e=t.children.length>0?` { ${t.children.map(vT).join(", ")} } `:"";return`${t.value}${e}`}function tm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),dn(e.params,n.params)||t.paramsSubject.next(n.params),U1(e.url,n.url)||t.urlSubject.next(n.url),dn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Em(t,e){let n=dn(t.params,e.params)&&z1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Em(t.parent,e.parent))}function _T(t){return typeof t.title=="string"||t.title===null}var xm=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=x(Zl),this.location=x(Il),this.changeDetector=x(pi),this.inputBinder=x(Pm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Dm(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=At({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[So]})}}return t})(),Dm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Fo?this.route:e===Zl?this.childContexts:this.parent.get(e,n)}},Pm=new F("");function pF(t,e,n){let r=ka(t,e._root,n?n._root:void 0);return new Gl(r,e)}function ka(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=gF(t,e,n);return new Nt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ka(t,a)),s}}let r=mF(e.value),i=e.children.map(o=>ka(t,o));return new Nt(r,i)}}function gF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ka(t,r,i);return ka(t,r)})}function mF(t){return new Fo(new Le(t.url),new Le(t.params),new Le(t.queryParams),new Le(t.fragment),new Le(t.data),t.outlet,t.component,t)}var Fa=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},IT="ngNavigationCancelingError";function Ql(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ma(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wT(!1,xt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function wT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[IT]=!0,n.cancellationCode=e,n}function yF(t){return ET(t)&&Ma(t.url)}function ET(t){return!!t&&t[IT]}var vF=(t,e,n,r)=>W(i=>(new bm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),bm=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),tm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Mo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Mo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Mo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Mo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new vm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new mm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(tm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),tm(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Yl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Po=class{constructor(e,n){this.component=e,this.route=n}};function _F(t,e,n){let r=t._root,i=e?e._root:null;return ba(r,i,n,[r.value])}function IF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Vo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!tD(t)?t:e.get(t):r}function ba(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Mo(e);return t.children.forEach(s=>{wF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Aa(a,n.getContext(s),i)),i}function wF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=EF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Yl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ba(t,e,a?a.children:null,r,i):ba(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Po(a.outlet.component,s))}else s&&Aa(e,a,i),i.canActivateChecks.push(new Yl(r)),o.component?ba(t,null,a?a.children:null,r,i):ba(t,null,n,r,i);return i}function EF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!yi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!yi(t.url,e.url)||!dn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Em(t,e)||!dn(t.queryParams,e.queryParams);case"paramsChange":default:return!Em(t,e)}}function Aa(t,e,n){let r=Mo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Aa(s,e.children.getContext(o),n):Aa(s,null,n):Aa(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Po(e.outlet.component,i)):n.canDeactivateChecks.push(new Po(null,i)):n.canDeactivateChecks.push(new Po(null,i))}function Ba(t){return typeof t=="function"}function DF(t){return typeof t=="boolean"}function bF(t){return t&&Ba(t.canLoad)}function CF(t){return t&&Ba(t.canActivate)}function TF(t){return t&&Ba(t.canActivateChild)}function SF(t){return t&&Ba(t.canDeactivate)}function AF(t){return t&&Ba(t.canMatch)}function DT(t){return t instanceof An||t?.name==="EmptyError"}var Vl=Symbol("INITIAL_VALUE");function Lo(){return bt(t=>Su(t.map(e=>e.pipe(Rn(1),Kf(Vl)))).pipe(W(e=>{for(let n of e)if(n!==!0){if(n===Vl)return Vl;if(n===!1||RF(n))return n}return!0}),st(e=>e!==Vl),Rn(1)))}function RF(t){return Ma(t)||t instanceof Fa}function MF(t,e){return qe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Y(te(P({},n),{guardsResult:!0})):NF(s,r,i,t).pipe(qe(a=>a&&DF(a)?xF(r,o,t,e):Y(a)),W(a=>te(P({},n),{guardsResult:a})))})}function NF(t,e,n,r){return Ae(t).pipe(qe(i=>LF(i.component,i.route,n,e,r)),rn(i=>i!==!0,!0))}function xF(t,e,n,r){return Ae(e).pipe(ur(i=>so(OF(i.route.parent,r),PF(i.route,r),FF(t,i.path,n),kF(t,i.route,n))),rn(i=>i!==!0,!0))}function PF(t,e){return t!==null&&e&&e(new ym(t)),Y(!0)}function OF(t,e){return t!==null&&e&&e(new gm(t)),Y(!0)}function kF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>Au(()=>{let s=Ua(e)??n,a=Vo(o,s),u=CF(a)?a.canActivate(e,t):Qt(s,()=>a(e,t));return Mr(u).pipe(rn())}));return Y(i).pipe(Lo())}function FF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>IF(s)).filter(s=>s!==null).map(s=>Au(()=>{let a=s.guards.map(u=>{let l=Ua(s.node)??n,h=Vo(u,l),p=TF(h)?h.canActivateChild(r,t):Qt(l,()=>h(r,t));return Mr(p).pipe(rn())});return Y(a).pipe(Lo())}));return Y(o).pipe(Lo())}function LF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(a=>{let u=Ua(e)??i,l=Vo(a,u),h=SF(l)?l.canDeactivate(t,e,n,r):Qt(u,()=>l(t,e,n,r));return Mr(h).pipe(rn())});return Y(s).pipe(Lo())}function VF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let o=i.map(s=>{let a=Vo(s,t),u=bF(a)?a.canLoad(e,n):Qt(t,()=>a(e,n));return Mr(u)});return Y(o).pipe(Lo(),bT(r))}function bT(t){return kf(Ve(e=>{if(typeof e!="boolean")throw Ql(t,e)}),W(e=>e===!0))}function jF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let o=i.map(s=>{let a=Vo(s,t),u=AF(a)?a.canMatch(e,n):Qt(t,()=>a(e,n));return Mr(u)});return Y(o).pipe(Lo(),bT(r))}var La=class{constructor(e){this.segmentGroup=e||null}},Va=class extends Error{constructor(e){super(),this.urlTree=e}};function Ro(t){return oo(new La(t))}function UF(t){return oo(new z(4e3,!1))}function BF(t){return oo(wT(!1,xt.GuardRejected))}var Cm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[oe])return UF(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:M}=i,A=Qt(o,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(A instanceof $n)throw new Va(A);n=A}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Va(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new $n(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Tm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $F(t,e,n,r,i){let o=CT(t,e,n);return o.matched?(r=dF(e,r),jF(r,e,n,i).pipe(W(s=>s===!0?o:P({},Tm)))):Y(o)}function CT(t,e,n){if(e.path==="**")return HF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?P({},Tm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||j1)(n,t,e);if(!i)return P({},Tm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?P(P({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function HF(t){return{matched:!0,parameters:t.length>0?iT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function eT(t,e,n,r){return n.length>0&&GF(t,n,r)?{segmentGroup:new Ie(e,qF(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&WF(t,n,r)?{segmentGroup:new Ie(t.segments,zF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function zF(t,e,n,r){let i={};for(let o of n)if(Jl(t,e,o)&&!r[Zt(o)]){let s=new Ie([],{});i[Zt(o)]=s}return P(P({},r),i)}function qF(t,e){let n={};n[oe]=e;for(let r of t)if(r.path===""&&Zt(r)!==oe){let i=new Ie([],{});n[Zt(r)]=i}return n}function GF(t,e,n){return n.some(r=>Jl(t,e,r)&&Zt(r)!==oe)}function WF(t,e,n){return n.some(r=>Jl(t,e,r))}function Jl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function KF(t,e,n){return e.length===0&&!t.children[n]}var Sm=class{};function QF(t,e,n,r,i,o,s="emptyOnly"){return new Am(t,e,n,r,i,s,o).recognize()}var YF=31,Am=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Cm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=eT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(W(({children:n,rootSnapshot:r})=>{let i=new Nt(r,n),o=new Kl("",i),s=iF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new xo([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,n).pipe(W(r=>({children:r,rootSnapshot:n})),cr(r=>{if(r instanceof Va)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof La?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(W(s=>s instanceof Nt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ae(o).pipe(ur(s=>{let a=r.children[s],u=hF(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Ws((s,a)=>(s.push(...a),s)),lr(null),Gf(),qe(s=>{if(s===null)return Ro(r);let a=TT(s);return ZF(a),Y(a)}))}processSegment(e,n,r,i,o,s,a){return Ae(n).pipe(ur(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(cr(l=>{if(l instanceof La)return Y(null);throw l}))),rn(u=>!!u),cr(u=>{if(DT(u))return KF(r,i,o)?Y(new Sm):Ro(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Zt(r)!==s&&(s===oe||!Jl(i,o,r))?Ro(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Ro(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=CT(n,i,o);if(!u)return Ro(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>YF&&(this.allowRedirects=!1));let y=new xo(o,l,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,tT(i),Zt(i),i.component??i._loadedComponent??null,i,nT(i)),C=Wl(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(qe(A=>this.processSegment(e,r,n,A.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=$F(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(bt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(bt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new xo(m,p,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,tT(r),Zt(r),r.component??r._loadedComponent??null,r,nT(r)),M=Wl(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(M.params),C.data=Object.freeze(M.data);let{segmentGroup:A,slicedSegments:k}=eT(n,m,y,l);if(k.length===0&&A.hasChildren())return this.processChildren(h,l,A,C).pipe(W(j=>new Nt(C,j)));if(l.length===0&&k.length===0)return Y(new Nt(C,[]));let $=Zt(r)===o;return this.processSegment(h,l,A,k,$?oe:o,!0,C).pipe(W(j=>new Nt(C,j instanceof Nt?[j]:[])))}))):Ro(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):VF(e,n,r,this.urlSerializer).pipe(qe(i=>i?this.configLoader.loadChildren(e,n).pipe(Ve(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):BF(n))):Y({routes:[],injector:e})}};function ZF(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}function JF(t){let e=t.value.routeConfig;return e&&e.path===""}function TT(t){let e=[],n=new Set;for(let r of t){if(!JF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=TT(r.children);e.push(new Nt(r.value,i))}return e.filter(r=>!n.has(r))}function tT(t){return t.data||{}}function nT(t){return t.resolve||{}}function XF(t,e,n,r,i,o){return qe(s=>QF(t,e,n,r,s.extractedUrl,i,o).pipe(W(({state:a,tree:u})=>te(P({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function eL(t,e){return qe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of ST(u))s.add(l);let a=0;return Ae(s).pipe(ur(u=>o.has(u)?tL(u,r,t,e):(u.data=Wl(u,u.parent,t).resolve,Y(void 0))),Ve(()=>a++),ao(1),qe(u=>a===s.size?Y(n):Dt))})}function ST(t){let e=t.children.map(n=>ST(n)).flat();return[t,...e]}function tL(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!_T(i)&&(o[ja]=i.title),nL(o,t,e,r).pipe(W(s=>(t._resolvedData=s,t.data=Wl(t,t.parent,n).resolve,null)))}function nL(t,e,n,r){let i=im(t);if(i.length===0)return Y({});let o={};return Ae(i).pipe(qe(s=>rL(t[s],e,n,r).pipe(rn(),Ve(a=>{if(a instanceof Fa)throw Ql(new Ra,a);o[s]=a}))),ao(1),zf(o),cr(s=>DT(s)?Dt:oo(s)))}function rL(t,e,n,r){let i=Ua(e)??r,o=Vo(t,i),s=o.resolve?o.resolve(e,n):Qt(i,()=>o(e,n));return Mr(s)}function nm(t){return bt(e=>{let n=t(e);return n?Ae(n).pipe(W(()=>e)):Y(e)})}var AT=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(n){return n.data[ja]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(iL),providedIn:"root"})}}return t})(),iL=(()=>{class t extends AT{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(V(QC))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Om=new F("",{providedIn:"root",factory:()=>({})}),oL=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Oe({type:t,selectors:[["ng-component"]],standalone:!0,features:[ke],decls:1,vars:0,template:function(r,i){r&1&&at(0,"router-outlet")},dependencies:[xm],encapsulation:2})}}return t})();function km(t){let e=t.children&&t.children.map(km),n=e?te(P({},t),{children:e}):P({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=oL),n}var Fm=new F(""),sL=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(Vg)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Y(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Mr(n.loadComponent()).pipe(W(RT),Ve(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Jr(()=>{this.componentLoaders.delete(n)})),i=new eo(r,()=>new ze).pipe(Xi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=aL(r,this.compiler,n,this.onLoadEndListener).pipe(Jr(()=>{this.childrenLoaders.delete(r)})),s=new eo(o,()=>new ze).pipe(Xi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function aL(t,e,n,r){return Mr(t.loadChildren()).pipe(W(RT),qe(i=>i instanceof sa||Array.isArray(i)?Y(i):Ae(e.compileModuleAsync(i))),W(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Fm,[],{optional:!0,self:!0}).flat()),{routes:s.map(km),injector:o}}))}function cL(t){return t&&typeof t=="object"&&"default"in t}function RT(t){return cL(t)?t.default:t}var Lm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(uL),providedIn:"root"})}}return t})(),uL=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lL=new F("");var dL=new F(""),hL=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ze,this.transitionAbortSubject=new ze,this.configLoader=x(sL),this.environmentInjector=x(vt),this.urlSerializer=x(Mm),this.rootContexts=x(Zl),this.location=x(ga),this.inputBindingEnabled=x(Pm,{optional:!0})!==null,this.titleStrategy=x(AT),this.options=x(Om,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(Lm),this.createViewTransition=x(lL,{optional:!0}),this.navigationErrorHandler=x(dL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let n=i=>this.events.next(new fm(i)),r=i=>this.events.next(new pm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(te(P(P({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Le({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Sa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(st(o=>o.id!==0),W(o=>te(P({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),bt(o=>{let s=!1,a=!1;return Y(o).pipe(bt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",xt.SupersededByNewNavigation),Dt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?te(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new _i(u.id,this.urlSerializer.serialize(u.rawUrl),p,cm.IgnoredSameUrlNavigation)),u.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Y(u).pipe(bt(p=>{let m=this.transitions?.getValue();return this.events.next(new xa(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Dt:Promise.resolve(p)}),XF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=te(P({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new zl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:C,extras:M}=u,A=new xa(p,this.urlSerializer.serialize(m),y,C);this.events.next(A);let k=yT(this.rootComponentType).snapshot;return this.currentTransition=o=te(P({},u),{targetSnapshot:k,urlAfterRedirects:m,extras:te(P({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,Y(o)}else{let p="";return this.events.next(new _i(u.id,this.urlSerializer.serialize(u.extractedUrl),p,cm.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Dt}}),Ve(u=>{let l=new um(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),W(u=>(this.currentTransition=o=te(P({},u),{guards:_F(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),MF(this.environmentInjector,u=>this.events.next(u)),Ve(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Ql(this.urlSerializer,u.guardsResult);let l=new lm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),st(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",xt.GuardRejected),!1)),nm(u=>{if(u.guards.canActivateChecks.length)return Y(u).pipe(Ve(l=>{let h=new dm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),bt(l=>{let h=!1;return Y(l).pipe(eL(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",xt.NoDataFromResolver)}}))}),Ve(l=>{let h=new hm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),nm(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ve(m=>{h.component=m}),W(()=>{})));for(let m of h.children)p.push(...l(m));return p};return Su(l(u.targetSnapshot.root)).pipe(lr(null),Rn(1))}),nm(()=>this.afterPreactivation()),bt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Ae(h).pipe(W(()=>o)):Y(o)}),W(u=>{let l=pF(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=te(P({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ve(()=>{this.events.next(new Oa)}),vF(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Rn(1),Ve({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Qf(this.transitionAbortSubject.pipe(Ve(u=>{throw u}))),Jr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",xt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),cr(u=>{if(a=!0,ET(u))this.events.next(new Bn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),yF(u)?this.events.next(new ko(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Pa(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=Qt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Fa){let{message:p,cancellationCode:m}=Ql(this.urlSerializer,h);this.events.next(new Bn(o.id,this.urlSerializer.serialize(o.extractedUrl),p,m)),this.events.next(new ko(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Dt}))}))}cancelNavigationTransition(n,r,i){let o=new Bn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function fL(t){return t!==Sa}var pL=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(gL),providedIn:"root"})}}return t})(),Rm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},gL=(()=>{class t extends Rm{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fn(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),MT=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(mL),providedIn:"root"})}}return t})(),mL=(()=>{class t extends MT{constructor(){super(...arguments),this.location=x(ga),this.urlSerializer=x(Mm),this.options=x(Om,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(Lm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $n,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=yT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof xa)this.stateMemento=this.createStateMemento();else if(n instanceof _i)this.rawUrlTree=r.initialUrl;else if(n instanceof zl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Oa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Bn&&(n.code===xt.GuardRejected||n.code===xt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Pa?this.restoreHistory(r,!0):n instanceof vi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof $n?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=P(P({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=P(P({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fn(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ca=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ca||{});function yL(t,e){t.events.pipe(st(n=>n instanceof vi||n instanceof Bn||n instanceof Pa||n instanceof _i),W(n=>n instanceof vi||n instanceof _i?Ca.COMPLETE:(n instanceof Bn?n.code===xt.Redirect||n.code===xt.SupersededByNewNavigation:!1)?Ca.REDIRECTING:Ca.FAILED),st(n=>n!==Ca.REDIRECTING),Rn(1)).subscribe(()=>{e()})}function vL(t){throw t}var _L={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jo=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(bl),this.stateManager=x(MT),this.options=x(Om,{optional:!0})||{},this.pendingTasks=x(wr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(hL),this.urlSerializer=x(Mm),this.location=x(ga),this.urlHandlingStrategy=x(Lm),this._events=new ze,this.errorHandler=this.options.errorHandler||vL,this.navigated=!1,this.routeReuseStrategy=x(pL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(Fm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(Pm,{optional:!0}),this.eventsSubscription=new xe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Bn&&r.code!==xt.Redirect&&r.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof vi)this.navigated=!0;else if(r instanceof ko){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=P({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fL(i.source)},s);this.scheduleNavigation(a,Sa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}EL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=P({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(km),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=fT(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return pT(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ma(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Sa,null,r)}navigate(n,r={skipLocationChange:!1}){return wL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=P({},_L):r===!1?i=P({},IL):i=r,Ma(n))return YC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return YC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return yL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new z(4008,!1)}function EL(t){return!(t instanceof Oa)&&!(t instanceof ko)}var DL=new F("");function NT(t,...e){return jt([{provide:Fm,multi:!0,useValue:t},[],{provide:Fo,useFactory:bL,deps:[jo]},{provide:Cl,multi:!0,useFactory:CL},e.map(n=>n.\u0275providers)])}function bL(t){return t.routerState.root}function CL(){let t=x(St);return e=>{let n=t.get(Cr);if(e!==n.components[0])return;let r=t.get(jo),i=t.get(TL);t.get(SL)===1&&r.initialNavigation(),t.get(AL,null,se.Optional)?.setUpPreloading(),t.get(DL,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var TL=new F("",{factory:()=>new ze}),SL=new F("",{providedIn:"root",factory:()=>1});var AL=new F("");var OT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},kT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new jm;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},jm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ML=function(t){let e=OT(t);return kT.encodeByteArray(e,!0)},$a=function(t){return ML(t).replace(/\./g,"")},Bm=function(t){try{return kT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function NL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xL=()=>NL().__FIREBASE_DEFAULTS__,PL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Bm(t[1]);return e&&JSON.parse(e)},ed=()=>{try{return xL()||PL()||OL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$m=t=>{var e,n;return(n=(e=ed())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FT=t=>{let e=$m(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hm=()=>{var t;return(t=ed())===null||t===void 0?void 0:t.config},zm=t=>{var e;return(e=ed())===null||e===void 0?void 0:e[`_${t}`]};var Xl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function LT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$a(JSON.stringify(n)),$a(JSON.stringify(s)),""].join(".")}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function kL(){var t;let e=(t=ed())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $T(){let t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HT(){return!kL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qm(){try{return typeof indexedDB=="object"}catch{return!1}}function zT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var FL="FirebaseError",Pt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hn.prototype.create)}},Hn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?LL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Pt(i,a,r)}};function LL(t,e){return t.replace(VL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var VL=/\{\$([^}]+)}/g;function qT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ii(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(PT(o)&&PT(s)){if(!Ii(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function PT(t){return t!==null&&typeof t=="object"}function Uo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function GT(t,e){let n=new Um(t,e);return n.subscribe.bind(n)}var Um=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vm),i.error===void 0&&(i.error=Vm),i.complete===void 0&&(i.complete=Vm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function jL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vm(){}var m8=4*60*60*1e3;function Qe(t){return t&&t._delegate?t._delegate:t}var $t=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var wi="[DEFAULT]";var Gm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Xl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BL(e))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=wi){return this.instances.has(e)}getOptions(e=wi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wi){return this.component?this.component.multipleInstances?e:wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function UL(t){return t===wi?void 0:t}function BL(t){return t.instantiationMode==="EAGER"}var td=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Gm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var $L=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),HL={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},zL=le.INFO,qL={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},GL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=qL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Nr=class{constructor(e){this.name=e,this._logLevel=zL,this._logHandler=GL,this._userLogHandler=null,$L.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var WL=(t,e)=>e.some(n=>t instanceof n),WT,KT;function KL(){return WT||(WT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QL(){return KT||(KT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var QT=new WeakMap,Km=new WeakMap,YT=new WeakMap,Wm=new WeakMap,Ym=new WeakMap;function YL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(hn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&QT.set(n,t)}).catch(()=>{}),Ym.set(e,t),e}function ZL(t){if(Km.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Km.set(t,e)}var Qm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Km.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZT(t){Qm=t(Qm)}function JL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(nd(this),e,...n);return YT.set(r,e.sort?e.sort():[e]),hn(r)}:QL().includes(t)?function(...e){return t.apply(nd(this),e),hn(QT.get(this))}:function(...e){return hn(t.apply(nd(this),e))}}function XL(t){return typeof t=="function"?JL(t):(t instanceof IDBTransaction&&ZL(t),WL(t,KL())?new Proxy(t,Qm):t)}function hn(t){if(t instanceof IDBRequest)return YL(t);if(Wm.has(t))return Wm.get(t);let e=XL(t);return e!==t&&(Wm.set(t,e),Ym.set(e,t)),e}var nd=t=>Ym.get(t);function XT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=hn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(hn(s.result),u.oldVersion,u.newVersion,hn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var eV=["get","getKey","getAll","getAllKeys","count"],tV=["put","add","delete","clear"],Zm=new Map;function JT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=tV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eV.includes(n)))return;let o=function(s,...a){return I(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Zm.set(e,o),o}ZT(t=>te(P({},t),{get:(e,n,r)=>JT(e,n)||t.get(e,n,r),has:(e,n)=>!!JT(e,n)||t.has(e,n)}));var Xm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function nV(t){let e=t.getComponent();return e?.type==="VERSION"}var ey="@firebase/app",e0="0.10.13";var zn=new Nr("@firebase/app"),rV="@firebase/app-compat",iV="@firebase/analytics-compat",oV="@firebase/analytics",sV="@firebase/app-check-compat",aV="@firebase/app-check",cV="@firebase/auth",uV="@firebase/auth-compat",lV="@firebase/database",dV="@firebase/data-connect",hV="@firebase/database-compat",fV="@firebase/functions",pV="@firebase/functions-compat",gV="@firebase/installations",mV="@firebase/installations-compat",yV="@firebase/messaging",vV="@firebase/messaging-compat",_V="@firebase/performance",IV="@firebase/performance-compat",wV="@firebase/remote-config",EV="@firebase/remote-config-compat",DV="@firebase/storage",bV="@firebase/storage-compat",CV="@firebase/firestore",TV="@firebase/vertexai-preview",SV="@firebase/firestore-compat",AV="firebase",RV="10.14.1";var ty="[DEFAULT]",MV={[ey]:"fire-core",[rV]:"fire-core-compat",[oV]:"fire-analytics",[iV]:"fire-analytics-compat",[aV]:"fire-app-check",[sV]:"fire-app-check-compat",[cV]:"fire-auth",[uV]:"fire-auth-compat",[lV]:"fire-rtdb",[dV]:"fire-data-connect",[hV]:"fire-rtdb-compat",[fV]:"fire-fn",[pV]:"fire-fn-compat",[gV]:"fire-iid",[mV]:"fire-iid-compat",[yV]:"fire-fcm",[vV]:"fire-fcm-compat",[_V]:"fire-perf",[IV]:"fire-perf-compat",[wV]:"fire-rc",[EV]:"fire-rc-compat",[DV]:"fire-gcs",[bV]:"fire-gcs-compat",[CV]:"fire-fst",[SV]:"fire-fst-compat",[TV]:"fire-vertex","fire-js":"fire-js",[AV]:"fire-js-all"};var Ha=new Map,NV=new Map,ny=new Map;function t0(t,e){try{t.container.addComponent(e)}catch(n){zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pr(t){let e=t.name;if(ny.has(e))return zn.debug(`There were multiple attempts to register component ${e}.`),!1;ny.set(e,t);for(let n of Ha.values())t0(n,t);for(let n of NV.values())t0(n,t);return!0}function qa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fn(t){return t.settings!==void 0}var xV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Hn("app","Firebase",xV);var ry=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}};var Or=RV;function rd(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ty,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xr.create("bad-app-name",{appName:String(i)});if(n||(n=Hm()),!n)throw xr.create("no-options");let o=Ha.get(i);if(o){if(Ii(n,o.options)&&Ii(r,o.config))return o;throw xr.create("duplicate-app",{appName:i})}let s=new td(i);for(let u of ny.values())s.addComponent(u);let a=new ry(n,r,s);return Ha.set(i,a),a}function Bo(t=ty){let e=Ha.get(t);if(!e&&t===ty&&Hm())return rd();if(!e)throw xr.create("no-app",{appName:t});return e}function id(){return Array.from(Ha.values())}function Ye(t,e,n){var r;let i=(r=MV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zn.warn(a.join(" "));return}Pr(new $t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var PV="firebase-heartbeat-database",OV=1,za="firebase-heartbeat-store",Jm=null;function o0(){return Jm||(Jm=XT(PV,OV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(za)}catch(n){console.warn(n)}}}}).catch(t=>{throw xr.create("idb-open",{originalErrorMessage:t.message})})),Jm}function kV(t){return I(this,null,function*(){try{let n=(yield o0()).transaction(za),r=yield n.objectStore(za).get(s0(t));return yield n.done,r}catch(e){if(e instanceof Pt)zn.warn(e.message);else{let n=xr.create("idb-get",{originalErrorMessage:e?.message});zn.warn(n.message)}}})}function n0(t,e){return I(this,null,function*(){try{let r=(yield o0()).transaction(za,"readwrite");yield r.objectStore(za).put(e,s0(t)),yield r.done}catch(n){if(n instanceof Pt)zn.warn(n.message);else{let r=xr.create("idb-set",{originalErrorMessage:n?.message});zn.warn(r.message)}}})}function s0(t){return`${t.name}!${t.options.appId}`}var FV=1024,LV=30*24*60*60*1e3,iy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new oy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=r0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=LV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zn.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=r0(),{heartbeatsToSend:r,unsentEntries:i}=VV(this._heartbeatsCache.heartbeats),o=$a(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return zn.warn(n),""}})}};function r0(){return new Date().toISOString().substring(0,10)}function VV(t,e=FV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),i0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),i0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var oy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return qm()?zT().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield kV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return n0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return n0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function i0(t){return $a(JSON.stringify({version:2,heartbeats:t})).length}function jV(t){Pr(new $t("platform-logger",e=>new Xm(e),"PRIVATE")),Pr(new $t("heartbeat",e=>new iy(e),"PRIVATE")),Ye(ey,e0,t),Ye(ey,e0,"esm2017"),Ye("fire-js","")}jV("");function w0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var E0=w0,D0=new Hn("auth","Firebase",w0());var ld=new Nr("@firebase/auth");function UV(t,...e){ld.logLevel<=le.WARN&&ld.warn(`Auth (${Or}): ${t}`,...e)}function sd(t,...e){ld.logLevel<=le.ERROR&&ld.error(`Auth (${Or}): ${t}`,...e)}function gn(t,...e){throw Dy(t,...e)}function Jt(t,...e){return Dy(t,...e)}function Ey(t,e,n){let r=Object.assign(Object.assign({},E0()),{[e]:n});return new Hn("auth","Firebase",r).create(e,{appName:t.name})}function Ei(t){return Ey(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BV(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gn(t,"argument-error"),Ey(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return D0.create(t,...e)}function Q(t,e,...n){if(!t)throw Dy(e,...n)}function qn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw sd(e),new Error(e)}function Wn(t,e){t||qn(e)}function cy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $V(){return a0()==="http:"||a0()==="https:"}function a0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function HV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($V()||UT()||"connection"in navigator)?navigator.onLine:!0}function zV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Di=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wn(n>e,"Short delay should be less than long delay!"),this.isMobile=VT()||BT()}get(){return HV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function by(t,e){Wn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var dd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var qV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var GV=new Di(3e4,6e4);function Cy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function zo(o,s,a,u){return I(this,arguments,function*(t,e,n,r,i={}){return b0(t,i,()=>I(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Uo(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return jT()||(y.referrerPolicy="no-referrer"),dd.fetch()(C0(t,t.config.apiHost,n,p),y)}))})}function b0(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},qV),e);try{let i=new uy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw od(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw od(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw od(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw od(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Ey(t,h,l);gn(t,h)}}catch(i){if(i instanceof Pt)throw i;gn(t,"network-request-failed",{message:String(i)})}})}function WV(o,s,a,u){return I(this,arguments,function*(t,e,n,r,i={}){let l=yield zo(t,e,n,r,i);return"mfaPendingCredential"in l&&gn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function C0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?by(t.config,i):`${t.config.apiScheme}://${i}`}var uy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jt(this.auth,"network-request-failed")),GV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function od(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Jt(t,e,r);return i.customData._tokenResponse=n,i}function KV(t,e){return I(this,null,function*(){return zo(t,"POST","/v1/accounts:delete",e)})}function T0(t,e){return I(this,null,function*(){return zo(t,"POST","/v1/accounts:lookup",e)})}function Ga(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ty(t,e=!1){return I(this,null,function*(){let n=Qe(t),r=yield n.getIdToken(e),i=Sy(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ga(sy(i.auth_time)),issuedAtTime:Ga(sy(i.iat)),expirationTime:Ga(sy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function sy(t){return Number(t)*1e3}function Sy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Bm(n);return i?JSON.parse(i):(sd("Failed to decode base64 JWT payload"),null)}catch(i){return sd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function c0(t){let e=Sy(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ka(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Pt&&QV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function QV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ly=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Qa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function hd(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ka(t,T0(n,{idToken:r}));Q(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?S0(o.providerUserInfo):[],a=YV(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Qa(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Ay(t){return I(this,null,function*(){let e=Qe(t);yield hd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function YV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function S0(t){return t.map(e=>{var{providerId:n}=e,r=fu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function ZV(t,e){return I(this,null,function*(){let n=yield b0(t,{},()=>I(this,null,function*(){let r=Uo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=C0(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function JV(t,e){return I(this,null,function*(){return zo(t,"POST","/v2/accounts:revokeToken",Cy(t,e))})}var Wa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let n=c0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield ZV(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return qn("not implemented")}};function kr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ho=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=fu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ly(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qa(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield Ka(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ty(this,e)}reload(){return Ay(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield hd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(fn(this.auth.app))return Promise.reject(Ei(this.auth));let e=yield this.getIdToken();return yield Ka(this,KV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:j,emailVerified:X,isAnonymous:ve,providerData:G,stsTokenManager:E}=n;Q(j&&E,e,"internal-error");let v=Wa.fromJSON(this.name,E);Q(typeof j=="string",e,"internal-error"),kr(p,e.name),kr(m,e.name),Q(typeof X=="boolean",e,"internal-error"),Q(typeof ve=="boolean",e,"internal-error"),kr(y,e.name),kr(C,e.name),kr(M,e.name),kr(A,e.name),kr(k,e.name),kr($,e.name);let _=new t({uid:j,auth:e,email:m,emailVerified:X,displayName:p,isAnonymous:ve,photoURL:C,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:k,lastLoginAt:$});return G&&Array.isArray(G)&&(_.providerData=G.map(D=>Object.assign({},D))),A&&(_._redirectEventId=A),_}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new Wa;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield hd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];Q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?S0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Wa;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Qa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var u0=new Map;function Gn(t){Wn(t instanceof Function,"Expected a class definition");let e=u0.get(t);return e?(Wn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,u0.set(t,e),e)}var XV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),dy=XV;function ad(t,e,n){return`firebase:${t}:${e}:${n}`}var fd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ad(this.userKey,i.apiKey,o),this.fullPersistenceKey=ad("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ho._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(Gn(dy),e,r);let i=(yield Promise.all(n.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Gn(dy),s=ad(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Ho._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>I(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function l0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P0(e))return"Blackberry";if(O0(e))return"Webos";if(R0(e))return"Safari";if((e.includes("chrome/")||M0(e))&&!e.includes("edge/"))return"Chrome";if(x0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function A0(t=Ke()){return/firefox\//i.test(t)}function R0(t=Ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function M0(t=Ke()){return/crios\//i.test(t)}function N0(t=Ke()){return/iemobile/i.test(t)}function x0(t=Ke()){return/android/i.test(t)}function P0(t=Ke()){return/blackberry/i.test(t)}function O0(t=Ke()){return/webos/i.test(t)}function Ry(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ej(t=Ke()){var e;return Ry(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tj(){return $T()&&document.documentMode===10}function k0(t=Ke()){return Ry(t)||x0(t)||O0(t)||P0(t)||/windows phone/i.test(t)||N0(t)}function F0(t,e=[]){let n;switch(t){case"Browser":n=l0(Ke());break;case"Worker":n=`${l0(Ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Or}/${r}`}var hy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function nj(n){return I(this,arguments,function*(t,e={}){return zo(t,"GET","/v2/passwordPolicy",Cy(t,e))})}var rj=6,fy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:rj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var py=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pd(this),this.idTokenSubscription=new pd(this),this.beforeStateQueue=new hy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield fd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield T0(this,{idToken:e}),r=yield Ho._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(fn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield hd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=zV()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(fn(this.app))return Promise.reject(Ei(this));let n=e?Qe(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return fn(this.app)?Promise.reject(Ei(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return fn(this.app)?Promise.reject(Ei(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(Gn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield nj(this),n=new fy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield JV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Gn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield fd.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&UV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ed(t){return Qe(t)}var pd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=GT(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var My={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ij(t){My=t}function oj(t){return My.loadJS(t)}function sj(){return My.gapiScript}function L0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Ny(t,e){let n=qa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Ii(o,e??{}))return i;gn(i,"already-initialized")}return n.initialize({options:e})}function aj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function xy(t,e,n){let r=Ed(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=V0(e),{host:s,port:a}=cj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||uj()}function V0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cj(t){let e=V0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:d0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:d0(s)}}}function d0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function uj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ya=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}};function $o(t,e){return I(this,null,function*(){return WV(t,"POST","/v1/accounts:signInWithIdp",Cy(t,e))})}var lj="http://localhost",gd=class t extends Ya{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=fu(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return $o(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,$o(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,$o(e,n)}buildRequest(){let e={requestUri:lj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uo(n)}return e}};var Za=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var md=class extends Za{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Py=(()=>{class t extends md{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return gd._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var Ja=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(this,null,function*(){let o=yield Ho._fromIdTokenResponse(e,r,i),s=h0(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=h0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function h0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var gy=class t extends Pt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function j0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gy._fromErrorAndOperation(t,o,e,r):o})}function dj(t,e,n=!1){return I(this,null,function*(){let r=yield Ka(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ja._forOperation(t,"link",r)})}function hj(t,e,n=!1){return I(this,null,function*(){let{auth:r}=t;if(fn(r.app))return Promise.reject(Ei(r));let i="reauthenticate";try{let o=yield Ka(t,j0(r,i,e,t),n);Q(o.idToken,r,"internal-error");let s=Sy(o.idToken);Q(s,r,"internal-error");let{sub:a}=s;return Q(t.uid===a,r,"user-mismatch"),Ja._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&gn(r,"user-mismatch"),o}})}function fj(t,e,n=!1){return I(this,null,function*(){if(fn(t.app))return Promise.reject(Ei(t));let r="signIn",i=yield j0(t,r,e),o=yield Ja._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Oy(t,e,n,r){return Qe(t).onIdTokenChanged(e,n,r)}function ky(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}var yd="__sak";var vd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var pj=1e3,gj=10,mj=(()=>{class t extends vd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);tj()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,gj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},pj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return I(this,null,function*(){yield or(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return I(this,null,function*(){let r=yield or(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return I(this,null,function*(){yield or(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),U0=mj;var yj=(()=>{class t extends vd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Fy=yj;function vj(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var _j=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>I(this,null,function*(){return h(r.origin,s)})),l=yield vj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Ly(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var my=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=Ly("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function pn(){return window}function Ij(t){pn().location.href=t}function B0(){return typeof pn().WorkerGlobalScope<"u"&&typeof pn().importScripts=="function"}function wj(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Ej(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Dj(){return B0()?self:null}var $0="firebaseLocalStorageDb",bj=1,_d="firebaseLocalStorage",H0="fbase_key",bi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Dd(t,e){return t.transaction([_d],e?"readwrite":"readonly").objectStore(_d)}function Cj(){let t=indexedDB.deleteDatabase($0);return new bi(t).toPromise()}function yy(){let t=indexedDB.open($0,bj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(_d,{keyPath:H0})}catch(i){n(i)}}),t.addEventListener("success",()=>I(this,null,function*(){let r=t.result;r.objectStoreNames.contains(_d)?e(r):(r.close(),yield Cj(),e(yield yy()))}))})}function f0(t,e,n){return I(this,null,function*(){let r=Dd(t,!0).put({[H0]:e,value:n});return new bi(r).toPromise()})}function Tj(t,e){return I(this,null,function*(){let n=Dd(t,!1).get(e),r=yield new bi(n).toPromise();return r===void 0?null:r.value})}function p0(t,e){let n=Dd(t,!0).delete(e);return new bi(n).toPromise()}var Sj=800,Aj=3,Rj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield yy(),this.db)})}_withRetries(n){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Aj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return B0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=_j._getInstance(Dj()),this.receiver._subscribe("keyChanged",(n,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,r;if(this.activeServiceWorker=yield wj(),!this.activeServiceWorker)return;this.sender=new my(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Ej()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield yy();return yield f0(n,yd,"1"),yield p0(n,yd),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>f0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let r=yield this._withRetries(i=>Tj(i,n));return this.localCache[n]=r,r})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>p0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(o=>{let s=Dd(o,!1).getAll();return new bi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),Sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),z0=Rj;var q8=L0("rcb"),G8=new Di(3e4,6e4);function q0(t,e){return e?Gn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Xa=class extends Ya{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Mj(t){return fj(t.auth,new Xa(t),t.bypassAuthState)}function Nj(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),hj(n,new Xa(t),t.bypassAuthState)}function xj(t){return I(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),dj(n,new Xa(t),t.bypassAuthState)})}var Id=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mj;case"linkViaPopup":case"linkViaRedirect":return xj;case"reauthViaPopup":case"reauthViaRedirect":return Nj;default:gn(this.auth,"internal-error")}}resolve(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Pj=new Di(2e3,1e4);function bd(t,e,n){return I(this,null,function*(){if(fn(t.app))return Promise.reject(Jt(t,"operation-not-supported-in-this-environment"));let r=Ed(t);BV(t,e,Za);let i=q0(r,n);return new Oj(r,"signInViaPopup",e,i).executeNotNull()})}var Oj=(()=>{class t extends Id{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return I(this,null,function*(){let n=yield this.execute();return Q(n,this.auth,"internal-error"),n})}onExecution(){return I(this,null,function*(){Wn(this.filter.length===1,"Popup operations only handle one event");let n=Ly();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Jt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,Pj.get())};n()}}t.currentPopupAction=null;return t})(),kj="pendingRedirect",cd=new Map,vy=class t extends Id{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=cd.get(this.auth._key());if(!e){try{let r=(yield Fj(this.resolver,this.auth))?yield or(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cd.set(this.auth._key(),e)}return this.bypassAuthState||cd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return or(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,or(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function Fj(t,e){return I(this,null,function*(){let n=jj(e),r=Vj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Lj(t,e){cd.set(t._key(),e)}function Vj(t){return Gn(t._redirectPersistence)}function jj(t){return ad(kj,t.config.apiKey,t.name)}function Uj(t,e,n=!1){return I(this,null,function*(){if(fn(t.app))return Promise.reject(Ei(t));let r=Ed(t),i=q0(r,e),s=yield new vy(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var Bj=10*60*1e3,_y=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$j(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!G0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Bj&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(e))}saveEventToCache(e){this.cachedEventUids.add(g0(e)),this.lastProcessedEventTime=Date.now()}};function g0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $j(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G0(t);default:return!1}}function Hj(n){return I(this,arguments,function*(t,e={}){return zo(t,"GET","/v1/projects",e)})}var zj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qj=/^https?/;function Gj(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Hj(t);for(let n of e)try{if(Wj(n))return}catch{}gn(t,"unauthorized-domain")})}function Wj(t){let e=cy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!qj.test(n))return!1;if(zj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Kj=new Di(3e4,6e4);function m0(){let t=pn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Qj(t){return new Promise((e,n)=>{var r,i,o;function s(){m0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m0(),n(Jt(t,"network-request-failed"))},timeout:Kj.get()})}if(!((i=(r=pn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=pn().gapi)===null||o===void 0)&&o.load)s();else{let a=L0("iframefcb");return pn()[a]=()=>{gapi.load?s():n(Jt(t,"network-request-failed"))},oj(`${sj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw ud=null,e})}var ud=null;function Yj(t){return ud=ud||Qj(t),ud}var Zj=new Di(5e3,15e3),Jj="__/auth/iframe",Xj="emulator/auth/iframe",eU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nU(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?by(e,Xj):`https://${t.config.authDomain}/${Jj}`,r={apiKey:e.apiKey,appName:t.name,v:Or},i=tU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Uo(r).slice(1)}`}function rU(t){return I(this,null,function*(){let e=yield Yj(t),n=pn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:nU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eU,dontclear:!0},r=>new Promise((i,o)=>I(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Jt(t,"network-request-failed"),a=pn().setTimeout(()=>{o(s)},Zj.get());function u(){pn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var iU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oU=500,sU=600,aU="_blank",cU="http://localhost",wd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function uU(t,e,n,r=oU,i=sU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},iU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ke().toLowerCase();n&&(a=M0(l)?aU:n),A0(l)&&(e=e||cU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(ej(l)&&a!=="_self")return lU(e||"",a),new wd(null);let p=window.open(e||"",a,h);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new wd(p)}function lU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var dU="__/auth/handler",hU="emulator/auth/handler",fU=encodeURIComponent("fac");function y0(t,e,n,r,i,o){return I(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Or,eventId:i};if(e instanceof Za){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",qT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof md){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${fU}=${encodeURIComponent(u)}`:"";return`${pU(t)}?${Uo(a).slice(1)}${l}`})}function pU({config:t}){return t.emulator?by(t,hU):`https://${t.authDomain}/${dU}`}var ay="webStorageSupport",Iy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fy,this._completeRedirectFn=Uj,this._overrideRedirectResult=Lj}_openPopup(e,n,r,i){return I(this,null,function*(){var o;Wn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield y0(e,n,r,cy(),i);return uU(e,s,Ly())})}_openRedirect(e,n,r,i){return I(this,null,function*(){yield this._originValidation(e);let o=yield y0(e,n,r,cy(),i);return Ij(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Wn(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return I(this,null,function*(){let n=yield rU(e),r=new _y(e);return n.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ay,{type:ay},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[ay];s!==void 0&&n(!!s),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return k0()||R0()||Ry()}},W0=Iy;var v0="@firebase/auth",_0="1.7.9";var wy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function gU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mU(t){Pr(new $t("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F0(t)},l=new py(r,i,o,u);return aj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pr(new $t("auth-internal",e=>{let n=Ed(e.getProvider("auth").getImmediate());return(r=>new wy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(v0,_0,gU(t)),Ye(v0,_0,"esm2017")}var yU=5*60,vU=zm("authIdTokenMaxAge")||yU,I0=null,_U=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vU)return;let i=n?.token;I0!==i&&(I0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function qo(t=Bo()){let e=qa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Ny(t,{popupRedirectResolver:W0,persistence:[z0,U0,Fy]}),r=zm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=_U(o.toString());ky(n,s,()=>s(n.currentUser)),Oy(n,a=>s(a))}}let i=$m("auth");return i&&xy(n,`http://${i}`),n}function IU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ij({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Jt("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",IU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mU("Browser");var f2="firebase",p2="10.14.1";Ye(f2,p2,"app");var Wo=new Pn("ANGULARFIRE2_VERSION");function jy(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var tc=(t,e)=>{let n=e?[e]:id(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ec=class{constructor(){return tc(g2)}},g2="app-check";function Go(){}var Cd=class{zone;delegate;constructor(e,n=Gs){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Vy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Go,{},Go,Go)),n.pipe(Ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},nc=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Cd(Zone.current)),this.insideAngular=n.run(()=>new Cd(Zone.current,Uf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(V(_e))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Td(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function m2(t){return Td().ngZone.runOutsideAngular(()=>t())}function Ci(t){return Td().ngZone.run(()=>t())}function y2(t){return v2(Td())(t)}function v2(t){return function(n){return n=n.lift(new Vy(t.ngZone)),n.pipe(ar(t.outsideAngular),nn(t.insideAngular))}}var _2=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ci(()=>t.apply(void 0,r))},Kn=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Ci(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Go,{},Go,Go))),r[o]=_2(r[o],n));let i=m2(()=>t.apply(this,r));if(!e)if(i instanceof re){let o=Td();return i.pipe(ar(o.outsideAngular),nn(o.insideAngular))}else return Ci(()=>i);return i instanceof re?i.pipe(y2):i instanceof Promise?Ci(()=>new Promise((o,s)=>i.then(a=>Ci(()=>o(a)),a=>Ci(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ci(()=>i)};var Ti=class{constructor(e){return e}},rc=class{constructor(){return id()}};function I2(t){return t&&t.length===1?t[0]:new Ti(Bo())}var Uy=new F("angularfire2._apps"),w2={provide:Ti,useFactory:I2,deps:[[new un,Uy]]},E2={provide:rc,deps:[[new un,Uy]]};function D2(t){return(e,n)=>{let r=n.get(ln);Ye("angularfire",Wo.full,"core"),Ye("angularfire",Wo.full,"app"),Ye("angular",hC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Ti(i)}}function K0(t,...e){return jt([w2,E2,{provide:Uy,useFactory:D2(t),multi:!0,deps:[_e,St,nc,...e]}])}var b2="auth";var Sd=class{constructor(){return tc(b2)}};var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y0={};var Fr,By;(function(){var t;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(D,b,S){for(var w=Array(arguments.length-2),bn=2;bn<arguments.length;bn++)w[bn-2]=arguments[bn];return v.prototype[b].apply(D,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var D=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)D[b]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(b=0;16>b;++b)D[b]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],b=E.g[2];var S=E.g[3],w=v+(S^_&(b^S))+D[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=S+(b^v&(_^b))+D[1]+3905402710&4294967295,S=v+(w<<12&4294967295|w>>>20),w=b+(_^S&(v^_))+D[2]+606105819&4294967295,b=S+(w<<17&4294967295|w>>>15),w=_+(v^b&(S^v))+D[3]+3250441966&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(S^_&(b^S))+D[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=S+(b^v&(_^b))+D[5]+1200080426&4294967295,S=v+(w<<12&4294967295|w>>>20),w=b+(_^S&(v^_))+D[6]+2821735955&4294967295,b=S+(w<<17&4294967295|w>>>15),w=_+(v^b&(S^v))+D[7]+4249261313&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(S^_&(b^S))+D[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=S+(b^v&(_^b))+D[9]+2336552879&4294967295,S=v+(w<<12&4294967295|w>>>20),w=b+(_^S&(v^_))+D[10]+4294925233&4294967295,b=S+(w<<17&4294967295|w>>>15),w=_+(v^b&(S^v))+D[11]+2304563134&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(S^_&(b^S))+D[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=S+(b^v&(_^b))+D[13]+4254626195&4294967295,S=v+(w<<12&4294967295|w>>>20),w=b+(_^S&(v^_))+D[14]+2792965006&4294967295,b=S+(w<<17&4294967295|w>>>15),w=_+(v^b&(S^v))+D[15]+1236535329&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(b^S&(_^b))+D[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=S+(_^b&(v^_))+D[6]+3225465664&4294967295,S=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(S^v))+D[11]+643717713&4294967295,b=S+(w<<14&4294967295|w>>>18),w=_+(S^v&(b^S))+D[0]+3921069994&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(b^S&(_^b))+D[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=S+(_^b&(v^_))+D[10]+38016083&4294967295,S=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(S^v))+D[15]+3634488961&4294967295,b=S+(w<<14&4294967295|w>>>18),w=_+(S^v&(b^S))+D[4]+3889429448&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(b^S&(_^b))+D[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=S+(_^b&(v^_))+D[14]+3275163606&4294967295,S=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(S^v))+D[3]+4107603335&4294967295,b=S+(w<<14&4294967295|w>>>18),w=_+(S^v&(b^S))+D[8]+1163531501&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(b^S&(_^b))+D[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=S+(_^b&(v^_))+D[2]+4243563512&4294967295,S=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(S^v))+D[7]+1735328473&4294967295,b=S+(w<<14&4294967295|w>>>18),w=_+(S^v&(b^S))+D[12]+2368359562&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(_^b^S)+D[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=S+(v^_^b)+D[8]+2272392833&4294967295,S=v+(w<<11&4294967295|w>>>21),w=b+(S^v^_)+D[11]+1839030562&4294967295,b=S+(w<<16&4294967295|w>>>16),w=_+(b^S^v)+D[14]+4259657740&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(_^b^S)+D[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=S+(v^_^b)+D[4]+1272893353&4294967295,S=v+(w<<11&4294967295|w>>>21),w=b+(S^v^_)+D[7]+4139469664&4294967295,b=S+(w<<16&4294967295|w>>>16),w=_+(b^S^v)+D[10]+3200236656&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(_^b^S)+D[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=S+(v^_^b)+D[0]+3936430074&4294967295,S=v+(w<<11&4294967295|w>>>21),w=b+(S^v^_)+D[3]+3572445317&4294967295,b=S+(w<<16&4294967295|w>>>16),w=_+(b^S^v)+D[6]+76029189&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(_^b^S)+D[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=S+(v^_^b)+D[12]+3873151461&4294967295,S=v+(w<<11&4294967295|w>>>21),w=b+(S^v^_)+D[15]+530742520&4294967295,b=S+(w<<16&4294967295|w>>>16),w=_+(b^S^v)+D[2]+3299628645&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(b^(_|~S))+D[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=S+(_^(v|~b))+D[7]+1126891415&4294967295,S=v+(w<<10&4294967295|w>>>22),w=b+(v^(S|~_))+D[14]+2878612391&4294967295,b=S+(w<<15&4294967295|w>>>17),w=_+(S^(b|~v))+D[5]+4237533241&4294967295,_=b+(w<<21&4294967295|w>>>11),w=v+(b^(_|~S))+D[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=S+(_^(v|~b))+D[3]+2399980690&4294967295,S=v+(w<<10&4294967295|w>>>22),w=b+(v^(S|~_))+D[10]+4293915773&4294967295,b=S+(w<<15&4294967295|w>>>17),w=_+(S^(b|~v))+D[1]+2240044497&4294967295,_=b+(w<<21&4294967295|w>>>11),w=v+(b^(_|~S))+D[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=S+(_^(v|~b))+D[15]+4264355552&4294967295,S=v+(w<<10&4294967295|w>>>22),w=b+(v^(S|~_))+D[6]+2734768916&4294967295,b=S+(w<<15&4294967295|w>>>17),w=_+(S^(b|~v))+D[13]+1309151649&4294967295,_=b+(w<<21&4294967295|w>>>11),w=v+(b^(_|~S))+D[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=S+(_^(v|~b))+D[11]+3174756917&4294967295,S=v+(w<<10&4294967295|w>>>22),w=b+(v^(S|~_))+D[2]+718787259&4294967295,b=S+(w<<15&4294967295|w>>>17),w=_+(S^(b|~v))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(b+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+b&4294967295,E.g[3]=E.g[3]+S&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,D=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=_;)i(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<v;)if(D[b++]=E.charCodeAt(S++),b==this.blockSize){i(this,D),b=0;break}}else for(;S<v;)if(D[b++]=E[S++],b==this.blockSize){i(this,D),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var D=0;32>D;D+=8)E[_++]=this.g[v]>>>D&255;return E};function o(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function s(E,v){this.h=v;for(var _=[],D=!0,b=E.length-1;0<=b;b--){var S=E[b]|0;D&&S==v||(_[b]=S,D=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?o(E,function(v){return new s([v|0],0>v?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return A(l(-E));for(var v=[],_=1,D=0;E>=_;D++)v[D]=E/_|0,_*=4294967296;return new s(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return A(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),D=p,b=0;b<E.length;b+=8){var S=Math.min(8,E.length-b),w=parseInt(E.substring(b,b+S),v);8>S?(S=l(Math.pow(v,S)),D=D.j(S).add(l(w))):(D=D.j(_),D=D.add(l(w)))}return D}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(M(this))return-A(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var D=this.i(_);E+=(0<=D?D:4294967296+D)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(M(this))return"-"+A(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,D="";;){var b=X(_,v).g;_=k(_,b.j(v));var S=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=b,C(_))return S+D;for(;6>S.length;)S="0"+S;D=S+D}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function M(E){return E.h==-1}t.l=function(E){return E=k(this,E),M(E)?-1:C(E)?0:1};function A(E){for(var v=E.g.length,_=[],D=0;D<v;D++)_[D]=~E.g[D];return new s(_,~E.h).add(m)}t.abs=function(){return M(this)?A(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0,b=0;b<=v;b++){var S=D+(this.i(b)&65535)+(E.i(b)&65535),w=(S>>>16)+(this.i(b)>>>16)+(E.i(b)>>>16);D=w>>>16,S&=65535,w&=65535,_[b]=w<<16|S}return new s(_,_[_.length-1]&-2147483648?-1:0)};function k(E,v){return E.add(A(v))}t.j=function(E){if(C(this)||C(E))return p;if(M(this))return M(E)?A(this).j(A(E)):A(A(this).j(E));if(M(E))return A(this.j(A(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],D=0;D<2*v;D++)_[D]=0;for(D=0;D<this.g.length;D++)for(var b=0;b<E.g.length;b++){var S=this.i(D)>>>16,w=this.i(D)&65535,bn=E.i(b)>>>16,bs=E.i(b)&65535;_[2*D+2*b]+=w*bs,$(_,2*D+2*b),_[2*D+2*b+1]+=S*bs,$(_,2*D+2*b+1),_[2*D+2*b+1]+=w*bn,$(_,2*D+2*b+1),_[2*D+2*b+2]+=S*bn,$(_,2*D+2*b+2)}for(D=0;D<v;D++)_[D]=_[2*D+1]<<16|_[2*D];for(D=v;D<2*v;D++)_[D]=0;return new s(_,0)};function $(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function j(E,v){this.g=E,this.h=v}function X(E,v){if(C(v))throw Error("division by zero");if(C(E))return new j(p,p);if(M(E))return v=X(A(E),v),new j(A(v.g),A(v.h));if(M(v))return v=X(E,A(v)),new j(A(v.g),v.h);if(30<E.g.length){if(M(E)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,D=v;0>=D.l(E);)_=ve(_),D=ve(D);var b=G(_,1),S=G(D,1);for(D=G(D,2),_=G(_,2);!C(D);){var w=S.add(D);0>=w.l(E)&&(b=b.add(_),S=w),D=G(D,1),_=G(_,1)}return v=k(E,b.j(v)),new j(b,v)}for(b=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),D=Math.ceil(Math.log(_)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),S=l(_),w=S.j(v);M(w)||0<w.l(E);)_-=D,S=l(_),w=S.j(v);C(S)&&(S=m),b=b.add(S),E=k(E,w)}return new j(b,E)}t.A=function(E){return X(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)&E.i(D);return new s(_,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)|E.i(D);return new s(_,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)^E.i(D);return new s(_,this.h^E.h)};function ve(E){for(var v=E.g.length+1,_=[],D=0;D<v;D++)_[D]=E.i(D)<<1|E.i(D-1)>>>31;return new s(_,E.h)}function G(E,v){var _=v>>5;v%=32;for(var D=E.g.length-_,b=[],S=0;S<D;S++)b[S]=0<v?E.i(S+_)>>>v|E.i(S+_+1)<<32-v:E.i(S+_);return new s(b,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,By=Y0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Fr=Y0.Integer=s}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qn={};var $y,C2,Ko,Hy,ic,Rd,zy,qy,Gy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ad=="object"&&Ad];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,R){for(var L=Array(arguments.length-2),De=2;De<arguments.length;De++)L[De-2]=arguments[De];return d.prototype[T].apply(g,L)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function A(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,R=g.length||0;c.length=T+R;for(let L=0;L<R;L++)c[T+L]=g[L]}else c.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function j(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var ve=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function G(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let R=0;R<_.length;R++)f=_[R],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Zh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class bn{constructor(){this.h=this.g=null}add(d,f){let g=bs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var bs=new k(()=>new BR,c=>c.reset());class BR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Cs,Ts=!1,Zh=new bn,TI=()=>{let c=a.Promise.resolve(void 0);Cs=()=>{c.then($R)}};var $R=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){S(f)}var d=bs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ts=!1};function tr(){this.s=this.s,this.C=this.C}tr.prototype.s=!1,tr.prototype.ma=function(){this.s||(this.s=!0,this.N())},tr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var HR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ss(c,d){if(nt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ve){e:{try{X(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:zR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ss.aa.h.call(this)}}C(Ss,nt);var zR={2:"touch",3:"pen",4:"mouse"};Ss.prototype.h=function(){Ss.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var As="closure_listenable_"+(1e6*Math.random()|0),qR=0;function GR(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++qR,this.da=this.fa=!1}function Fc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lc(c){this.src=c,this.g={},this.h=0}Lc.prototype.add=function(c,d,f,g,T){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var L=Xh(c,d,g,T);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new GR(d,this.src,R,!!g,T),d.fa=f,c.push(d)),d};function Jh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=T)&&Array.prototype.splice.call(g,T,1),R&&(Fc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Xh(c,d,f,g){for(var T=0;T<c.length;++T){var R=c[T];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return T}return-1}var ef="closure_lm_"+(1e6*Math.random()|0),tf={};function SI(c,d,f,g,T){if(g&&g.once)return RI(c,d,f,g,T);if(Array.isArray(d)){for(var R=0;R<d.length;R++)SI(c,d[R],f,g,T);return null}return f=sf(f),c&&c[As]?c.K(d,f,l(g)?!!g.capture:!!g,T):AI(c,d,f,!1,g,T)}function AI(c,d,f,g,T,R){if(!d)throw Error("Invalid event type");var L=l(T)?!!T.capture:!!T,De=rf(c);if(De||(c[ef]=De=new Lc(c)),f=De.add(d,f,g,L,R),f.proxy)return f;if(g=WR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)HR||(T=L),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(NI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function WR(){function c(f){return d.call(c.src,c.listener,f)}let d=KR;return c}function RI(c,d,f,g,T){if(Array.isArray(d)){for(var R=0;R<d.length;R++)RI(c,d[R],f,g,T);return null}return f=sf(f),c&&c[As]?c.L(d,f,l(g)?!!g.capture:!!g,T):AI(c,d,f,!0,g,T)}function MI(c,d,f,g,T){if(Array.isArray(d))for(var R=0;R<d.length;R++)MI(c,d[R],f,g,T);else g=l(g)?!!g.capture:!!g,f=sf(f),c&&c[As]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=Xh(R,f,g,T),-1<f&&(Fc(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=rf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Xh(d,f,g,T)),(f=-1<c?d[c]:null)&&nf(f))}function nf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[As])Jh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(NI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=rf(d))?(Jh(f,c),f.h==0&&(f.src=null,d[ef]=null)):Fc(c)}}}function NI(c){return c in tf?tf[c]:tf[c]="on"+c}function KR(c,d){if(c.da)c=!0;else{d=new Ss(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&nf(c),c=f.call(g,d)}return c}function rf(c){return c=c[ef],c instanceof Lc?c:null}var of="__closure_events_fn_"+(1e9*Math.random()>>>0);function sf(c){return typeof c=="function"?c:(c[of]||(c[of]=function(d){return c.handleEvent(d)}),c[of])}function rt(){tr.call(this),this.i=new Lc(this),this.M=this,this.F=null}C(rt,tr),rt.prototype[As]=!0,rt.prototype.removeEventListener=function(c,d,f,g){MI(this,c,d,f,g)};function dt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new nt(d,c);else if(d instanceof nt)d.target=d.target||c;else{var T=d;d=new nt(g,c),D(d,T)}if(T=!0,f)for(var R=f.length-1;0<=R;R--){var L=d.g=f[R];T=Vc(L,g,!0,d)&&T}if(L=d.g=c,T=Vc(L,g,!0,d)&&T,T=Vc(L,g,!1,d)&&T,f)for(R=0;R<f.length;R++)L=d.g=f[R],T=Vc(L,g,!1,d)&&T}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Fc(f[g]);delete c.g[d],c.h--}}this.F=null},rt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},rt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Vc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,R=0;R<d.length;++R){var L=d[R];if(L&&!L.da&&L.capture==f){var De=L.listener,Je=L.ha||L.src;L.fa&&Jh(c.i,L),T=De.call(Je,g)!==!1&&T}}return T&&!g.defaultPrevented}function xI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function PI(c){c.g=xI(()=>{c.g=null,c.i&&(c.i=!1,PI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class QR extends tr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:PI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){tr.call(this),this.h=c,this.g={}}C(Rs,tr);var OI=[];function kI(c){G(c.g,function(d,f){this.g.hasOwnProperty(f)&&nf(d)},c),c.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),kI(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var af=a.JSON.stringify,YR=a.JSON.parse,ZR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function cf(){}cf.prototype.h=null;function FI(c){return c.h||(c.h=c.i())}function LI(){}var Ms={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uf(){nt.call(this,"d")}C(uf,nt);function lf(){nt.call(this,"c")}C(lf,nt);var Hr={},VI=null;function jc(){return VI=VI||new rt}Hr.La="serverreachability";function jI(c){nt.call(this,Hr.La,c)}C(jI,nt);function Ns(c){let d=jc();dt(d,new jI(d))}Hr.STAT_EVENT="statevent";function UI(c,d){nt.call(this,Hr.STAT_EVENT,c),this.stat=d}C(UI,nt);function ht(c){let d=jc();dt(d,new UI(d,c))}Hr.Ma="timingevent";function BI(c,d){nt.call(this,Hr.Ma,c),this.size=d}C(BI,nt);function xs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ps(){this.g=!0}Ps.prototype.xa=function(){this.g=!1};function JR(c,d,f,g,T,R){c.info(function(){if(c.g)if(R)for(var L="",De=R.split("&"),Je=0;Je<De.length;Je++){var pe=De[Je].split("=");if(1<pe.length){var it=pe[0];pe=pe[1];var ot=it.split("_");L=2<=ot.length&&ot[1]=="type"?L+(it+"="+pe+"&"):L+(it+"=redacted&")}}else L=null;else L=R;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+L})}function XR(c,d,f,g,T,R,L){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+R+" "+L})}function zi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+tM(c,f)+(g?" "+g:"")})}function eM(c,d){c.info(function(){return"TIMEOUT: "+d})}Ps.prototype.info=function(){};function tM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var R=T[0];if(R!="noop"&&R!="stop"&&R!="close")for(var L=1;L<T.length;L++)T[L]=""}}}}return af(f)}catch{return d}}var Uc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$I={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},df;function Bc(){}C(Bc,cf),Bc.prototype.g=function(){return new XMLHttpRequest},Bc.prototype.i=function(){return{}},df=new Bc;function nr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new HI}function HI(){this.i=null,this.g="",this.h=!1}var zI={},hf={};function ff(c,d,f){c.L=1,c.v=qc(Cn(d)),c.m=f,c.P=!0,qI(c,null)}function qI(c,d){c.F=Date.now(),$c(c),c.A=Cn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),ow(f.i,"t",g),c.C=0,f=c.j.J,c.h=new HI,c.g=Dw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new QR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(OI[0]=T.toString()),T=OI);for(var R=0;R<T.length;R++){var L=SI(f,T[R],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ns(),JR(c.i,c.u,c.A,c.l,c.R,c.m)}nr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Tn(c)==3?d.j():this.Y(c)},nr.prototype.Y=function(c){try{if(c==this.g)e:{let ot=Tn(this.g);var d=this.g.Ba();let Wi=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||hw(this.g)))){this.J||ot!=4||d==7||(d==8||0>=Wi?Ns(3):Ns(2)),pf(this);var f=this.g.Z();this.X=f;t:if(GI(this)){var g=hw(this.g);c="";var T=g.length,R=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zr(this),Os(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(R&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,XR(this.i,this.u,this.A,this.l,this.R,ot,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,Je=this.g;if((De=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(De)){var pe=De;break t}}pe=null}if(f=pe)zi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gf(this,f);else{this.o=!1,this.s=3,ht(12),zr(this),Os(this);break e}}if(this.P){f=!0;let zt;for(;!this.J&&this.C<L.length;)if(zt=nM(this,L),zt==hf){ot==4&&(this.s=4,ht(14),f=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==zI){this.s=4,ht(15),zi(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else zi(this.i,this.l,zt,null),gf(this,zt);if(GI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||L.length!=0||this.h.h||(this.s=1,ht(16),f=!1),this.o=this.o&&f,!f)zi(this.i,this.l,L,"[Invalid Chunked Response]"),zr(this),Os(this);else if(0<L.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),wf(it),it.M=!0,ht(11))}}else zi(this.i,this.l,L,null),gf(this,L);ot==4&&zr(this),this.o&&!this.J&&(ot==4?_w(this.j,this):(this.o=!1,$c(this)))}else _M(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),zr(this),Os(this)}}}catch{}finally{}};function GI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?hf:(f=Number(d.substring(f,g)),isNaN(f)?zI:(g+=1,g+f>d.length?hf:(d=d.slice(g,g+f),c.C=g+f,d)))}nr.prototype.cancel=function(){this.J=!0,zr(this)};function $c(c){c.S=Date.now()+c.I,WI(c,c.I)}function WI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xs(m(c.ba,c),d)}function pf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}nr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(eM(this.i,this.A),this.L!=2&&(Ns(),ht(17)),zr(this),this.s=2,Os(this)):WI(this,this.S-c)};function Os(c){c.j.G==0||c.J||_w(c.j,c)}function zr(c){pf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,kI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function gf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||mf(f.h,c))){if(!c.K&&mf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Yc(f),Kc(f);else break e;If(f),ht(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=xs(m(f.Za,f),6e3));if(1>=YI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Gr(f,11)}else if((c.K||f.g==c)&&Yc(f),!$(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let pe=T[d];if(f.T=pe[0],pe=pe[1],f.G==2)if(pe[0]=="c"){f.K=pe[1],f.ia=pe[2];let it=pe[3];it!=null&&(f.la=it,f.j.info("VER="+f.la));let ot=pe[4];ot!=null&&(f.Aa=ot,f.j.info("SVER="+f.Aa));let Wi=pe[5];Wi!=null&&typeof Wi=="number"&&0<Wi&&(g=1.5*Wi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let zt=c.g;if(zt){let Jc=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jc){var R=g.h;R.g||Jc.indexOf("spdy")==-1&&Jc.indexOf("quic")==-1&&Jc.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(yf(R,R.h),R.h=null))}if(g.D){let Ef=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ef&&(g.ya=Ef,Ce(g.I,g.D,Ef))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var L=c;if(g.qa=Ew(g,g.J?g.ia:null,g.W),L.K){ZI(g.h,L);var De=L,Je=g.L;Je&&(De.I=Je),De.B&&(pf(De),$c(De)),g.g=L}else yw(g);0<f.i.length&&Qc(f)}else pe[0]!="stop"&&pe[0]!="close"||Gr(f,7);else f.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Gr(f,7):_f(f):pe[0]!="noop"&&f.l&&f.l.ta(pe),f.v=0)}}Ns(4)}catch{}}var rM=class{constructor(c,d){this.g=c,this.map=d}};function KI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function QI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function YI(c){return c.h?1:c.g?c.g.size:0}function mf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function yf(c,d){c.g?c.g.add(d):c.h=d}function ZI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}KI.prototype.cancel=function(){if(this.i=JI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function JI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function iM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function oM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function XI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=oM(c),g=iM(c),T=g.length,R=0;R<T;R++)d.call(void 0,g[R],f&&f[R],c)}var ew=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var R=c[f].substring(0,g);T=c[f].substring(g+1)}else R=c[f];d(R,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function qr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof qr){this.h=c.h,Hc(this,c.j),this.o=c.o,this.g=c.g,zc(this,c.s),this.l=c.l;var d=c.i,f=new Ls;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),tw(this,f),this.m=c.m}else c&&(d=String(c).match(ew))?(this.h=!1,Hc(this,d[1]||"",!0),this.o=ks(d[2]||""),this.g=ks(d[3]||"",!0),zc(this,d[4]),this.l=ks(d[5]||"",!0),tw(this,d[6]||"",!0),this.m=ks(d[7]||"")):(this.h=!1,this.i=new Ls(null,this.h))}qr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Fs(d,nw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Fs(d,nw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Fs(f,f.charAt(0)=="/"?uM:cM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Fs(f,dM)),c.join("")};function Cn(c){return new qr(c)}function Hc(c,d,f){c.j=f?ks(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function zc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function tw(c,d,f){d instanceof Ls?(c.i=d,hM(c.i,c.h)):(f||(d=Fs(d,lM)),c.i=new Ls(d,c.h))}function Ce(c,d,f){c.i.set(d,f)}function qc(c){return Ce(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ks(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,aM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function aM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nw=/[#\/\?@]/g,cM=/[#\?:]/g,uM=/[#\?]/g,lM=/[#\?@]/g,dM=/#/g;function Ls(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function rr(c){c.g||(c.g=new Map,c.h=0,c.i&&sM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ls.prototype,t.add=function(c,d){rr(this),this.i=null,c=qi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function rw(c,d){rr(c),d=qi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function iw(c,d){return rr(c),d=qi(c,d),c.g.has(d)}t.forEach=function(c,d){rr(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},t.na=function(){rr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let R=0;R<T.length;R++)f.push(d[g])}return f},t.V=function(c){rr(this);let d=[];if(typeof c=="string")iw(this,c)&&(d=d.concat(this.g.get(qi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return rr(this),this.i=null,c=qi(this,c),iw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function ow(c,d,f){rw(c,d),0<f.length&&(c.i=null,c.g.set(qi(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let R=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var T=R;L[g]!==""&&(T+="="+encodeURIComponent(String(L[g]))),c.push(T)}}return this.i=c.join("&")};function qi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function hM(c,d){d&&!c.j&&(rr(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(rw(this,g),ow(this,T,f))},c)),c.j=d}function fM(c,d){let f=new Ps;if(a.Image){let g=new Image;g.onload=y(ir,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(ir,f,"TestLoadImage: error",!1,d,g),g.onabort=y(ir,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(ir,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function pM(c,d){let f=new Ps,g=new AbortController,T=setTimeout(()=>{g.abort(),ir(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(T),R.ok?ir(f,"TestPingServer: ok",!0,d):ir(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),ir(f,"TestPingServer: error",!1,d)})}function ir(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function gM(){this.g=new ZR}function mM(c,d,f){let g=f||"";try{XI(c,function(T,R){let L=T;l(T)&&(L=af(T)),d.push(g+R+"="+encodeURIComponent(L))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function Vs(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Vs,cf),Vs.prototype.g=function(){return new Gc(this.l,this.j)},Vs.prototype.i=function(c){return function(){return c}}({});function Gc(c,d){rt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Gc,rt),t=Gc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Us(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function sw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?js(this):Us(this),this.readyState==3&&sw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,js(this))},t.Qa=function(c){this.g&&(this.response=c,js(this))},t.ga=function(){this.g&&js(this)};function js(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Us(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Us(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function aw(c){let d="";return G(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function vf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=aw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ce(c,d,f))}function Ne(c){rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ne,rt);var yM=/^https?$/i,vM=["POST","PUT"];t=Ne.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():df.g(),this.v=this.o?FI(this.o):FI(df),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){cw(this,R);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vM,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,L]of f)this.g.setRequestHeader(R,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dw(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){cw(this,R)}};function cw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,uw(c),Wc(c)}function uw(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,dt(this,"complete"),dt(this,"abort"),Wc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wc(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lw(this):this.bb())},t.bb=function(){lw(this)};function lw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Tn(c)!=4||c.Z()!=2)){if(c.u&&Tn(c)==4)xI(c.Ea,0,c);else if(dt(c,"readystatechange"),Tn(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=L===0){var T=String(c.D).match(ew)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!yM.test(T?T.toLowerCase():"")}f=g}if(f)dt(c,"complete"),dt(c,"success");else{c.m=6;try{var R=2<Tn(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",uw(c)}}finally{Wc(c)}}}}function Wc(c,d){if(c.g){dw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||dt(c,"ready");try{f.onreadystatechange=g}catch{}}}function dw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Tn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),YR(d)}};function hw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _M(c){let d={};c=(c.g&&2<=Tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if($(c[g]))continue;var f=b(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[T]||[];d[T]=R,R.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function fw(c){this.Aa=0,this.i=[],this.j=new Ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,c),this.cb=Bs("retryDelaySeedMs",1e4,c),this.Wa=Bs("forwardChannelMaxRetries",2,c),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new KI(c&&c.concurrentRequestLimit),this.Da=new gM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){ht(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Ew(this,null,this.W),Qc(this)};function _f(c){if(pw(c),c.G==3){var d=c.U++,f=Cn(c.I);if(Ce(f,"SID",c.K),Ce(f,"RID",d),Ce(f,"TYPE","terminate"),$s(c,f),d=new nr(c,c.j,d),d.L=2,d.v=qc(Cn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Dw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$c(d)}ww(c)}function Kc(c){c.g&&(wf(c),c.g.cancel(),c.g=null)}function pw(c){Kc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Yc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Qc(c){if(!QI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Cs||TI(),Ts||(Cs(),Ts=!0),Zh.add(d,c),c.B=0}}function IM(c,d){return YI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xs(m(c.Ga,c,d),Iw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new nr(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),D(R,this.S)):R=this.S),this.m!==null||this.O||(T.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=mw(this,T,d),f=Cn(this.I),Ce(f,"RID",c),Ce(f,"CVER",22),this.D&&Ce(f,"X-HTTP-Session-Id",this.D),$s(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(aw(R)))+"&"+d:this.m&&vf(f,this.m,R)),yf(this.h,T),this.Ua&&Ce(f,"TYPE","init"),this.P?(Ce(f,"$req",d),Ce(f,"SID","null"),T.T=!0,ff(T,f,null)):ff(T,f,d),this.G=2}}else this.G==3&&(c?gw(this,c):this.i.length==0||QI(this.h)||gw(this))};function gw(c,d){var f;d?f=d.l:f=c.U++;let g=Cn(c.I);Ce(g,"SID",c.K),Ce(g,"RID",f),Ce(g,"AID",c.T),$s(c,g),c.m&&c.o&&vf(g,c.m,c.o),f=new nr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=mw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),yf(c.h,f),ff(f,g,d)}function $s(c,d){c.H&&G(c.H,function(f,g){Ce(d,g,f)}),c.l&&XI({},function(f,g){Ce(d,g,f)})}function mw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var T=c.i;let R=-1;for(;;){let L=["count="+f];R==-1?0<f?(R=T[0].g,L.push("ofs="+R)):R=0:L.push("ofs="+R);let De=!0;for(let Je=0;Je<f;Je++){let pe=T[Je].g,it=T[Je].map;if(pe-=R,0>pe)R=Math.max(0,T[Je].g-100),De=!1;else try{mM(it,L,"req"+pe+"_")}catch{g&&g(it)}}if(De){g=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function yw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Cs||TI(),Ts||(Cs(),Ts=!0),Zh.add(d,c),c.v=0}}function If(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xs(m(c.Fa,c),Iw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,vw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xs(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Kc(this),vw(this))};function wf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function vw(c){c.g=new nr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Cn(c.qa);Ce(d,"RID","rpc"),Ce(d,"SID",c.K),Ce(d,"AID",c.T),Ce(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ce(d,"TO",c.ja),Ce(d,"TYPE","xmlhttp"),$s(c,d),c.m&&c.o&&vf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=qc(Cn(d)),f.m=null,f.P=!0,qI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Kc(this),If(this),ht(19))};function Yc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function _w(c,d){var f=null;if(c.g==d){Yc(c),wf(c),c.g=null;var g=2}else if(mf(c.h,d))f=d.D,ZI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=jc(),dt(g,new BI(g,f)),Qc(c)}else yw(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&IM(c,d)||g==2&&If(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:Gr(c,5);break;case 4:Gr(c,10);break;case 3:Gr(c,6);break;default:Gr(c,2)}}}function Iw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Gr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let T=!g;g=new qr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Hc(g,"https"),qc(g),T?fM(g.toString(),f):pM(g.toString(),f)}else ht(2);c.G=0,c.l&&c.l.sa(d),ww(c),pw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function ww(c){if(c.G=0,c.ka=[],c.l){let d=JI(c.h);(d.length!=0||c.i.length!=0)&&(A(c.ka,d),A(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Ew(c,d,f){var g=f instanceof qr?Cn(f):new qr(f);if(g.g!="")d&&(g.g=d+"."+g.g),zc(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var R=new qr(null);g&&Hc(R,g),d&&(R.g=d),T&&zc(R,T),f&&(R.l=f),g=R}return f=c.D,d=c.ya,f&&d&&Ce(g,f,d),Ce(g,"VER",c.la),$s(c,g),g}function Dw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ne(new Vs({eb:f})):new Ne(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bw(){}t=bw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zc(){}Zc.prototype.g=function(c,d){return new Et(c,d)};function Et(c,d){rt.call(this),this.g=new fw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Gi(this)}C(Et,rt),Et.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Et.prototype.close=function(){_f(this.g)},Et.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=af(c),c=f);d.i.push(new rM(d.Ya++,c)),d.G==3&&Qc(d)},Et.prototype.N=function(){this.g.l=null,delete this.j,_f(this.g),delete this.g,Et.aa.N.call(this)};function Cw(c){uf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(Cw,uf);function Tw(){lf.call(this),this.status=1}C(Tw,lf);function Gi(c){this.g=c}C(Gi,bw),Gi.prototype.ua=function(){dt(this.g,"a")},Gi.prototype.ta=function(c){dt(this.g,new Cw(c))},Gi.prototype.sa=function(c){dt(this.g,new Tw)},Gi.prototype.ra=function(){dt(this.g,"b")},Zc.prototype.createWebChannel=Zc.prototype.g,Et.prototype.send=Et.prototype.o,Et.prototype.open=Et.prototype.m,Et.prototype.close=Et.prototype.close,Gy=Qn.createWebChannelTransport=function(){return new Zc},qy=Qn.getStatEventTarget=function(){return jc()},zy=Qn.Event=Hr,Rd=Qn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Uc.NO_ERROR=0,Uc.TIMEOUT=8,Uc.HTTP_ERROR=6,ic=Qn.ErrorCode=Uc,$I.COMPLETE="complete",Hy=Qn.EventType=$I,LI.EventType=Ms,Ms.OPEN="a",Ms.CLOSE="b",Ms.ERROR="c",Ms.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Ko=Qn.WebChannel=LI,C2=Qn.FetchXmlHttpFactory=Vs,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,$y=Qn.XhrIo=Ne}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});var Z0="@firebase/firestore";var Ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");var ps="10.14.0";var Mi=new Nr("@firebase/firestore");function oc(){return Mi.logLevel}function H(t,...e){if(Mi.logLevel<=le.DEBUG){let n=e.map(N_);Mi.debug(`Firestore (${ps}): ${t}`,...n)}}function Zn(t,...e){if(Mi.logLevel<=le.ERROR){let n=e.map(N_);Mi.error(`Firestore (${ps}): ${t}`,...n)}}function ts(t,...e){if(Mi.logLevel<=le.WARN){let n=e.map(N_);Mi.warn(`Firestore (${ps}): ${t}`,...n)}}function N_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function K(t="Unexpected state"){let e=`FIRESTORE (${ps}) INTERNAL ASSERTION FAILED: `+t;throw Zn(e),new Error(e)}function we(t,e){t||K()}function J(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Pt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var yn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Od=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Zy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}},Jy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Xy=class{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new yn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new Od(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new Ze(e)}},ev=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},tv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ev(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},nv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},rv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){we(this.o===void 0);let r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new nv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function T2(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var kd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=T2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function me(t,e){return t<e?-1:t>e?1:0}function ns(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var tt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new tt(0,0))}static max(){return new t(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Fd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Me=class t extends Fd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},S2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kt=class t extends Fd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return S2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new U(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Me.fromString(e))}static fromName(e){return new t(Me.fromString(e).popFirst(5))}static empty(){return new t(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Me(e.slice()))}};var iv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};iv.UNKNOWN_ID=-1;function A2(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new Ni(i,q.empty(),e)}function R2(t){return new Ni(t.readTime,t.key,-1)}var Ni=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),q.empty(),-1)}static max(){return new t(ne.max(),q.empty(),-1)}};function M2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}var N2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ov=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Dc(t){return I(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==N2)throw t;H("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function x2(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bc(t){return t.name==="IndexedDbTransactionError"}var xS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ph(t){return t==null}function dc(t){return t===0&&1/t==-1/0}function P2(t){return typeof t=="number"&&Number.isInteger(t)&&!dc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var O2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sK=[...O2,"documentOverlays"],k2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],F2=k2,L2=[...F2,"indexConfiguration","indexState","indexEntries"];var aK=[...L2,"globals"];function J0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ji(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Fe=class t{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jo(this.root,e,this.comparator,!0)}},Jo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();let e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}};vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,o){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ut=class t{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ld(this.data.getIterator())}getIteratorFrom(e){return new Ld(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ld=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ht=class t{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ut(kt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ns(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Vd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Vd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};lt.EMPTY_BYTE_STRING=new lt("");var V2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jn(t){if(we(!!t),typeof t=="string"){let e=0,n=V2.exec(t);if(we(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jr(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}function x_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function P_(t){let e=t.mapValue.fields.__previous_value__;return x_(e)?P_(e):e}function hc(t){let e=Jn(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}var sv=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},jd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Md={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?x_(t)?4:kS(t)?9007199254740991:OS(t)?10:11:K()}function wn(t,e){if(t===e)return!0;let n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hc(t).isEqual(hc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Jn(i.timestampValue),a=Jn(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return jr(i.bytesValue).isEqual(jr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Se(i.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Se(i.integerValue)===Se(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Se(i.doubleValue),a=Se(o.doubleValue);return s===a?dc(s)===dc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ns(t.arrayValue.values||[],e.arrayValue.values||[],wn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(J0(s)!==J0(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!wn(s[u],a[u])))return!1;return!0}(t,e);default:return K()}}function fc(t,e){return(t.values||[]).find(n=>wn(n,e))!==void 0}function rs(t,e){if(t===e)return 0;let n=xi(t),r=xi(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Se(o.integerValue||o.doubleValue),u=Se(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return X0(t.timestampValue,e.timestampValue);case 4:return X0(hc(t),hc(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(o,s){let a=jr(o),u=jr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=me(a[l],u[l]);if(h!==0)return h}return me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=me(Se(o.latitude),Se(s.latitude));return a!==0?a:me(Se(o.longitude),Se(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eS(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=me(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:eS(y,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Md.mapValue&&s===Md.mapValue)return 0;if(o===Md.mapValue)return 1;if(s===Md.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=me(u[p],h[p]);if(m!==0)return m;let y=rs(a[u[p]],l[h[p]]);if(y!==0)return y}return me(u.length,h.length)}(t.mapValue,e.mapValue);default:throw K()}}function X0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);let n=Jn(t),r=Jn(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function eS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=rs(n[i],r[i]);if(o)return o}return me(n.length,r.length)}function is(t){return av(t)}function av(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Jn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=av(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${av(n.fields[s])}`;return i+"}"}(t.mapValue):K()}function tS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cv(t){return!!t&&"integerValue"in t}function O_(t){return!!t&&"arrayValue"in t}function nS(t){return!!t&&"nullValue"in t}function rS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xd(t){return!!t&&"mapValue"in t}function OS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ac(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ac(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ot=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ac(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ji(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ac(this.value))}};function FS(t){let e=[];return ji(t.fields,(n,r)=>{let i=new kt([n]);if(xd(r)){let o=FS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Ht(e)}var Xt=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),Ot.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var os=class{constructor(e,n){this.position=e,this.inclusive=n}};function iS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),n.key):r=rs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function oS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wn(t.position[n],e.position[n]))return!1;return!0}var ss=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function j2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ud=class{},$e=class t extends Ud{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lv(e,n,r):n==="array-contains"?new fv(e,r):n==="in"?new pv(e,r):n==="not-in"?new gv(e,r):n==="array-contains-any"?new mv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dv(e,r):new hv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(rs(n,this.value)):n!==null&&xi(this.value)===xi(n)&&this.matchesComparison(rs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},en=class t extends Ud{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return LS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function LS(t){return t.op==="and"}function VS(t){return U2(t)&&LS(t)}function U2(t){for(let e of t.filters)if(e instanceof en)return!1;return!0}function uv(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+is(t.value);if(VS(t))return t.filters.map(e=>uv(e)).join(",");{let e=t.filters.map(n=>uv(n)).join(",");return`${t.op}(${e})`}}function jS(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&wn(r.value,i.value)}(t,e):t instanceof en?function(r,i){return i instanceof en&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&jS(s,i.filters[a]),!0):!1}(t,e):void K()}function US(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${is(n.value)}`}(t):t instanceof en?function(n){return n.op.toString()+" {"+n.getFilters().map(US).join(" ,")+"}"}(t):"Filter"}var lv=class extends $e{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},dv=class extends $e{constructor(e,n){super(e,"in",n),this.keys=BS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},hv=class extends $e{constructor(e,n){super(e,"not-in",n),this.keys=BS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function BS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var fv=class extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return O_(n)&&fc(n.arrayValue,this.value)}},pv=class extends $e{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}},gv=class extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!fc(this.value.arrayValue,n)}},mv=class extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!O_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fc(this.value.arrayValue,r))}};var yv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function sS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new yv(t,e,n,r,i,o,s)}function k_(t){let e=J(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>is(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>is(r)).join(",")),e.ue=n}return e.ue}function F_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oS(t.startAt,e.startAt)&&oS(t.endAt,e.endAt)}function vv(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Pi=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function B2(t,e,n,r,i,o,s,a){return new Pi(t,e,n,r,i,o,s,a)}function L_(t){return new Pi(t)}function aS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $S(t){return t.collectionGroup!==null}function cc(t){let e=J(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ut(kt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ss(o,r))}),n.has(kt.keyField().canonicalString())||e.ce.push(new ss(kt.keyField(),r))}return e.ce}function _n(t){let e=J(t);return e.le||(e.le=$2(e,cc(t))),e.le}function $2(t,e){if(t.limitType==="F")return sS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ss(i.field,o)});let n=t.endAt?new os(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new os(t.startAt.position,t.startAt.inclusive):null;return sS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _v(t,e){let n=t.filters.concat([e]);return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Iv(t,e,n){return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gh(t,e){return F_(_n(t),_n(e))&&t.limitType===e.limitType}function HS(t){return`${k_(_n(t))}|lt:${t.limitType}`}function Qo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>US(i)).join(", ")}]`),ph(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>is(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>is(i)).join(",")),`Target(${r})`}(_n(t))}; limitType=${t.limitType})`}function mh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of cc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=iS(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,cc(r),i)||r.endAt&&!function(s,a,u){let l=iS(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,cc(r),i))}(t,e)}function H2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zS(t){return(e,n)=>{let r=!1;for(let i of cc(t)){let o=z2(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function z2(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?rs(u,l):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}var Ur=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return PS(this.inner)}size(){return this.innerSize}};var q2=new Fe(q.comparator);function Xn(){return q2}var qS=new Fe(q.comparator);function sc(...t){let e=qS;for(let n of t)e=e.insert(n.key,n);return e}function GS(t){let e=qS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Si(){return uc()}function WS(){return uc()}function uc(){return new Ur(t=>t.toString(),(t,e)=>t.isEqual(e))}var G2=new Fe(q.comparator),W2=new ut(q.comparator);function de(...t){let e=W2;for(let n of t)e=e.add(n);return e}var K2=new ut(me);function Q2(){return K2}function V_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function KS(t){return{integerValue:""+t}}function QS(t,e){return P2(e)?KS(e):V_(t,e)}var as=class{constructor(){this._=void 0}};function Y2(t,e,n){return t instanceof cs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&x_(o)&&(o=P_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Oi?ZS(t,e):t instanceof ki?JS(t,e):function(i,o){let s=YS(i,o),a=cS(s)+cS(i.Pe);return cv(s)&&cv(i.Pe)?KS(a):V_(i.serializer,a)}(t,e)}function Z2(t,e,n){return t instanceof Oi?ZS(t,e):t instanceof ki?JS(t,e):n}function YS(t,e){return t instanceof Fi?function(r){return cv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var cs=class extends as{},Oi=class extends as{constructor(e){super(),this.elements=e}};function ZS(t,e){let n=XS(e);for(let r of t.elements)n.some(i=>wn(i,r))||n.push(r);return{arrayValue:{values:n}}}var ki=class extends as{constructor(e){super(),this.elements=e}};function JS(t,e){let n=XS(e);for(let r of t.elements)n=n.filter(i=>!wn(i,r));return{arrayValue:{values:n}}}var Fi=class extends as{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function cS(t){return Se(t.integerValue||t.doubleValue)}function XS(t){return O_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var wv=class{constructor(e,n){this.field=e,this.transform=n}};function J2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Oi&&i instanceof Oi||r instanceof ki&&i instanceof ki?ns(r.elements,i.elements,wn):r instanceof Fi&&i instanceof Fi?wn(r.Pe,i.Pe):r instanceof cs&&i instanceof cs}(t.transform,e.transform)}var Ev=class{constructor(e,n){this.version=e,this.transformResults=n}},Lr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Pd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var us=class{};function eA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bd(t.key,Lr.none()):new Li(t.key,t.data,Lr.none());{let n=t.data,r=Ot.empty(),i=new ut(kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new En(t.key,r,new Ht(i.toArray()),Lr.none())}}function X2(t,e,n){t instanceof Li?function(i,o,s){let a=i.value.clone(),u=lS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof En?function(i,o,s){if(!Pd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=lS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(tA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function lc(t,e,n,r){return t instanceof Li?function(o,s,a,u){if(!Pd(o.precondition,s))return a;let l=o.value.clone(),h=dS(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof En?function(o,s,a,u){if(!Pd(o.precondition,s))return a;let l=dS(o.fieldTransforms,u,s),h=s.data;return h.setAll(tA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Pd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function eB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=YS(r.transform,i||null);o!=null&&(n===null&&(n=Ot.empty()),n.set(r.field,o))}return n||null}function uS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ns(r,i,(o,s)=>J2(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Li=class extends us{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},En=class extends us{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function tA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function lS(t,e,n){let r=new Map;we(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Z2(s,a,n[i]))}return r}function dS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Y2(o,s,e))}return r}var Bd=class extends us{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Dv=class extends us{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var bv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&X2(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=WS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=eA(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&ns(this.mutations,e.mutations,(n,r)=>uS(n,r))&&ns(this.baseMutations,e.baseMutations,(n,r)=>uS(n,r))}},Cv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length);let i=function(){return G2}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Tv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Sv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ue,fe;function tB(t){switch(t){default:return K();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function nA(t){if(t===void 0)return Zn("GRPC error has no .code"),N.UNKNOWN;switch(t){case Ue.OK:return N.OK;case Ue.CANCELLED:return N.CANCELLED;case Ue.UNKNOWN:return N.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return N.INTERNAL;case Ue.UNAVAILABLE:return N.UNAVAILABLE;case Ue.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Ue.NOT_FOUND:return N.NOT_FOUND;case Ue.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Ue.ABORTED:return N.ABORTED;case Ue.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Ue.DATA_LOSS:return N.DATA_LOSS;default:return K()}}(fe=Ue||(Ue={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var hS=null;function nB(){return new TextEncoder}var rB=new Fr([4294967295,4294967295],0);function fS(t){let e=nB().encode(t),n=new By;return n.update(e),new Uint8Array(n.digest())}function pS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fr([n,r],0),new Fr([i,o],0)]}var Av=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ai(`Invalid padding: ${n}`);if(r<0)throw new Ai(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ai(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ai(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Fr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Fr.fromNumber(r)));return i.compare(rB)===1&&(i=new Fr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=fS(e),[r,i]=pS(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=fS(e),[r,i]=pS(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ai=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var $d=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new Fe(me),Xn(),de())}},pc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,de(),de(),de())}};var Xo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Hd=class{constructor(e,n){this.targetId=e,this.me=n}},zd=class{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},qd=class{constructor(){this.fe=0,this.ge=mS(),this.pe=lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),n=de(),r=de();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new pc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=mS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,we(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Rv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xn(),this.qe=gS(),this.Qe=new Fe(me)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(vv(o))if(r===0){let s=new q(o.path);this.Ue(n,s,Xt.newNoDocument(s,ne.min()))}else we(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}hS?.et(function(h,p,m,y,C){var M,A,k,$,j,X;let ve={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},G=p.unchangedNames;return G&&(ve.bloomFilter={applied:C===0,hashCount:(M=G?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:($=(k=(A=G?.bits)===null||A===void 0?void 0:A.bitmap)===null||k===void 0?void 0:k.length)!==null&&$!==void 0?$:0,padding:(X=(j=G?.bits)===null||j===void 0?void 0:j.padding)!==null&&X!==void 0?X:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),ve}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=jr(r).toUint8Array()}catch(u){if(u instanceof Vd)return ts("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Av(s,i,o)}catch(u){return ts(u instanceof Ai?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&vv(a.target)){let u=new q(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Xt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=de();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new $d(e,n,this.Qe,this.ke,r);return this.ke=Xn(),this.qe=gS(),this.Qe=new Fe(me),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new qd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ut(me),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function gS(){return new Fe(q.comparator)}function mS(){return new Fe(q.comparator)}var iB={asc:"ASCENDING",desc:"DESCENDING"},oB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sB={and:"AND",or:"OR"},Mv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Nv(t,e){return t.useProto3Json||ph(e)?e:{value:e}}function Gd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aB(t,e){return Gd(t,e.toTimestamp())}function In(t){return we(!!t),ne.fromTimestamp(function(n){let r=Jn(n);return new tt(r.seconds,r.nanos)}(t))}function j_(t,e){return xv(t,e).canonicalString()}function xv(t,e){let n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iA(t){let e=Me.fromString(t);return we(uA(e)),e}function Pv(t,e){return j_(t.databaseId,e.path)}function Wy(t,e){let n=iA(e);if(n.get(1)!==t.databaseId.projectId)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(sA(n))}function oA(t,e){return j_(t.databaseId,e)}function cB(t){let e=iA(t);return e.length===4?Me.emptyPath():sA(e)}function Ov(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sA(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yS(t,e,n){return{name:Pv(t,e),fields:n.value.mapValue.fields}}function uB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(we(h===void 0||typeof h=="string"),lt.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array),lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:nA(l.code);return new U(h,l.message||"")}(s);n=new zd(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Wy(t,r.document.name),o=In(r.document.updateTime),s=r.document.createTime?In(r.document.createTime):ne.min(),a=new Ot({mapValue:{fields:r.document.fields}}),u=Xt.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Xo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Wy(t,r.document),o=r.readTime?In(r.readTime):ne.min(),s=Xt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Xo([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Wy(t,r.document),o=r.removedTargetIds||[];n=new Xo([],o,i,null)}else{if(!("filter"in e))return K();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Sv(i,o),a=r.targetId;n=new Hd(a,s)}}return n}function lB(t,e){let n;if(e instanceof Li)n={update:yS(t,e.key,e.value)};else if(e instanceof Bd)n={delete:Pv(t,e.key)};else if(e instanceof En)n={update:yS(t,e.key,e.data),updateMask:_B(e.fieldMask)};else{if(!(e instanceof Dv))return K();n={verify:Pv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof cs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ki)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fi)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:aB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:K()}(t,e.precondition)),n}function dB(t,e){return t&&t.length>0?(we(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?In(i.updateTime):In(o);return s.isEqual(ne.min())&&(s=In(o)),new Ev(s,i.transformResults||[])}(n,e))):[]}function hB(t,e){return{documents:[oA(t,e.path)]}}function fB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oA(t,i);let o=function(l){if(l.length!==0)return cA(en.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Yo(m.field),direction:mB(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Nv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function pB(t){let e=cB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){we(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=aA(p);return m instanceof en&&VS(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(C){return new ss(Zo(C.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,ph(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new os(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new os(y,m)}(n.endAt)),B2(e,i,s,o,a,"F",u,l)}function gB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Zo(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Zo(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Zo(n.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Zo(n.unaryFilter.field);return $e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(Zo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return en.create(n.compositeFilter.filters.map(r=>aA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function mB(t){return iB[t]}function yB(t){return oB[t]}function vB(t){return sB[t]}function Yo(t){return{fieldPath:t.canonicalString()}}function Zo(t){return kt.fromServerFormat(t.fieldPath)}function cA(t){return t instanceof $e?function(n){if(n.op==="=="){if(rS(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NAN"}};if(nS(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rS(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NAN"}};if(nS(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(n.field),op:yB(n.op),value:n.value}}}(t):t instanceof en?function(n){let r=n.getFilters().map(i=>cA(i));return r.length===1?r[0]:{compositeFilter:{op:vB(n.op),filters:r}}}(t):K()}function _B(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var gc=class t{constructor(e,n,r,i,o=ne.min(),s=ne.min(),a=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var kv=class{constructor(e){this.ct=e}};function IB(t){let e=pB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Iv(e,e.limit,"L"):e}var Wd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),dc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Jn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(jr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?kS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):OS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):K()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Se(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Wd.vt=new Wd;var Fv=class{constructor(){this.un=new Lv}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Ni.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},Lv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut(Me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(Me.comparator)).toArray()}};var uK=new Uint8Array(0);var mn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);var mc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Vv=class{constructor(){this.changes=new Ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var jv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Uv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lc(r.mutation,i,Ht.empty(),tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){let i=Si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=sc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Xn(),s=uc(),a=function(){return uc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof En)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),lc(h.mutation,l,h.mutation.getFieldMask(),tt.now())):s.set(l.key,Ht.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new jv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=uc(),i=new Fe((s,a)=>s-a),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Ht.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||de()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=WS();h.forEach(m=>{if(!o.has(m)){let y=eA(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$S(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(Si()),a=-1,u=o;return s.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,de())).next(h=>({batchId:a,changes:GS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=sc();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{let l=function(p,m){return new Pi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Xt.newInvalidDocument(h)))});let a=sc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&lc(h.mutation,l,Ht.empty(),tt.now()),mh(n,l)&&(a=a.insert(u,l))}),a})}};var Bv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:In(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:IB(i.bundledQuery),readTime:In(i.readTime)}}(n)),O.resolve()}};var $v=class{constructor(){this.overlays=new Fe(q.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Si();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=Si(),o=n.length+1,s=new q(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Fe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Si(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Si(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Tv(n,r));let o=this.Ir.get(n);o===void 0&&(o=de(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Hv=class{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var yc=class{constructor(){this.Tr=new ut(Be.Er),this.dr=new ut(Be.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Be(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Be(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new q(new Me([])),r=new Be(n,e),i=new Be(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new q(new Me([])),r=new Be(n,e),i=new Be(n,e+1),o=de();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Be(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Be=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return q.comparator(e.key,n.key)||me(e.wr,n.wr)}static Ar(e,n){return me(e.wr,n.wr)||q.comparator(e.key,n.key)}};var zv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ut(Be.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new bv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Be(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(me);return n.forEach(i=>{let o=new Be(i,0),s=new Be(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new Be(new q(o),0),a=new ut(me);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),O.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{let o=new Be(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Be(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var qv=class{constructor(e){this.Mr=e,this.docs=function(){return new Fe(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Xt.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Xn(),s=n.path,a=new q(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||M2(R2(h),r)<=0||(i.has(h.key)||mh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){K()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Gv(this)}getSize(e){return O.resolve(this.size)}},Gv=class extends Vv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Wv=class{constructor(e){this.persistence=e,this.Nr=new Ur(n=>k_(n),F_),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new yc,this.targetCount=0,this.kr=mc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new mc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}};var Kv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new xS(0),this.Kr=!1,this.Kr=!0,this.$r=new Hv,this.referenceDelegate=e(this),this.Ur=new Wv(this),this.indexManager=new Fv,this.remoteDocumentCache=function(i){return new qv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new kv(n),this.Gr=new Bv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $v,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new zv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);let i=new Qv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Qv=class extends ov{constructor(e){super(),this.currentSequenceNumber=e}},Yv=class t{constructor(e){this.persistence=e,this.Jr=new yc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw K()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Zv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=de(),i=de();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Jv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Xv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return HT()?8:x2(Ke())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Jv;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(oc()<=le.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(oc()<=le.DEBUG&&H("QueryEngine","Query:",Qo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(oc()<=le.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(n))):O.resolve())}Yi(e,n){if(aS(n))return O.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Iv(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=de(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,Iv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return aS(n)||i.isEqual(ne.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?O.resolve(null):(oc()<=le.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qo(n)),this.rs(e,s,n,A2(i,-1)).next(a=>a))})}ts(e,n){let r=new ut(zS(e));return n.forEach((i,o)=>{mh(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return oc()<=le.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Qo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ni.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var e_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Fe(me),this._s=new Ur(o=>k_(o),F_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function wB(t,e,n,r){return new e_(t,e,n,r)}function lA(t,e){return I(this,null,function*(){let n=J(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=de();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function EB(t,e){let n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=O.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(M=>{let A=l.docVersions.get(C);we(A!==null),M.version.compareTo(A)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=de();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dA(t){let e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function DB(t,e){let n=J(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(lt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(M,A,k){return M.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=Xn(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(bB(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ne.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function bB(t,e,n){let r=de(),i=de();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Xn();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function CB(t,e){let n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TB(t,e){let n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new gc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function t_(t,e,n){return I(this,null,function*(){let r=J(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!bc(s))throw s;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function vS(t,e,n){let r=J(t),i=ne.min(),o=de();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=J(u),m=p._s.get(h);return m!==void 0?O.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ne.min(),n?o:de())).next(a=>(SB(r,H2(e),a),{documents:a,Ts:o})))}function SB(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Kd=class{constructor(){this.activeTargetIds=Q2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var n_=class{constructor(){this.so=new Kd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Kd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var r_=class{_o(e){}shutdown(){}};var Qd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Nd=null;function Ky(){return Nd===null?Nd=function(){return 268435456+Math.round(2147483648*Math.random())}():Nd++,"0x"+Nd.toString(16)}var AB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var i_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ct="WebChannelConnection",o_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=Ky(),u=this.xo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(H("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ts("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ps}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=AB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Ky();return new Promise((s,a)=>{let u=new $y;u.setWithCredentials(!0),u.listenOnce(Hy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ic.NO_ERROR:let h=u.getResponseJson();H(ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case ic.TIMEOUT:H(ct,`RPC '${e}' ${o} timed out`),a(new U(N.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:let p=u.getStatus();if(H(ct,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let C=function(A){let k=A.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(k)>=0?k:N.UNKNOWN}(y.status);a(new U(C,y.message))}else a(new U(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new U(N.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{H(ct,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);H(ct,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Ky(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Gy(),a=qy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");H(ct,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,C=new i_({Io:A=>{y?H(ct,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(H(ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),H(ct,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},To:()=>p.close()}),M=(A,k,$)=>{A.listen(k,j=>{try{$(j)}catch(X){setTimeout(()=>{throw X},0)}})};return M(p,Ko.EventType.OPEN,()=>{y||(H(ct,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),M(p,Ko.EventType.CLOSE,()=>{y||(y=!0,H(ct,`RPC '${e}' stream ${i} transport closed`),C.So())}),M(p,Ko.EventType.ERROR,A=>{y||(y=!0,ts(ct,`RPC '${e}' stream ${i} transport errored:`,A),C.So(new U(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ko.EventType.MESSAGE,A=>{var k;if(!y){let $=A.data[0];we(!!$);let j=$,X=j.error||((k=j[0])===null||k===void 0?void 0:k.error);if(X){H(ct,`RPC '${e}' stream ${i} received error:`,X);let ve=X.status,G=function(_){let D=Ue[_];if(D!==void 0)return nA(D)}(ve),E=X.message;G===void 0&&(G=N.INTERNAL,E="Unknown error status: "+ve+" with message "+X.message),y=!0,C.So(new U(G,E)),p.close()}else H(ct,`RPC '${e}' stream ${i} received:`,$),C.bo($)}}),M(a,zy.STAT_EVENT,A=>{A.stat===Rd.PROXY?H(ct,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Rd.NOPROXY&&H(ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function Qy(){return typeof document<"u"?document:null}function yh(t){return new Mv(t,!0)}var Yd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Zd=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Yd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return I(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return I(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return I(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Zn(n.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new U(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>I(this,null,function*(){this.state=0,this.start()}))}I_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},s_=class extends Zd{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=uB(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?In(s.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Ov(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=vv(u)?{documents:hB(o,u)}:{query:fB(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=rA(o,s.resumeToken);let l=Nv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=Gd(o,s.snapshotVersion.toTimestamp());let l=Nv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=gB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Ov(this.serializer),n.removeTarget=e,this.a_(n)}},a_=class extends Zd{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return we(!!e.streamToken),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=dB(e.writeResults,e.commitTime),r=In(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Ov(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>lB(this.serializer,r))};this.a_(n)}};var c_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,xv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(N.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,xv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},u_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zn(n),this.D_=!1):H("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var l_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>I(this,null,function*(){Ui(this)&&(H("RemoteStore","Restarting streams for network reachability change."),yield function(u){return I(this,null,function*(){let l=J(u);l.L_.add(4),yield Cc(l),l.q_.set("Unknown"),l.L_.delete(4),yield vh(l)})}(this))}))}),this.q_=new u_(r,i)}};function vh(t){return I(this,null,function*(){if(Ui(t))for(let e of t.B_)yield e(!0)})}function Cc(t){return I(this,null,function*(){for(let e of t.B_)yield e(!1)})}function hA(t,e){let n=J(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),H_(n)?$_(n):gs(n).r_()&&B_(n,e))}function U_(t,e){let n=J(t),r=gs(n);n.N_.delete(e),r.r_()&&fA(n,e),n.N_.size===0&&(r.r_()?r.o_():Ui(n)&&n.q_.set("Unknown"))}function B_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gs(t).A_(e)}function fA(t,e){t.Q_.xe(e),gs(t).R_(e)}function $_(t){t.Q_=new Rv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),gs(t).start(),t.q_.v_()}function H_(t){return Ui(t)&&!gs(t).n_()&&t.N_.size>0}function Ui(t){return J(t).L_.size===0}function pA(t){t.Q_=void 0}function RB(t){return I(this,null,function*(){t.q_.set("Online")})}function MB(t){return I(this,null,function*(){t.N_.forEach((e,n)=>{B_(t,e)})})}function NB(t,e){return I(this,null,function*(){pA(t),H_(t)?(t.q_.M_(e),$_(t)):t.q_.set("Unknown")})}function xB(t,e,n){return I(this,null,function*(){if(t.q_.set("Online"),e instanceof zd&&e.state===2&&e.cause)try{yield function(i,o){return I(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Jd(t,r)}else if(e instanceof Xo?t.Q_.Ke(e):e instanceof Hd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{let r=yield dA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),fA(o,u);let p=new gc(h.target,u,l,h.sequenceNumber);B_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){H("RemoteStore","Failed to raise snapshot:",r),yield Jd(t,r)}})}function Jd(t,e,n){return I(this,null,function*(){if(!bc(e))throw e;t.L_.add(1),yield Cc(t),t.q_.set("Offline"),n||(n=()=>dA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){H("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield vh(t)}))})}function gA(t,e){return e().catch(n=>Jd(t,n,e))}function _h(t){return I(this,null,function*(){let e=J(t),n=Br(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;PB(e);)try{let i=yield CB(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,OB(e,i)}catch(i){yield Jd(e,i)}mA(e)&&yA(e)})}function PB(t){return Ui(t)&&t.O_.length<10}function OB(t,e){t.O_.push(e);let n=Br(t);n.r_()&&n.V_&&n.m_(e.mutations)}function mA(t){return Ui(t)&&!Br(t).n_()&&t.O_.length>0}function yA(t){Br(t).start()}function kB(t){return I(this,null,function*(){Br(t).p_()})}function FB(t){return I(this,null,function*(){let e=Br(t);for(let n of t.O_)e.m_(n.mutations)})}function LB(t,e,n){return I(this,null,function*(){let r=t.O_.shift(),i=Cv.from(r,e,n);yield gA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield _h(t)})}function VB(t,e){return I(this,null,function*(){e&&Br(t).V_&&(yield function(r,i){return I(this,null,function*(){if(function(s){return tB(s)&&s!==N.ABORTED}(i.code)){let o=r.O_.shift();Br(r).s_(),yield gA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield _h(r)}})}(t,e)),mA(t)&&yA(t)})}function _S(t,e){return I(this,null,function*(){let n=J(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");let r=Ui(n);n.L_.add(3),yield Cc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield vh(n)})}function jB(t,e){return I(this,null,function*(){let n=J(t);e?(n.L_.delete(2),yield vh(n)):e||(n.L_.add(2),yield Cc(n),n.q_.set("Unknown"))})}function gs(t){return t.K_||(t.K_=function(n,r,i){let o=J(n);return o.w_(),new s_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:RB.bind(null,t),Ro:MB.bind(null,t),mo:NB.bind(null,t),d_:xB.bind(null,t)}),t.B_.push(e=>I(this,null,function*(){e?(t.K_.s_(),H_(t)?$_(t):t.q_.set("Unknown")):(yield t.K_.stop(),pA(t))}))),t.K_}function Br(t){return t.U_||(t.U_=function(n,r,i){let o=J(n);return o.w_(),new a_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:kB.bind(null,t),mo:VB.bind(null,t),f_:FB.bind(null,t),g_:LB.bind(null,t)}),t.B_.push(e=>I(this,null,function*(){e?(t.U_.s_(),yield _h(t)):(yield t.U_.stop(),t.O_.length>0&&(H("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var d_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function z_(t,e){if(Zn("AsyncQueue",`${e}: ${t}`),bc(t))return new U(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Xd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var eh=class{constructor(){this.W_=new Fe(q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):K():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},ls=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Xd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var h_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},f_=class{constructor(){this.queries=IS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=J(n),o=i.queries;i.queries=IS(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new U(N.ABORTED,"Firestore shutting down"))}};function IS(){return new Ur(t=>HS(t),gh)}function vA(t,e){return I(this,null,function*(){let n=J(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new h_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=z_(s,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&q_(n)})}function _A(t,e){return I(this,null,function*(){let n=J(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function UB(t,e){let n=J(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&q_(n)}function BB(t,e,n){let r=J(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function q_(t){t.Y_.forEach(e=>{e.next()})}var p_,wS;(wS=p_||(p_={})).ea="default",wS.Cache="cache";var th=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ls(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ls.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==p_.Cache}};var nh=class{constructor(e){this.key=e}},rh=class{constructor(e){this.key=e}},g_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=de(),this.mutatedKeys=de(),this.Aa=zS(e),this.Ra=new Xd(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new eh,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=mh(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;m&&y?m.data.isEqual(y.data)?C!==M&&(r.track({type:3,doc:y}),A=!0):this.ga(m,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),A=!0):m&&!y&&(r.track({type:1,doc:m}),A=!0,(u||l)&&(a=!0)),A&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,C){let M=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return M(y)-M(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new ls(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new eh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=de(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new rh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new nh(r))}),n}ba(e){this.Ta=e.Ts,this.da=de();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ls.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},m_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},y_=class{constructor(e){this.key=e,this.va=!1}},v_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ur(a=>HS(a),gh),this.Ma=new Map,this.xa=new Set,this.Oa=new Fe(q.comparator),this.Na=new Map,this.La=new yc,this.Ba={},this.ka=new Map,this.qa=mc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function $B(t,e,n=!0){return I(this,null,function*(){let r=CA(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield IA(r,e,n,!0),i})}function HB(t,e){return I(this,null,function*(){let n=CA(t);yield IA(n,e,!0,!1)})}function IA(t,e,n,r){return I(this,null,function*(){let i=yield TB(t.localStore,_n(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield zB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&hA(t.remoteStore,i),a})}function zB(t,e,n,r,i){return I(this,null,function*(){t.Ka=(p,m,y)=>function(M,A,k,$){return I(this,null,function*(){let j=A.view.ma(k);j.ns&&(j=yield vS(M.localStore,A.query,!1).then(({documents:E})=>A.view.ma(E,j)));let X=$&&$.targetChanges.get(A.targetId),ve=$&&$.targetMismatches.get(A.targetId)!=null,G=A.view.applyChanges(j,M.isPrimaryClient,X,ve);return DS(M,A.targetId,G.wa),G.snapshot})}(t,p,m,y);let o=yield vS(t.localStore,e,!0),s=new g_(e,o.Ts),a=s.ma(o.documents),u=pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);DS(t,n,l.wa);let h=new m_(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function qB(t,e,n){return I(this,null,function*(){let r=J(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!gh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield t_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&U_(r.remoteStore,i.targetId),__(r,i.targetId)}).catch(Dc))):(__(r,i.targetId),yield t_(r.localStore,i.targetId,!0))})}function GB(t,e){return I(this,null,function*(){let n=J(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),U_(n.remoteStore,r.targetId))})}function WB(t,e,n){return I(this,null,function*(){let r=e$(t);try{let i=yield function(s,a){let u=J(s),l=tt.now(),h=a.reduce((y,C)=>y.add(C.key),de()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Xn(),M=de();return u.cs.getEntries(y,h).next(A=>{C=A,C.forEach((k,$)=>{$.isValidDocument()||(M=M.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(A=>{p=A;let k=[];for(let $ of a){let j=eB($,p.get($.key).overlayedDocument);j!=null&&k.push(new En($.key,j,FS(j.value.mapValue),Lr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,a)}).next(A=>{m=A;let k=A.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,A.batchId,k)})}).then(()=>({batchId:m.batchId,changes:GS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Fe(me)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Tc(r,i.changes),yield _h(r.remoteStore)}catch(i){let o=z_(i,"Failed to persist write");n.reject(o)}})}function wA(t,e){return I(this,null,function*(){let n=J(t);try{let r=yield DB(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?we(s.va):i.removedDocuments.size>0&&(we(s.va),s.va=!1))}),yield Tc(n,r,e)}catch(r){yield Dc(r)}})}function ES(t,e,n){let r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=J(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&q_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function KB(t,e,n){return I(this,null,function*(){let r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Fe(q.comparator);s=s.insert(o,Xt.newNoDocument(o,ne.min()));let a=de().add(o),u=new $d(ne.min(),new Map,new Fe(me),s,a);yield wA(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),G_(r)}else yield t_(r.localStore,e,!1).then(()=>__(r,e,n)).catch(Dc)})}function QB(t,e){return I(this,null,function*(){let n=J(t),r=e.batch.batchId;try{let i=yield EB(n.localStore,e);DA(n,r,null),EA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Tc(n,i)}catch(i){yield Dc(i)}})}function YB(t,e,n){return I(this,null,function*(){let r=J(t);try{let i=yield function(s,a){let u=J(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(we(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);DA(r,e,n),EA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Tc(r,i)}catch(i){yield Dc(i)}})}function EA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function DA(t,e,n){let r=J(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function __(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||bA(t,r)})}function bA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(U_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),G_(t))}function DS(t,e,n){for(let r of n)r instanceof nh?(t.La.addReference(r.key,e),ZB(t,r)):r instanceof rh?(H("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||bA(t,r.key)):K()}function ZB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(H("SyncEngine","New document in limbo: "+n),t.xa.add(r),G_(t))}function G_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new q(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new y_(n)),t.Oa=t.Oa.insert(n,r),hA(t.remoteStore,new gc(_n(L_(n.path)),r,"TargetPurposeLimboResolution",xS.oe))}}function Tc(t,e,n){return I(this,null,function*(){let r=J(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Zv.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return I(this,null,function*(){let h=J(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,m=>O.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>O.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!bc(p))throw p;H("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),C=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,M)}}})}(r.localStore,o))})}function JB(t,e){return I(this,null,function*(){let n=J(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());let r=yield lA(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new U(N.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Tc(n,r.hs)}})}function XB(t,e){let n=J(t),r=n.Na.get(e);if(r&&r.va)return de().add(r.key);{let i=de(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function CA(t){let e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KB.bind(null,e),e.Ca.d_=UB.bind(null,e.eventManager),e.Ca.$a=BB.bind(null,e.eventManager),e}function e$(t){let e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YB.bind(null,e),e}var bS=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return I(this,null,function*(){this.serializer=yh(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return wB(this.persistence,new Xv,n.initialUser,this.serializer)}Ga(n){return new Kv(Yv.Zr,this.serializer)}Wa(n){return new n_}terminate(){return I(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var t$=(()=>{class t{initialize(n,r){return I(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ES(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=JB.bind(null,this.syncEngine),yield jB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new f_}()}createDatastore(n){let r=yh(n.databaseInfo.databaseId),i=function(s){return new o_(s)}(n.databaseInfo);return function(s,a,u,l){return new c_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new l_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>ES(this.syncEngine,r,0),function(){return Qd.D()?new Qd:new r_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new v_(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return I(this,null,function*(){var n,r;yield function(o){return I(this,null,function*(){let s=J(o);H("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Cc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var ih=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var I_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=kd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>I(this,null,function*(){H("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(H("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=z_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Yy(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield lA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function CS(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield n$(t);H("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_S(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_S(e.remoteStore,i)),t._onlineComponents=e})}function n$(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Yy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ts("Error using user provided cache. Falling back to memory cache: "+n),yield Yy(t,new bS)}}else H("FirestoreClient","Using default OfflineComponentProvider"),yield Yy(t,new bS);return t._offlineComponents})}function TA(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),yield CS(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),yield CS(t,new t$))),t._onlineComponents})}function r$(t){return TA(t).then(e=>e.syncEngine)}function w_(t){return I(this,null,function*(){let e=yield TA(t),n=e.eventManager;return n.onListen=$B.bind(null,e.syncEngine),n.onUnlisten=qB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GB.bind(null,e.syncEngine),n})}function i$(t,e,n={}){let r=new yn;return t.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(o,s,a,u,l){let h=new ih({next:m=>{h.Za(),s.enqueueAndForget(()=>_A(o,p)),m.fromCache&&u.source==="server"?l.reject(new U(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new th(a,h,{includeMetadataChanges:!0,_a:!0});return vA(o,p)}(yield w_(t),t.asyncQueue,e,n,r)})),r.promise}function SA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var TS=new Map;function AA(t,e,n){if(!n)throw new U(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o$(t,e,n,r){if(e===!0&&r===!0)throw new U(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SS(t){if(!q.isDocumentKey(t))throw new U(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AS(t){if(q.isDocumentKey(t))throw new U(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Ih(t);throw new U(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var oh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ds=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Zy;switch(r.type){case"firstParty":return new tv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=TS.get(n);r&&(H("ComponentProvider","Removing Datastore"),TS.delete(n),r.terminate())}(this),Promise.resolve()}};function RA(t,e,n,r={}){var i;let o=(t=Yn(t,ds))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ze.MOCK_USER;else{a=LT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ze(l)}t._authCredentials=new Jy(new Od(a,u))}}var Vi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},wt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Vr=class t extends Vi{constructor(e,n,r){super(e,n,L_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Bi(t,e,...n){if(t=Qe(t),AA("collection","path",e),t instanceof ds){let r=Me.fromString(e,...n);return AS(r),new Vr(t,null,r)}{if(!(t instanceof wt||t instanceof Vr))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return AS(r),new Vr(t.firestore,null,r)}}function wh(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=kd.newId()),AA("doc","path",e),t instanceof ds){let r=Me.fromString(e,...n);return SS(r),new wt(t,null,new q(r))}{if(!(t instanceof wt||t instanceof Vr))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return SS(r),new wt(t.firestore,t instanceof Vr?t.converter:null,new q(r))}}var sh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Yd(this,"async_queue_retry"),this.Vu=()=>{let r=Qy();r&&H("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Qy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Qy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new yn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return I(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!bc(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Zn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=d_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&K()}verifyOperationInProgress(){}wu(){return I(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function RS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var $r=class extends ds{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new sh(e),this._firestoreClient=void 0,yield e}})}};function MA(t,e){let n=typeof t=="object"?t:Bo(),r=typeof t=="string"?t:e||"(default)",i=qa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=FT("firestore");o&&RA(i,...o)}return i}function W_(t){if(t._terminated)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||s$(t),t._firestoreClient}function s$(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new sv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,SA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new I_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var vc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(lt.fromBase64String(e))}catch(n){throw new U(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var hs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var fs=class{constructor(e){this._methodName=e}};var _c=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var Ic=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var a$=/^__.*__$/,E_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new En(e,this.data,this.fieldMask,n,this.fieldTransforms):new Li(e,this.data,n,this.fieldTransforms)}},ah=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new En(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function NA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}var D_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return uh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(NA(this.Cu)&&a$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},b_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yh(e)}Qu(e,n,r,i=!1){return new D_({Cu:e,methodName:n,qu:r,path:kt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function K_(t){let e=t._freezeSettings(),n=yh(t._databaseId);return new b_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function c$(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Q_("Data must be an object, but it was:",s,r);let a=xA(r,s),u,l;if(o.merge)u=new Ht(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=T_(e,p,n);if(!s.contains(m))throw new U(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);OA(h,m)||h.push(m)}u=new Ht(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new E_(new Ot(a),u,l)}var ch=class t extends fs{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};var C_=class t extends fs{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){let n=new Fi(e.serializer,QS(e.serializer,this.$u));return new wv(e.path,n)}isEqual(e){return e instanceof t&&this.$u===e.$u}};function u$(t,e,n,r){let i=t.Qu(1,e,n);Q_("Data must be an object, but it was:",i,r);let o=[],s=Ot.empty();ji(r,(u,l)=>{let h=Y_(e,u,n);l=Qe(l);let p=i.Nu(h);if(l instanceof ch)o.push(h);else{let m=Sc(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Ht(o);return new ah(s,a,i.fieldTransforms)}function l$(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[T_(e,r,n)],u=[i];if(o.length%2!=0)throw new U(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(T_(e,o[m])),u.push(o[m+1]);let l=[],h=Ot.empty();for(let m=a.length-1;m>=0;--m)if(!OA(l,a[m])){let y=a[m],C=u[m];C=Qe(C);let M=s.Nu(y);if(C instanceof ch)l.push(y);else{let A=Sc(C,M);A!=null&&(l.push(y),h.set(y,A))}}let p=new Ht(l);return new ah(h,p,s.fieldTransforms)}function d$(t,e,n,r=!1){return Sc(n,t.Qu(r?4:3,e))}function Sc(t,e){if(PA(t=Qe(t)))return Q_("Unsupported field value:",e,t),xA(t,e);if(t instanceof fs)return function(r,i){if(!NA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Sc(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QS(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=tt.fromDate(r);return{timestampValue:Gd(i.serializer,o)}}if(r instanceof tt){let o=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gd(i.serializer,o)}}if(r instanceof _c)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vc)return{bytesValue:rA(i.serializer,r._byteString)};if(r instanceof wt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:j_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ic)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return V_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Ih(r)}`)}(t,e)}function xA(t,e){let n={};return PS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(t,(r,i)=>{let o=Sc(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function PA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof _c||t instanceof vc||t instanceof wt||t instanceof fs||t instanceof Ic)}function Q_(t,e,n){if(!PA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Ih(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function T_(t,e,n){if((e=Qe(e))instanceof hs)return e._internalPath;if(typeof e=="string")return Y_(t,e);throw uh("Field path arguments must be of type string or ",t,!1,void 0,n)}var h$=new RegExp("[~\\*/\\[\\]]");function Y_(t,e,n){if(e.search(h$)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hs(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new U(N.INVALID_ARGUMENT,a+t+u)}function OA(t,e){return t.some(n=>n.isEqual(e))}var lh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new S_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Z_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},S_=class extends lh{data(){return super.data()}};function Z_(t,e){return typeof e=="string"?Y_(t,e):e instanceof hs?e._internalPath:e._delegate._internalPath}function kA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wc=class{},A_=class extends wc{};function Eh(t,e,...n){let r=[];e instanceof wc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof R_).length,a=o.filter(u=>u instanceof dh).length;if(s>1||s>0&&a>0)throw new U(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var dh=class t extends A_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return FA(e._query,n),new Vi(e.firestore,e.converter,_v(e._query,n))}_parse(e){let n=K_(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new U(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){NS(p,h);let y=[];for(let C of p)y.push(MS(u,o,C));m={arrayValue:{values:y}}}else m=MS(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||NS(p,h),m=d$(a,s,p,h==="in"||h==="not-in");return $e.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Dh(t,e,n){let r=e,i=Z_("where",t);return dh._create(i,r,n)}var R_=class t extends wc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:en.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)FA(s,u),s=_v(s,u)}(e._query,n),new Vi(e.firestore,e.converter,_v(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function MS(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new U(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$S(e)&&n.indexOf("/")!==-1)throw new U(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Me.fromString(n));if(!q.isDocumentKey(r))throw new U(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tS(t,new q(r))}if(n instanceof wt)return tS(t,n._key);throw new U(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(n)}.`)}function NS(t,e){if(!Array.isArray(t)||t.length===0)throw new U(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FA(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var M_=class{convertValue(e,n="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ji(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Se(s.doubleValue));return new Ic(o)}convertGeoPoint(e){return new _c(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=P_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){let n=Jn(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Me.fromString(e);we(uA(r));let i=new jd(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(n)||Zn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function f$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ri=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},hh=class extends lh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new es(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Z_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},es=class extends hh{data(e={}){return super.data(e)}},fh=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ri(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new es(this._firestore,this._userDataWriter,r.key,r,new Ri(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new es(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ri(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new es(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ri(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:p$(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function p$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}var Ec=class extends M_{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}};function bh(t){t=Yn(t,Vi);let e=Yn(t.firestore,$r),n=W_(e),r=new Ec(e);return kA(t._query),i$(n,t._query).then(i=>new fh(e,r,t,i))}function J_(t,e,n,...r){t=Yn(t,wt);let i=Yn(t.firestore,$r),o=K_(i),s;return s=typeof(e=Qe(e))=="string"||e instanceof hs?l$(o,"updateDoc",t._key,e,n,r):u$(o,"updateDoc",t._key,e),LA(i,[s.toMutation(t._key,Lr.exists(!0))])}function Ch(t,e){let n=Yn(t.firestore,$r),r=wh(t),i=f$(t.converter,e);return LA(n,[c$(K_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Lr.exists(!1))]).then(()=>r)}function X_(t,...e){var n,r,i;t=Qe(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||RS(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(RS(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof wt)l=Yn(t.firestore,$r),h=L_(t._key.path),u={next:p=>{e[s]&&e[s](g$(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Yn(t,Vi);l=Yn(p.firestore,$r),h=p._query;let m=new Ec(l);u={next:y=>{e[s]&&e[s](new fh(l,m,p,y))},error:e[s+1],complete:e[s+2]},kA(t._query)}return function(m,y,C,M){let A=new ih(M),k=new th(y,A,C);return m.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return vA(yield w_(m),k)})),()=>{A.Za(),m.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return _A(yield w_(m),k)}))}}(W_(l),h,a,u)}function LA(t,e){return function(r,i){let o=new yn;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return WB(yield r$(r),i,o)})),o.promise}(W_(t),e)}function g$(t,e,n){let r=n.docs.get(e._key),i=new Ec(t);return new hh(t,i,e._key,r,new Ri(n.hasPendingWrites,n.fromCache),e.converter)}function eI(t){return new C_("increment",t)}(function(e,n=!0){(function(i){ps=i})(Or),Pr(new $t("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new $r(new Xy(r.getProvider("auth-internal")),new rv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ye(Z0,"4.7.3",e),Ye(Z0,"4.7.3","esm2017")})();var tn=class{constructor(e){return e}},VA="firestore",tI=class{constructor(){return tc(VA)}};var nI=new F("angularfire2.firestore-instances");function m$(t,e){let n=jy(VA,t,e);return n&&new tn(n)}function y$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new tn(r)}}var v$={provide:tI,deps:[[new un,nI]]},_$={provide:tn,useFactory:m$,deps:[[new un,nI],Ti]};function jA(t,...e){return Ye("angularfire",Wo.full,"fst"),jt([_$,v$,{provide:nI,useFactory:y$(t),multi:!0,deps:[_e,St,nc,rc,[new un,Sd],[new un,ec],...e]}])}var UA=Kn(Ch,!0);var Th=Kn(Bi,!0);var rI=Kn(bh,!0);var BA=Kn(MA,!0);var iI=Kn(Eh,!0);var oI=Kn(Dh,!0);function aI(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&SD(aI);let r=n?e?.injector?.get(ha)??x(ha):null,i=I$(e?.equal),o;e?.requireSync?o=di({kind:0},{equal:i}):o=di({kind:1,value:e?.initialValue},{equal:i});let s=t.subscribe({next:a=>o.set({kind:1,value:a}),error:a=>{if(e?.rejectErrors)throw a;o.set({kind:2,error:a})}});if(e?.requireSync&&o().kind===0)throw new z(601,!1);return r?.onDestroy(s.unsubscribe.bind(s)),Tr(()=>{let a=o();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new z(601,!1)}},{equal:e?.equal})}function I$(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var lI={};function ms(t,e){if(lI[t]=(lI[t]||0)+1,typeof e=="function")return cI(t,(...r)=>te(P({},e(...r)),{type:t}));switch(e?e._as:"empty"){case"empty":return cI(t,()=>({type:t}));case"props":return cI(t,r=>te(P({},r),{type:t}));default:throw new Error("Unexpected config.")}}function Mc(){return{_as:"props",_p:void 0}}function cI(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var eR="@ngrx/store/init",ys=(()=>{class t extends Le{constructor(){super({type:eR})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),w$=[ys],tR=new F("@ngrx/store Internal Root Guard"),$A=new F("@ngrx/store Internal Initial State"),gI=new F("@ngrx/store Initial State"),nR=new F("@ngrx/store Reducer Factory"),HA=new F("@ngrx/store Internal Reducer Factory Provider"),rR=new F("@ngrx/store Initial Reducers"),uI=new F("@ngrx/store Internal Initial Reducers"),j7=new F("@ngrx/store Store Features"),zA=new F("@ngrx/store Internal Store Reducers"),U7=new F("@ngrx/store Internal Feature Reducers"),B7=new F("@ngrx/store Internal Feature Configs"),$7=new F("@ngrx/store Internal Store Features"),H7=new F("@ngrx/store Internal Feature Reducers Token"),z7=new F("@ngrx/store Feature Reducers"),qA=new F("@ngrx/store User Provided Meta Reducers"),Sh=new F("@ngrx/store Meta Reducers"),GA=new F("@ngrx/store Internal Resolved Meta Reducers"),WA=new F("@ngrx/store User Runtime Checks Config"),KA=new F("@ngrx/store Internal User Runtime Checks Config"),Ac=new F("@ngrx/store Internal Runtime Checks"),iR=new F("@ngrx/store Check if Action types are unique"),QA=new F("@ngrx/store Root Store Provider"),q7=new F("@ngrx/store Feature State Provider");function E$(t,e={}){let n=Object.keys(t),r={};for(let o=0;o<n.length;o++){let s=n[o];typeof t[s]=="function"&&(r[s]=t[s])}let i=Object.keys(r);return function(s,a){s=s===void 0?e:s;let u=!1,l={};for(let h=0;h<i.length;h++){let p=i[h],m=r[p],y=s[p],C=m(y,a);l[p]=C,u=u||C!==y}return u?l:s}}function D$(t,e){return Object.keys(t).filter(n=>n!==e).reduce((n,r)=>Object.assign(n,{[r]:t[r]}),{})}function oR(...t){return function(e){if(t.length===0)return e;let n=t[t.length-1];return t.slice(0,-1).reduceRight((i,o)=>o(i),n(e))}}function sR(t,e){return Array.isArray(e)&&e.length>0&&(t=oR.apply(null,[...e,t])),(n,r)=>{let i=t(n);return(o,s)=>(o=o===void 0?r:o,i(o,s))}}function b$(t){let e=Array.isArray(t)&&t.length>0?oR(...t):n=>n;return(n,r)=>(n=e(n),(i,o)=>(i=i===void 0?r:i,n(i,o)))}var Rc=class extends re{},Ah=class extends ys{},C$="@ngrx/store/update-reducers",dI=(()=>{class t extends Le{get currentReducers(){return this.reducers}constructor(n,r,i,o){super(o(i,r)),this.dispatcher=n,this.initialState=r,this.reducers=i,this.reducerFactory=o}addFeature(n){this.addFeatures([n])}addFeatures(n){let r=n.reduce((i,{reducers:o,reducerFactory:s,metaReducers:a,initialState:u,key:l})=>{let h=typeof o=="function"?b$(a)(o,u):sR(s,a)(o,u);return i[l]=h,i},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers=P(P({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=D$(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:C$,features:n})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(r){return new(r||t)(V(Ah),V(gI),V(rR),V(nR))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),T$=[dI,{provide:Rc,useExisting:dI},{provide:Ah,useExisting:ys}],mI=(()=>{class t extends ze{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fn(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),S$=[mI],Rh=class extends re{},YA=(()=>{class t extends Le{static{this.INIT=eR}constructor(n,r,i,o){super(o);let a=n.pipe(nn(Gs)).pipe(Yf(r)),u={state:o},l=a.pipe(Ws(A$,u));this.stateSubscription=l.subscribe(({state:h,action:p})=>{this.next(h),i.next(p)}),this.state=aI(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(r){return new(r||t)(V(ys),V(Rc),V(mI),V(gI))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function A$(t={state:void 0},[e,n]){let{state:r}=t;return{state:n(r,e),action:e}}var R$=[YA,{provide:Rh,useExisting:YA}],$i=(()=>{class t extends re{constructor(n,r,i){super(),this.actionsObserver=r,this.reducerManager=i,this.source=n,this.state=n.state}select(n,...r){return N$.call(null,n,...r)(this)}selectSignal(n,r){return Tr(()=>n(this.state()),r)}lift(n){let r=new t(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}static{this.\u0275fac=function(r){return new(r||t)(V(Rh),V(ys),V(dI))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),M$=[$i];function N$(t,e,...n){return function(i){let o;if(typeof t=="string"){let s=[e,...n].filter(Boolean);o=i.pipe(Wf(t,...s))}else if(typeof t=="function")o=i.pipe(W(s=>t(s,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return o.pipe(qf())}}var yI="https://ngrx.io/guide/store/configuration/runtime-checks";function ZA(t){return t===void 0}function JA(t){return t===null}function aR(t){return Array.isArray(t)}function x$(t){return typeof t=="string"}function P$(t){return typeof t=="boolean"}function O$(t){return typeof t=="number"}function cR(t){return typeof t=="object"&&t!==null}function k$(t){return cR(t)&&!aR(t)}function F$(t){if(!k$(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function hI(t){return typeof t=="function"}function L$(t){return hI(t)&&t.hasOwnProperty("\u0275cmp")}function V$(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function j$(t){return t instanceof F?x(t):t}function U$(t){return typeof t=="function"?t():t}function B$(t,e){return t.concat(e)}function $$(){if(x($i,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function H$(t,e){return function(n,r){let i=e.action(r)?fI(r):r,o=t(n,i);return e.state()?fI(o):o}}function fI(t){Object.freeze(t);let e=hI(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&V$(t,n)&&(!e||n!=="caller"&&n!=="callee"&&n!=="arguments")){let r=t[n];(cR(r)||hI(r))&&!Object.isFrozen(r)&&fI(r)}}),t}function z$(t,e){return function(n,r){if(e.action(r)){let o=pI(r);XA(o,"action")}let i=t(n,r);if(e.state()){let o=pI(i);XA(o,"state")}return i}}function pI(t,e=[]){return(ZA(t)||JA(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((r,i)=>{if(r)return r;let o=t[i];return L$(o)?r:ZA(o)||JA(o)||O$(o)||P$(o)||x$(o)||aR(o)?!1:F$(o)?pI(o,[...e,i]):{path:[...e,i],value:o}},!1)}function XA(t,e){if(t===!1)return;let n=t.path.join("."),r=new Error(`Detected unserializable ${e} at "${n}". ${yI}#strict${e}serializability`);throw r.value=t.value,r.unserializablePath=n,r}function q$(t,e){return function(n,r){if(e.action(r)&&!_e.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${yI}#strictactionwithinngzone`);return t(n,r)}}function G$(t){return IC()?P({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function W$({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?z$(n,{action:r=>t&&!vI(r),state:()=>e}):n}function K$({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?H$(n,{action:r=>t&&!vI(r),state:()=>e}):n}function vI(t){return t.type.startsWith("@ngrx")}function Q$({strictActionWithinNgZone:t}){return e=>t?q$(e,{action:n=>t&&!vI(n)}):e}function Y$(t){return[{provide:KA,useValue:t},{provide:WA,useFactory:J$,deps:[KA]},{provide:Ac,deps:[WA],useFactory:G$},{provide:Sh,multi:!0,deps:[Ac],useFactory:K$},{provide:Sh,multi:!0,deps:[Ac],useFactory:W$},{provide:Sh,multi:!0,deps:[Ac],useFactory:Q$}]}function Z$(){return[{provide:iR,multi:!0,deps:[Ac],useFactory:X$}]}function J$(t){return t}function X$(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(lI).filter(([,n])=>n>1).map(([n])=>n);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(n=>`"${n}"`).join(", ")}. ${yI}#strictactiontypeuniqueness`)}function eH(t={},e={}){return[{provide:tR,useFactory:$$},{provide:$A,useValue:e.initialState},{provide:gI,useFactory:U$,deps:[$A]},{provide:uI,useValue:t},{provide:zA,useExisting:t instanceof F?t:uI},{provide:rR,deps:[uI,[new uD(zA)]],useFactory:j$},{provide:qA,useValue:e.metaReducers?e.metaReducers:[]},{provide:GA,deps:[Sh,qA],useFactory:B$},{provide:HA,useValue:e.reducerFactory?e.reducerFactory:E$},{provide:nR,deps:[HA,GA],useFactory:sR},w$,T$,S$,R$,M$,Y$(e.runtimeChecks),Z$()]}function tH(){x(ys),x(Rc),x(mI),x($i),x(tR,{optional:!0}),x(iR,{optional:!0})}var nH=[{provide:QA,useFactory:tH},{provide:pr,multi:!0,useFactory(){return()=>x(QA)}}];function uR(t,e){return jt([...eH(t,e),nH])}function vs(...t){let e=t.pop(),n=t.map(r=>r.type);return{reducer:e,types:n}}function Mh(t,...e){let n=new Map;for(let r of e)for(let i of r.types){let o=n.get(i);if(o){let s=(a,u)=>r.reducer(o(a,u),u);n.set(i,s)}else n.set(i,r.reducer)}return function(r=t,i){let o=n.get(i.type);return o?o(r,i):r}}var Nh=ms("[User] Login",Mc()),xh=ms("[User] LogOut");var Hi=class t{constructor(e,n,r){this.router=e;this.firestore=n;this.store=r;this.user$=this.store.select("user")}user$;ngOnInit(){}getUserByEmail(e){return I(this,null,function*(){let n=Th(this.firestore,"users"),r=iI(n,oI("mail","==",e));try{let i=yield rI(r);return i.empty?(console.log("No se encontr\xF3 ning\xFAn usuario con ese correo."),null):i.docs.map(s=>P({id:s.id},s.data()))[0]}catch(i){throw console.error("Error al obtener el usuario:",i),new Error("No se pudo obtener el usuario")}})}userExistInDatabase(e){return I(this,null,function*(){let n=Th(this.firestore,"users"),r=iI(n,oI("mail","==",e));try{return(yield rI(r)).empty?(console.log("No se encontr\xF3 ning\xFAn usuario con el email:",e),!0):(console.log("Usuario encontrado con el email:",e),!1)}catch(i){return console.error("Error al verificar el usuario: ",i),!1}})}createUser(e){return I(this,null,function*(){let n=Th(this.firestore,"users"),r={name:e.user.displayName,surname:e.user.displayName,mail:e.user.email};try{let i=yield UA(n,r);console.log("Usuario creado correctamente con ID:",i.id)}catch(i){console.error("Error al crear el usuario: ",i)}})}loginWithGoogle(){return I(this,null,function*(){let e=new Py;try{let n=yield bd(qo(),e);(yield this.userExistInDatabase(n.user.email))||(yield this.createUser(n));let i=yield this.getUserByEmail(n.user.email);if(!i)throw new Error("Error en el login.");return console.log("Login exitoso"),this.store.dispatch(Nh({user:i})),i}catch(n){throw console.log("Error en login"),n}})}hasActiveUser(){return qo().currentUser!=null}getActiveUser(){return this.user$}signOut(){qo().signOut(),this.store.dispatch(xh()),this.router.navigateByUrl("")}static \u0275fac=function(n){return new(n||t)(V(jo),V(tn),V($i))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ph=class t{constructor(e){this.userService=e}user;ngOnInit(){this.userService.getActiveUser().subscribe(e=>{this.user=e})}handleClickLogout(){this.userService.signOut()}static \u0275fac=function(n){return new(n||t)(ue(Hi))};static \u0275cmp=Oe({type:t,selectors:[["app-nav"]],standalone:!0,features:[ke],decls:4,vars:0,consts:[[1,"navbar","navbar-light","bg-light"],["href","#",1,"navbar-brand","px-3"],[1,"nav","justify-content-end"]],template:function(n,r){n&1&&(Ee(0,"nav",0)(1,"a",1),Re(2," Global Click "),ye(),at(3,"ul",2),ye())},styles:[".bg-light[_ngcontent-%COMP%]{background-color:var(--color-background-alt)!important;color:var(--color-primary)!important}.navbar-brand[_ngcontent-%COMP%]{color:var(--color-primary)!important}.btn-primary[_ngcontent-%COMP%], .btn-active[_ngcontent-%COMP%]{background-color:var(--color-primary)!important}"]})};var Oh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Oe({type:t,selectors:[["app-footer"]],standalone:!0,features:[ke],decls:3,vars:0,consts:[[2,"margin","0","color","#333"]],template:function(n,r){n&1&&(Ee(0,"footer")(1,"p",0),Re(2," \xA9 2024 Axel Molaro. Todos los derechos reservados. "),ye()())},styles:["footer[_ngcontent-%COMP%]{background-color:var(--color-secondary);padding:20px;text-align:center;border-top:1px solid #e7e7e7;position:relative;bottom:0;width:100%}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--color-primary)!important;font-size:14px}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400}"]})};var rH=["*"],_s=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Oe({type:t,selectors:[["app-layout"]],standalone:!0,features:[ke],ngContentSelectors:rH,decls:3,vars:0,template:function(n,r){n&1&&(sC(),at(0,"app-nav"),aC(1),at(2,"app-footer"))},dependencies:[Ph,Oh]})};var kh=class t{constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Oe({type:t,selectors:[["app-map"]],standalone:!0,features:[ke],decls:0,vars:0,template:function(n,r){}})};var Fh=ms("[Country] Set Countries",Mc()),Lh=ms("[Country] Set Active Country",Mc());var Dn=class t{constructor(e,n,r){this.http=e;this.store=n;this.firestore=r;this.countries$=this.store.select(i=>i.countriesState.countries),this.activeCountry$=this.store.select(i=>i.countriesState.activeCountry)}API="https://restcountries.com/v3.1/all";API_COUNTRIES=`${this.API}`;countries$;activeCountry$;getCountries(){return this.store.select(e=>e.countriesState).pipe(st(e=>!!e),W(e=>e.countries))}getActiveCountry(){return this.store.select(e=>e.countriesState.activeCountry)}setActiveCountry(e){this.store.dispatch(Lh({country:e}))}firstInitCountries(){return I(this,null,function*(){try{let n=(yield this.http.get(this.API_COUNTRIES).toPromise()).map(r=>r.translations.spa.common).filter(Boolean);n=Array.from(new Set(n)),n.map(r=>{this.createCountry({name:r,tappsCount:0})})}catch(e){throw console.error("Error al obtener los pa\xEDses",e),e}})}initCountries(){return I(this,null,function*(){try{let e=Bi(this.firestore,"countries");X_(e,n=>{let r=n.docs.map(i=>P({id:i.id,name:i.data().name},i.data()));this.store.dispatch(Fh({countries:r}))},n=>{console.error("Error al obtener los pa\xEDses",n)})}catch(e){throw console.error("Error al obtener los pa\xEDses",e),e}})}createCountry(e){return I(this,null,function*(){let n=Bi(this.firestore,"countries");try{let r=yield Ch(n,e);console.log("Pais creado correctamente con ID:",r.id)}catch(r){console.error("Error al crear el pais: ",r)}})}static \u0275fac=function(n){return new(n||t)(V(qg),V($i),V(tn))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};var iH=(t,e)=>e.id;function oH(t,e){if(t&1&&(Ee(0,"tr")(1,"th",7),Re(2),ye(),Ee(3,"td"),Re(4),ye(),Ee(5,"td"),Re(6),ye()()),t&2){let n=e.$implicit,r=e.$index;Er(2),hi(r+1),Er(2),hi(n.name),Er(2),hi(n.tappsCount)}}var Vh=class t{constructor(e){this.countryService=e}countries=[];ngOnInit(){this.initCountries()}initCountries(){this.countryService.getCountries().subscribe(e=>{let n=e.slice().sort((r,i)=>(i.tappsCount||0)-(r.tappsCount||0));this.countries=n})}static \u0275fac=function(n){return new(n||t)(ue(Dn))};static \u0275cmp=Oe({type:t,selectors:[["app-table-ofpositions"]],standalone:!0,features:[ke],decls:19,vars:0,consts:[[1,"container-fluid"],[1,"row","mt-3"],[1,"col","text-center","title"],[1,"row"],[1,"col","table-div"],[1,"table","table-dark","mt-3"],["scope","col"],["scope","row"]],template:function(n,r){n&1&&(Ee(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),Re(4,"Tabla de posiciones"),ye()()(),Ee(5,"div",3)(6,"div",4)(7,"table",5)(8,"thead")(9,"tr")(10,"th",6),Re(11,"#"),ye(),Ee(12,"th",6),Re(13,"Pa\xEDs"),ye(),Ee(14,"th",6),Re(15,"Clicks"),ye()()(),Ee(16,"tbody"),El(17,oH,7,3,"tr",null,iH),ye()()()()()),n&2&&(Er(17),Dl(r.countries))},styles:[".table-dark[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{background-color:var(--color-background-alt)!important;color:var(--color-primary)!important}.title[_ngcontent-%COMP%]{color:var(--color-primary)!important}.table-div[_ngcontent-%COMP%]{height:50vh;overflow-x:scroll}"]})};var _R=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(ue(Dr),ue(Ln))}}static{this.\u0275dir=At({type:t})}}return t})(),DI=(()=>{class t extends _R{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fn(t)))(i||t)}})()}static{this.\u0275dir=At({type:t,features:[br]})}}return t})(),Hh=new F("");var sH={provide:Hh,useExisting:ai(()=>IR),multi:!0};function aH(){let t=jn()?jn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var cH=new F(""),IR=(()=>{class t extends _R{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!aH())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(ue(Dr),ue(Ln),ue(cH,8))}}static{this.\u0275dir=At({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ut("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[pa([sH]),br]})}}return t})();var uH=new F(""),lH=new F("");function wR(t){return t!=null}function ER(t){return fi(t)?Ae(t):t}function DR(t){let e={};return t.forEach(n=>{e=n!=null?P(P({},e),n):e}),Object.keys(e).length===0?null:e}function bR(t,e){return e.map(n=>n(t))}function dH(t){return!t.validate}function CR(t){return t.map(e=>dH(e)?e:n=>e.validate(n))}function hH(t){if(!t)return null;let e=t.filter(wR);return e.length==0?null:function(n){return DR(bR(n,e))}}function TR(t){return t!=null?hH(CR(t)):null}function fH(t){if(!t)return null;let e=t.filter(wR);return e.length==0?null:function(n){let r=bR(n,e).map(ER);return Hf(r).pipe(W(DR))}}function SR(t){return t!=null?fH(CR(t)):null}function dR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function pH(t){return t._rawValidators}function gH(t){return t._rawAsyncValidators}function _I(t){return t?Array.isArray(t)?t:[t]:[]}function Uh(t,e){return Array.isArray(t)?t.includes(e):t===e}function hR(t,e){let n=_I(e);return _I(t).forEach(i=>{Uh(n,i)||n.push(i)}),n}function fR(t,e){return _I(e).filter(n=>!Uh(t,n))}var Bh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=TR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=SR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},II=class extends Bh{get formDirective(){return null}get path(){return null}},kc=class extends Bh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},wI=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},mH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},jQ=te(P({},mH),{"[class.ng-submitted]":"isSubmitted"}),AR=(()=>{class t extends wI{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(ue(kc,2))}}static{this.\u0275dir=At({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Og("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[br]})}}return t})();var Nc="VALID",jh="INVALID",Is="PENDING",xc="DISABLED",Es=class{},$h=class extends Es{constructor(e,n){super(),this.value=e,this.source=n}},Pc=class extends Es{constructor(e,n){super(),this.pristine=e,this.source=n}},Oc=class extends Es{constructor(e,n){super(),this.touched=e,this.source=n}},ws=class extends Es{constructor(e,n){super(),this.status=e,this.source=n}};function yH(t){return(zh(t)?t.validators:t)||null}function vH(t){return Array.isArray(t)?TR(t):t||null}function _H(t,e){return(zh(e)?e.asyncValidators:t)||null}function IH(t){return Array.isArray(t)?SR(t):t||null}function zh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var EI=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Tr(()=>this.statusReactive()),this.statusReactive=di(void 0),this._pristine=Tr(()=>this.pristineReactive()),this.pristineReactive=di(!0),this._touched=Tr(()=>this.touchedReactive()),this.touchedReactive=di(!1),this._events=new ze,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Vn(this.statusReactive)}set status(e){Vn(()=>this.statusReactive.set(e))}get valid(){return this.status===Nc}get invalid(){return this.status===jh}get pending(){return this.status==Is}get disabled(){return this.status===xc}get enabled(){return this.status!==xc}get pristine(){return Vn(this.pristineReactive)}set pristine(e){Vn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Vn(this.touchedReactive)}set touched(e){Vn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fR(e,this._rawAsyncValidators))}hasValidator(e){return Uh(this._rawValidators,e)}hasAsyncValidator(e){return Uh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(te(P({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Oc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Oc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(te(P({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Pc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Pc(!0,r))}markAsPending(e={}){this.status=Is;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ws(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(te(P({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=xc,this.errors=null,this._forEachChild(i=>{i.disable(te(P({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $h(this.value,r)),this._events.next(new ws(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(P({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Nc,this._forEachChild(r=>{r.enable(te(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(P({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nc||this.status===Is)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $h(this.value,n)),this._events.next(new ws(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(te(P({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xc:Nc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Is,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=ER(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ws(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?xc:this.errors?jh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Is)?Is:this._anyControlsHaveStatus(jh)?jh:Nc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Pc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Oc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=vH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=IH(this._rawAsyncValidators)}};var RR=new F("CallSetDisabledState",{providedIn:"root",factory:()=>bI}),bI="always";function wH(t,e){return[...e.path,t]}function EH(t,e,n=bI){bH(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),CH(t,e),SH(t,e),TH(t,e),DH(t,e)}function pR(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function DH(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function bH(t,e){let n=pH(t);e.validator!==null?t.setValidators(dR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=gH(t);e.asyncValidator!==null?t.setAsyncValidators(dR(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();pR(e._rawValidators,i),pR(e._rawAsyncValidators,i)}function CH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&MR(t,e)})}function TH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&MR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function MR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function SH(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function AH(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function RH(t){return Object.getPrototypeOf(t.constructor)===DI}function MH(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===IR?n=o:RH(o)?r=o:i=o}),i||r||n||null}function gR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function mR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var NH=class extends EI{constructor(e=null,n,r){super(yH(n),_H(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(mR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xH={provide:kc,useExisting:ai(()=>CI)},yR=Promise.resolve(),CI=(()=>{class t extends kc{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new NH,this._registered=!1,this.name="",this.update=new Ge,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=MH(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),AH(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){EH(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){yR.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Tl(r);yR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?wH(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(ue(II,9),ue(uH,10),ue(lH,10),ue(Hh,10),ue(pi,8),ue(RR,8))}}static{this.\u0275dir=At({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[pa([xH]),br,So]})}}return t})();var PH={provide:Hh,useExisting:ai(()=>qh),multi:!0};function NR(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function OH(t){return t.split(":")[0]}var qh=(()=>{class t extends DI{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=NR(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=OH(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fn(t)))(i||t)}})()}static{this.\u0275dir=At({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ut("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[pa([PH]),br]})}}return t})(),xR=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(NR(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(ue(Ln),ue(Dr),ue(qh,9))}}static{this.\u0275dir=At({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),kH={provide:Hh,useExisting:ai(()=>PR),multi:!0};function vR(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function FH(t){return t.split(":")[0]}var PR=(()=>{class t extends DI{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=FH(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fn(t)))(i||t)}})()}static{this.\u0275dir=At({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ut("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[pa([kH]),br]})}}return t})(),OR=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(vR(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(vR(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(ue(Ln),ue(Dr),ue(PR,9))}}static{this.\u0275dir=At({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var LH=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_r({type:t})}static{this.\u0275inj=vr({})}}return t})();var kR=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:RR,useValue:n.callSetDisabledState??bI}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_r({type:t})}static{this.\u0275inj=vr({imports:[LH]})}}return t})();var Ds=class t{constructor(e,n){this.countryService=e;this.firestore=n}incrementClickCount(e){return I(this,null,function*(){let n=Bi(this.firestore,"countries"),r=Eh(n,Dh("name","==",e)),i=yield bh(r);if(i.empty){let o={name:e,tappsCount:1};yield this.countryService.createCountry(o)}else i.forEach(o=>I(this,null,function*(){let s=wh(this.firestore,`countries/${o.id}`);yield J_(s,{tappsCount:eI(1)}),console.log("Campo count incrementado con \xE9xito en el documento:",o.id)}))})}static \u0275fac=function(n){return new(n||t)(V(Dn),V(tn))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};var jH=(t,e)=>e.name;function UH(t,e){if(t&1&&(Ee(0,"option",1),Re(1),ye()),t&2){let n=e.$implicit;kg("value",n.name),Er(),hi(n.name)}}function BH(t,e){t&1&&(Ee(0,"option"),Re(1,"There are no items."),ye())}var Gh=class t{constructor(e,n){this.countryService=e;this.tapService=n}countries=[];selectedCountry="Argentina";ngOnInit(){return I(this,null,function*(){yield this.countryService.initCountries(),this.countryService.getCountries().subscribe(e=>{this.countries=e,console.log(e)}),this.initActiveCountry()})}initActiveCountry(){this.countryService.getActiveCountry().subscribe(e=>{this.selectedCountry=e?e?.name:"Argentina"})}handleSelect(){let e=this.countries.find(n=>n.name===this.selectedCountry);this.countryService.setActiveCountry(e)}static \u0275fac=function(n){return new(n||t)(ue(Dn),ue(Ds))};static \u0275cmp=Oe({type:t,selectors:[["app-select-country"]],standalone:!0,features:[ke],decls:4,vars:2,consts:[[1,"form-control","form-control-lg",3,"ngModelChange","change","ngModel"],[3,"value"]],template:function(n,r){n&1&&(Ee(0,"select",0),Lg("ngModelChange",function(o){return lC(r.selectedCountry,o)||(r.selectedCountry=o),o}),Ut("change",function(){return r.handleSelect()}),El(1,UH,2,2,"option",1,jH,!1,BH,2,0,"option"),ye()),n&2&&(Fg("ngModel",r.selectedCountry),Er(),Dl(r.countries))},dependencies:[kR,xR,OR,qh,AR,CI]})};var Wh=class t{constructor(e,n){this.tapService=e;this.countryService=n}activeCountry="Argentina";audioSrc="https://firebasestorage.googleapis.com/v0/b/globalclick-app.appspot.com/o/app%2Ftap.mp3?alt=media&token=8f302ce3-0265-46e6-bdb6-cb0b52204bec";ngOnInit(){this.countryService.getActiveCountry().subscribe(e=>{this.activeCountry=e?.name?e.name:this.activeCountry})}handleTap(){this.tapService.incrementClickCount(this.activeCountry),this.playSound()}playSound(){let e=new Audio;e.src=this.audioSrc,e.load(),e.play().catch(n=>console.log("Error al reproducir sonido:",n))}static \u0275fac=function(n){return new(n||t)(ue(Ds),ue(Dn))};static \u0275cmp=Oe({type:t,selectors:[["app-tapper"]],standalone:!0,features:[ke],decls:4,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col","tap",3,"click"]],template:function(n,r){n&1&&(Ee(0,"div",0)(1,"div",1)(2,"div",2),Ut("click",function(){return r.handleTap()}),Re(3," TAP "),ye()()())},styles:[".tap[_ngcontent-%COMP%]{display:inline-block;display:flex;justify-content:center;align-items:center;height:30vh;background-color:#ff4b4b;color:#fff;font-size:24px;border-radius:10px;cursor:pointer;transition:transform .2s ease,background-color .2s ease}.tap[_ngcontent-%COMP%]:active{animation:_ngcontent-%COMP%_clickAnimation .5s ease forwards}@keyframes _ngcontent-%COMP%_clickAnimation{0%{transform:scale(1);background-color:#fd7e7e}50%{transform:scale(1.2);background-color:#f85454}to{transform:scale(1);background-color:#ff4b4b}}"]})};var Kh=class t{audio=new Audio;constructor(){this.setAudio()}ngOnInit(){this.playSound()}setAudio(){this.audio.src="https://firebasestorage.googleapis.com/v0/b/globalclick-app.appspot.com/o/app%2Fmusica.mp3?alt=media&token=875ffb51-ce90-455b-9f66-2fdde959061b",this.audio.load()}playSound(){this.audio.play().catch(e=>console.log("Error al reproducir sonido:",e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Oe({type:t,selectors:[["app-home"]],standalone:!0,features:[ke],decls:12,vars:0,consts:[[1,"home","container-fluid"],[1,"row"],[1,"col-md-8","offset-md-2"],[1,"select-label"]],template:function(n,r){n&1&&(Ee(0,"app-layout")(1,"section",0)(2,"div",1)(3,"div",2),at(4,"br"),Ee(5,"h3",3),Re(6,"Luchar\xE9 por "),ye(),at(7,"app-select-country")(8,"br")(9,"app-tapper")(10,"app-table-ofpositions"),ye()()(),at(11,"app-map"),ye())},dependencies:[_s,Vh,kh,Gh,Wh],styles:[".home[_ngcontent-%COMP%]{background-color:var(--color-secondary);width:100%;height:100vh}.image-banner[_ngcontent-%COMP%]{width:100vw;min-height:35vh;background-size:100%;background-position:center;background-image:url(https://firebasestorage.googleapis.com/v0/b/globalclick-app.appspot.com/o/app%2Fglobalclick.png?alt=media&token=25ae1e50-3e8d-4389-9ff1-9bf30751751b)}.select-label[_ngcontent-%COMP%]{color:var(--color-primary)}"]})};var Qh=class t{constructor(e,n,r){this.userService=e;this.countryService=n;this.router=r}ngOnInit(){this.suscribeToUserStore()}suscribeToUserStore(){this.userService.getActiveUser().subscribe(e=>{e&&this.router.navigateByUrl("")},e=>{console.log(e)})}loginWithGoogle(){return I(this,null,function*(){try{yield this.userService.loginWithGoogle()}catch(e){console.log(e)}})}static \u0275fac=function(n){return new(n||t)(ue(Hi),ue(Hi),ue(jo))};static \u0275cmp=Oe({type:t,selectors:[["app-login"]],standalone:!0,features:[ke],decls:16,vars:0,consts:[[1,"login","container-fluid"],[1,"main-login"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"row","text-center"],[1,"col"],[1,"iconos-redes","mt-3"],[1,"option"],["src","https://i.blogs.es/dc6737/unnamed/650_1200.png","alt","",3,"click"],[1,"option","mt-2"],["src","https://cdn-icons-png.flaticon.com/256/124/124010.png","alt",""]],template:function(n,r){n&1&&(Ee(0,"app-layout")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h3"),Re(8,"Ingresa"),ye()()(),Ee(9,"div",6)(10,"div",7)(11,"img",8),Ut("click",function(){return r.loginWithGoogle()}),ye(),Re(12," Ingrese con google "),ye(),Ee(13,"div",9),at(14,"img",10),Re(15," Ingrese con facebook "),ye()()()()()()())},dependencies:[_s],styles:[".login[_ngcontent-%COMP%]{height:80vh;width:100vw;justify-content:center;align-items:center;display:flex;background-color:var(--color-secondary)}.main-login[_ngcontent-%COMP%]{height:30vh;width:20vw;background-color:var(--color-background-alt);color:var(--color-highlight)}.iconos-redes[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:column;width:100%;height:160px}.iconos-redes[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{cursor:pointer;height:80px;width:300px}img[_ngcontent-%COMP%]{width:80px}"]})};var FR=[{path:"",component:Kh},{path:"login",component:Qh}];var LR={production:!1,firebaseConfig:{apiKey:"AIzaSyCGfZel3mf-mhVtIwEp6ovuggWjFmserSQ",authDomain:"globalclick-app.firebaseapp.com",projectId:"globalclick-app",storageBucket:"globalclick-app.appspot.com",messagingSenderId:"550933643016",appId:"1:550933643016:web:7dc8009cbf3015c92436bd"}};var $H=null,VR=Mh($H,vs(Nh,(t,{user:e})=>P({},e)),vs(xh,()=>null));var HH={countries:[],activeCountry:null},jR=Mh(HH,vs(Fh,(t,{countries:e})=>te(P({},t),{countries:[...e]})),vs(Lh,(t,{country:e})=>te(P({},t),{activeCountry:e})));var UR={providers:[vC({eventCoalescing:!0}),NT(FR),K0(()=>rd(LR.firebaseConfig)),jA(()=>BA()),UC(),uR({user:VR,countriesState:jR})]};var Yh=class t{title="globalClick";ngOnInit(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Oe({type:t,selectors:[["app-root"]],standalone:!0,features:[ke],decls:1,vars:0,template:function(n,r){n&1&&at(0,"router-outlet")},dependencies:[xm]})};KC(Yh,UR).catch(t=>console.error(t));
